syntax = "proto3";
option csharp_namespace = "Siesa.SDK.Protos";
import "Protos/BusinessMessages.proto";

service GRPCBackendManagerService {
  rpc RegisterBackend (RegisterBackendRequest) returns (RegisterBackendResponse);
  rpc GetBackend (GetBackendRequest) returns (GetBackendResponse);
  rpc GetBackends (GetBackendsRequest) returns (GetBackendsResponse);
  rpc IsBackendRegistered (IsBackendRegisteredRequest) returns (IsBackendRegisteredResponse);
  rpc GetBackendByBusinessName (GetBackendByBusinessNameRequest) returns (GetBackendResponse);
}

message BackendInfo {
  string backend_name = 1;
  string backend_url = 2;
  repeated BusinessModel businesses = 3;
}

message RegisterBackendRequest {
  BackendInfo backend_info = 1;
}

message RegisterBackendResponse {
}

message GetBackendRequest {
  string backend_name = 1;
}

message GetBackendResponse {
  BackendInfo backend_info = 1;
}

message GetBackendsRequest {
}

message GetBackendsResponse {
  repeated BackendInfo backends = 1;
}

message IsBackendRegisteredRequest {
  string backend_name = 1;
}

message IsBackendRegisteredResponse {
  bool is_registered = 1;
}

message GetBackendByBusinessNameRequest {
  string business_name = 1;
}

