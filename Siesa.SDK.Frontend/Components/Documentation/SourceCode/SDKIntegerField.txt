@using Siesa.SDK.Frontend.Components.Fields
@using Siesa.SDK.Frontend.Components.Visualization
@using Siesa.SDK.Components.Visualization
@using System.Globalization
@inject SDKNotificationService Notification

@layout EmptyLayout

<div class="container-flui">
    <div class="container-fluid">
            <h2>SDKIntegerField</h2> 
            <p>Demonstration and configuration of the SDKIntegerField component</p> 
    </div>
    <div class="row px-3"> 
        <div class="col-md-6 p-3">
            <SDKCard>
                <h3>Default</h3>
                <SDKIntegerField @bind-Value="@intValue"/>
                <p class="demo-text cw-320 mt-2">
                    Value: <b>@intValue</b>
                </p>
            </SDKCard>
        </div>

        <div class="col-md-6 p-3">
            <SDKCard>
                <h3>Integer Field MaxLength(3)</h3>
                <SDKIntegerField @bind-Value="@intValue2" MaxLength="5"/>
                <p class="demo-text cw-320 mt-2">
                    Value: <b>@intValue2</b>
                </p>
            </SDKCard>
        </div>
        <div class="col-md-6 p-3">
            <SDKCard>
                <h3>ReadOnly</h3>
                <SDKIntegerField @bind-Value="@intValue3" ReadOnly="true"/>
                <p class="demo-text cw-320 mt-2">
                    Value: <b>@intValue3</b>
                </p>
            </SDKCard>
        </div>
        <div class="col-md-6 p-3">
            <SDKCard>
                <h3>Apply a Mask</h3>
                <SDKIntegerField @bind-Value="@Price"
                            Mask="@NumericMaskValue" Culture="MaskCultureInfo.Value"/>

                <p class="demo-text cw-320 mt-2">
                    Price: <b>$ @Price</b>
                </p>
            </SDKCard>
        </div>
        <div class="col-md-6 p-3">
            <SDKCard>
                <h3>Integer Value Change</h3>
                <SDKIntegerField Value="@valueChange"
                            Mask="@NumericMaskValue" Culture="MaskCultureInfo.Value" 
                            ValueChanged="((value) => Onchange(value))"/>

                <p class="demo-text cw-320 mt-2">
                    Price: <b>$ @valueChange</b>
                </p>
            </SDKCard>
        </div>
    </div>
</div>


@code {
    public int intValue { get; set; } = 15;

    public int intValue2 { get; set; }
    public int intValue3 { get; set; }
    int Price { get; set; }

    int valueChange;
    CultureInfoItem MaskCultureInfo { get; set; } = CultureInfoItems.FirstOrDefault();
    string NumericMaskValue { get; set; } = NumericMask.Currency;

    
    class CultureInfoItem {
        public CultureInfo Value { get; set; }
        public string Text { get; set; }

        public override string ToString() { return Text; }
    }
    static CultureInfoItem[] CultureInfoItems { get; set; } = new CultureInfoItem[] {
        new CultureInfoItem() { Value = CultureInfo.GetCultureInfo("en-US"), Text = "American English" },
        new CultureInfoItem() { Value = CultureInfo.GetCultureInfo("de-DE"), Text = "German" },
    };

    public int Onchange(int value){

        valueChange = value;
        Notification.ShowWarning("This price changed "+$"$ {valueChange}");

        return valueChange;  
    }
    
}