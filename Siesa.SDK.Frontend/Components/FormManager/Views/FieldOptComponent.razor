@using Siesa.SDK.Frontend.Components.FormManager.ViewModels

<DynamicField FieldOpt="@Column" ModelObj="@Data" />

@code
{
    [Parameter]
    public dynamic Data { get; set; }
    [Parameter]
    public FieldOptions Column { get; set; }
    [CascadingParameter]
    public FormView FormView { get; set; }
    
    protected override async Task OnParametersSetAsync()
    {
        bool shouldUpdate = false;
        shouldUpdate = await FormView.UpdateCustomAttr(Column, true, Data).ConfigureAwait(false);
        if (shouldUpdate)
        {
            await InvokeAsync(StateHasChanged).ConfigureAwait(false);
        }
        await base.OnParametersSetAsync().ConfigureAwait(true);
    }
}
