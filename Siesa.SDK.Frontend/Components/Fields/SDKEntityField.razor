
<div class="input-group input-group-sm whcm_select_box">
    <input type="text" class="form-control" @onfocus="@OnFocus" value="@Value" @oninput="@(e => OnChangeValue(e.Value.ToString()))" @onchange="@(e => OnChangeValue(e.Value.ToString()))" @onkeydown="@OnKeyDown">
    <div class="input-group-append">
        <button class="btn whcm-btn-outline" type="button" data-toggle="tooltip" data-placement="top" title="Buscar"><i class="fa-solid fa-magnifying-glass"></i></button>
        <button class="btn whcm-btn-outline" type="button" data-toggle="tooltip" data-placement="top" title="Crear"><i class="fa-solid fa-circle-plus"></i></button>
    </div>
    <div class="@classList">
        <ul>
            @if(CacheData.Count()>0){
                foreach (var item in CacheData)
                {
                    <li class="d-flex justify-content-between" @onclick="@(()=>OnSelectItem(item.Value))">
                        <div class="d-flex align-items-center">
                            @if(FieldTemplate == 2){
                                <div class="whcm_select_list_img">
                                    <img src="" height="36px" alt="imagen">
                                </div>
                            }
                            <div class="ml-1">
                                <p class="font_size_087 m-0 font-weight-bold"><span>@item.Value.ToString()</span></p>
                                @if(RelatedParams != null && RelatedParams.ExtraFields.Count()>0){
                                    foreach (var field in RelatedParams.ExtraFields)
                                    {
                                        string paramValue = GetParamValue(field, item.Value);
                                        string resourceTag = item.Value.GetType().Name + "." + field;
                                                                                
                                        <p class="font_size_087 m-0"><span><ResourceViewer ResourceTag="@resourceTag" RowidCulture="@RowidCulture"/>:</span> <span>@paramValue</span></p>
                                    }
                                }
                            </div>
                        </div>
                        <div>
                            <button class="btn btn-sm layout_btn_standar-sm" data-toggle="tooltip" data-placement="top" title="Ampliar">
                                <i class="fa-solid fa-up-right-and-down-left-from-center"></i>
                            </button>
                        </div>
                    </li>                    
                }
            }
        </ul>
    </div>
</div>

@code
{
    
}