@using Siesa.SDK.Frontend.Components.Fields
@using Siesa.SDK.Frontend.Components.Fields.Models
@using SDK.Siesa.SDK.Frontend.Components.Visualization

@inject IAuthenticationService AuthenticationService
@inject SDKNotificationService NotificationService



<div class="container-fluid">
    <div class="row p-3">
        <div class="col-12"><h2>Forgot Password</h2></div>
    </div>
    <div class="row px-3 mt-3"> 
        <div class="col-md-6 p-3 ">
            <EditForm OnValidSubmit="HandleValidSubmit" OnInvalidSubmit="HandleInvalidSubmit" >
                <SDKCharField Placeholder="Digite Correo de Recuperacion" @bind-Value="@EmailRecovery"></SDKCharField>
            </EditForm>
        </div>
    </div>
</div>

@code{

    private string EmailRecovery { get; set; }

    private async void HandleValidSubmit()
    {
        var result = await AuthenticationService.ForgotPasswordAsync("email");
        if (result.Succeeded)
        {
            NotificationService.ShowSuccess("Se ha enviado un correo de recuperacion");
        }
       
    }

    private async void HandleInvalidSubmit()
    {
        NotificationService.ShowError("Error");
    }

}
