{"version":3,"sources":["storage/actions.js","constants.js","Utils.js","components/SourceTree.js","components/Visualization/ResourceViewer.js","components/Visualization/SDKIcon.js","components/ConfigModal.js","components/Chart.js","images/empty_dash.svg","components/ColorPicker.js","components/ChartsModal.js","components/TableCells/Link.js","components/TableCells/Currency.js","storage/thunkActions.js","components/TableCells/Actions/ButtonActionsComponent.js","components/TableCells/Actions/ActionsComponent.js","components/TableCells/Actions/ActionsFunction.js","components/TableFooter.js","components/Table.js","components/Sidebar/FieldOptions/FieldOptionsColumns.js","components/Fields/ForeignKey.js","components/Sidebar/FieldOptions/FieldOptionsFilters.js","components/Sidebar/FieldOptions/FieldOptionsGroups.js","components/Sidebar/DraggableField.js","components/Sidebar/FieldsContainer.js","components/Formula/CustomAceBehaveaurt.js","components/FormulaModal.js","components/Sidebar/Sidebar.js","components/ZoomChartModal.js","components/ChartContainer.js","images/empty_report.svg","components/EmptyState.js","components/Dashlet.js","App.js","serviceWorker.js","storage/reducers.js","index.js"],"names":["setSortColumns","column","values","dispatch","type","Promise","resolve","fetchPreviewDataPending","timeout_id","fetchPreviewDataSuccess","data","updatePreviewData","getConfigError","error","addField","section","field","removeField","index","zoomChart","chart_def","setDraggingField","dragging","moveField","result","toggleChartsModal","dashlet_id","updateSectionItem","item_index","property","value","saveDataSuccess","saveDataError","updateObjectProperty","object_name","applyTableFilter","setEditChartIndex","chart_index","setIsOpenModalFormula","isOpen","payload","setModeModalFormula","mode","setEditModeDataModalFormula","edit_mode_data","setIndexModalFormula","emptyDesciptionObj","formulaDescriptions","charFieldMeta","integerFieldMeta","floatFieldMeta","dateTimeFieldMeta","dateFieldMeta","booleanFieldMeta","resetStateFormulaModal","cloneDeep","monthsMap","getJSONAttribute","element","attr_name","default_value","JSON","parse","getAttribute","formatFieldParameter","field_path","field_name","toLowerCase","list_path","split","length","shift","join","updateFieldKeyName","field_list","key_name","path","name","arrayEval","array","console","log","getSelectedGroupedOption","current_value","options","find","e","isValidDate","d","Date","isNaN","numberFormat","num","digits","large_format","i","si","symbol","toFixed","replace","isDate","dateStr","moment","isValid","month","getMonth","year","getFullYear","dateAddFact","period","amount","add","format","addDay","addMonth","addYear","dateSubstractFact","subtract","substractDay","substractMonth","substractYear","diffFact","dateStrA","dateStrB","diff","diffDays","diffMonths","diffYears","testFn","isEmptyObj","obj","Object","keys","val","reduceToObj","curr","generateString","s","Array","map","charAt","Math","floor","random","generateSample","sample","formulasLib","props","getMonthLabel","number","get","date","getDate","day","getDay","hour","getHours","minute","getMinutes","toString","padStart","getDatePart","startOf","getTimePart","dateAdd","now","changeFormat","SLUG","str","from","to","l","RegExp","SDKNotification","message","window","SDKDotNetHelper","invokeMethodAsync","ErrorsWindow","errors","startsWith","errorMatch","match","errorStr","push","UtilManager","resourceTag","Dexie","open","db","culture","sdkFlexCulture","table","toCollection","first","rowidCulture","id","ResourcesDetail","ResourceFlex","resources","where","idCulture","idResource","description","_resourceTag","cultureId","columns","dataMap","key","splitPath","slice","SourceTree","getInitialStateBaseSource","initial","report_header_data","metadata","treeData","checkedKeys","checked","expandedKeys","selected_module_info","halfChecked","modules_list","class_name","selected_class","indexOf","getFieldList","a","get_new","node","findPathInTree","state","loadBranch","catch","label","breadcrumbs_label","onCheck","fields","keys_list","forEach","element_list","lastIndexOf","substr","el","sort","element_fields","setState","updateFieldList","onExpand","tree","parent","children","tmp","onClickLoad","treeNode","b","c","eventKey","labelNode","Label_Loading","_getResource","fetchingData","finally","fetch","method","credentials","headers","body","stringify","then","res","json","status","relationships","fk_name","SuccessFlex","ShowError","ErrorsFlex","err","new_props","this","is_create_edit","first_node_disabled","treeNodes","loop","undefined","item","disabled","content","showChildren","disableNode","disableCheckbox","title","isLeaf","module_info","checkable","showIcon","selectable","autoExpandParent","loadData","checkStrictly","Component","connect","general","updateObjectPropertyAction","ResourceViewer","text","GetResource","getText","prevProps","React","SDKIcon","iconStyle","substring","preference_style","iconClass","getClass","className","onClick","ConfigModal","onChangeSource","onHandleChange","class_path","module","cleanPreviewData","bind","toggleConfigModal","users_list","show_config_modal","groups","roles_list","filters","module_class_list","teams_list","x","Modal","scrollable","centered","size","toggle","ModalHeader","ModalBody","Form","Row","form","Col","md","FormGroup","Label","for","Input","onChange","target","isDisabled","ModalFooter","Button","color","OpalChart","colors_scheme","groupData","replaces","is_preview","operator","line_series","acum_dict","xaxis","xaxis_oreports_key","type_with_value","use_value_field","value_field","yaxis","row","xaxis_argument","xaxis_argument_oreports_key","Number","colorIndex","yaxis_agurment","min","max","row_key","attr_key","hasOwnProperty","isArray","reduce","return_data","order_options_value","filter","row1","row2","index1","index2","Infinity","onPointClick","info","agurment_field","applyFilter","argument","series","getArgumentField","onLegendClick","compareValues","order","varA","toUpperCase","varB","comparision","getComputedStyle","document","documentElement","getPropertyValue","isEqual","loading","isZoomed","axis_options","field_type","concat","chart_type","is_line_type","chart_props","dataSource","tooltip","enabled","legend","visible","valueField","argumentField","ignoreEmptyPoints","yaxis_option","customizeTooltip","large_number","originalValue","txt","argumentText","seriesName","chart_component","font","connector","width","arg","percent","margin","horizontalAlignment","verticalAlignment","serie","ref","chartRef","sortData","algorithm","backgroundColor","customizeText","formated_number","chart_value","value_type","style","background_color","text_color","nameField","type_value_x","colSorter","isSorter","sortType","dataSorted","charts_data","_extends","assign","arguments","source","prototype","call","apply","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","transform","opacity","fill","_ref","svgRef","height","viewBox","ForwardRef","forwardRef","ColorPicker","handleClick","displayColorPicker","handleClose","handleChange","hex","defaultColor","render_color","styles","reactCSS","borderRadius","background","swatch","padding","boxShadow","display","cursor","popover","position","zIndex","cover","top","right","bottom","left","charts_options","operator_options","ChartsModal","getOptionsEnums","selectfield_params","order_options","enum","list_name","fieldDef","onSave","edit_chart_index","editChart","addChart","closeModal","initial_state","chart_list","show_charts_modal","yaxis_props","items","yaxis_label","bsSize","isMulti","toggleChartsModalAction","LinkCell","cellData","field_link","dataField","field_module","related_module_name","field_id","dataType","href","rel","CurrencyCell","save","close_window","getState","current_state","visible_users","visible_roles","visible_on_module","module_path","owner_id","owner_team_id","is_list_view","bl_name_list","columns_changed","viewdef_name","delta","ShowSuccess","new_url","location","fetchData","url","params","data_always","has_search","rowid","fieldsMapTypes","option","formulaColumns","col","customFn","enumColumns","calculatedColumnsNames","calculatedColumnsFormulas","formula","normalizeFormula","not_use","operand","parseRes","calculatedColumns","itemContext","contextAsScope","Function","enumColumnsValues","id_enum","fetchPreviewDataError","fetchPreviewData","timeout_data_id","clearTimeout","regularColumns","filter_search","server_pagination","skip","take","current_record","timeoutData","setTimeout","ButtonActionsComponent","hide","onCustomAction","initButton","guid","dotnethelpersListView","Rowid","response","store","fetchParams","dotnethelperListView","MapData","icon","data-automation-id","column_rowid","ActionsComponent","dispatchFetchPreviewData","can_edit_list_view","can_delete_list_view","can_detail_list_view","action_icons","onEdit","onDetail","onDelete","dataStr","hidden","ActionsFunction","TableFooter","footer_total","config","defaultCurrency","Table","onContentReady","dataGridRef","instance","filterExpr","getCombinedFilter","gridDataSource","DataSource","preview_data","paginate","self","load","done","setChartsData","onSelectionChanged","selectedRowsData","getModuleName","module_name","modules_by_path","getColumns","fields_hidden_list","show_actions","number_types","all_columns","table_columns","footer_columns","group_footer_columns","column_props","minWidth","caption","cellTemplate","allowSorting","allowFiltering","allowSearch","allowExporting","includes","precision","decimal_places","group_index","findIndex","aggregate","obj_data","valueText","showInGroupFooter","alignByColumn","summaryType","valueFormat","showInColumn","onOptionChanged","fullName","endsWith","getIndex","exportToExcel","excelName","cancel","fileName","rtlEnabled","selectedRowsOnly","component","onExporting","locale","loadMessages","esMessages","loadingTag","getDevCustomStore","app_id","table_filters","columnOption","nextProps","fetchPreviewDataAction","new_state","beginCustomLoading","endCustomLoading","workbook","Workbook","worksheet","addWorksheet","exportDataGrid","xlsx","writeBuffer","buffer","saveAs","Blob","is_multiple","remoteOperations","data_source","dev_custom_store","elementAttr","allowColumnReordering","showBorders","rowAlternationEnabled","columnAutoWidth","wordWrapEnabled","defaultPageSize","render","Actions","showCheckBoxesMode","customStore","CustomStore","loadOptions","change_filter_search","selector","desc","getDevCustomStoreAction","column_options","GetResourceColumOption","ColumnOptions","_resourceLabel","FieldOptions","isCreateEdit","Badge","dispatchSetModeModalFormula","dispatchSetIndexModalFormula","dispatchSetEditModeDataModalFormula","getElementsByClassName","parentNode","classList","dispatchSetIsOpen","placeholder","check","inline","URL_PREFIX","Option","selectProps","labelKey","valueKey","keysData","valuesData","k","labelFld","valFld","customStyles","indicatorSeparator","base","ForeignKey","getOptions","input","agent","promiseOptions","inputValue","openWindowSearch","fieldName","url_search_window","noOptionsMessage","dropdownIndicator","innerProps","innerRef","selected_operator","operatorMulti","msg","storeValue","altThis","addEventListener","event","fieldId","valueEvent","newValue","stateValue","storeSection","optionvalue","_str_name","filterString","fieldClass","class","fieldLabel","printLabel","fieldPlaceHolder","placeHolder","pure_field","pureField","field_jsx","cacheOptions","isClearable","filterOptions","hackFilterOptions","autoload","components","DropdownIndicator","getOptionLabel","getOptionValue","opt","ignoreAccents","boolean_options","date_fields_to","date_fields_from_type_date","date_fields_from_type_input","enum_options","filter_options","equal_from","filter_disabled","allow_edit","default_from_component","default_to_component","date_value","toDate","selected","dateFormat","showTimeSelect","showTimeSelectOnly","timeFormat","timeIntervals","timeCaption","date_value_to","choices","modifiers","preventOverflow","flip","DraggableField","onRemove","isDragDisabled","fld_options","FieldOptionsGroups","FieldOptionsFilters","FieldOptionsColumns","draggableId","provided","snapshot","draggableProps","dragHandleProps","UncontrolledPopover","placement","trigger","delay","fade","PopoverBody","Container","innerref","cProps","FieldsContainer","selected_option","notitle","titleButton","is_editing","classes","click","classIcon","droppableId","droppableProps","drawField","DocCommentHighlightRules","ace","acequire","CustomHighlightRules","keyword_regex","keywordMapper","createKeywordMapper","escapedRe","identifierRe","$rules","token","regex","next","getStartRule","defaultToken","getTagRule","caseInsensitive","TextHighlightRules","CustomMode","HighlightRules","Mode","FormulaModal","addToFormula","onAddField","onHandleChangeFn","modalFormulaMode","modalFormulaEditModeData","fnOption","generateName","columnNames","formulaBuildError","regularColumnsNames","normFormula","typeOperand","resultType","resultFormula","Error","something","getType","metaType","buildMeta","dispatchUpdateSectionItem","fieldMeta","dispatchAddField","selection","cursorPosition","textBeforeCursor","doc","$lines","lastName","pop","replaceAll","formulaHelper","modalFormulaisOpen","theme","onLoad","editor","customMode","session","setMode","functions","staticWordCompleter","getCompletions","pos","prefix","callback","word","examples","printFormula","meta","langTools","setCompleters","setAutocomplete","onHandleChangeEditor","onCursorChange","detectFunctions","fontSize","setOptions","enableBasicAutocompletion","showLineNumbers","enableLiveAutocompletion","showPrintMargin","showGutter","highlightActiveLine","marginRight","listStyle","fontFamily","syntax","Alert","example","modalFormula","Sidebar","toggleCollapse","setEditListFlex","prevState","collapse","openEditFormula","actionSaveFlex","dispatchSave","filterFieldList","excluded_keys","new_options","current_tab","change_tab","new_index","abs","added_fields","onClickIcon","ZoomChartModal","zoomed_chart_def","toggleZoomChartModal","show_table","in_modal","ChartContainer","chartGuid","getGuid","show_undo","undo_field","removeChart","stroke","strokeWidth","rx","y","EmptyState","isListView","Dashlet","App","show_modal_dashlet","initialize","fetchMainConfig","toggleZoomDashlet","setCurrentView","is_ajax","ajax_show_all","charts","chart_item","editFromDashlet","render_component","onDragEnd","onDragStart","startDragging","fluid","dashlet_title","detail_name","modal_header","close","saving","current_view","flex_filters","saveAction","setSearchListFlex","fieldsHiddenListString","updateFieldsHide","updateFilters","Boolean","hostname","onMoveField","destination","newState","start","finish","field_obj","splice","indexColumn","newPosition","formula_changed","action","reducers","combineReducers","tmp_list","columnsChanged","removeIndex","indexPosition","select_list","intexData","filter_list","group_list","fieldsHiddenList","current_filter","newE","mountOReportsReact","toArray","ELEMENT","getElementById","base_obj_id","current_user_id","operator_list","chart_error","defaultJSONParse","initialState","parseInt","middlewares","thunk","createStore","composeWithDevTools","applyMiddleware","ReactDOM","unmountOReportsReact","oreports_app_flexdebug","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.chunk.js","sourcesContent":["export const ADD_FIELD = 'ADD_FIELD';\nexport const REMOVE_FIELD = 'REMOVE_FIELD';\nexport const SET_DRAGGING_FIELD = 'SET_DRAGGING_FIELD';\nexport const MOVE_FIELD = 'MOVE_FIELD';\nexport const UPDATE_SECTION_ITEM = 'UPDATE_SECTION_ITEM';\nexport const FETCH_PREVIEW_DATA_PENDING = 'FETCH_PREVIEW_DATA_PENDING';\nexport const FETCH_PREVIEW_DATA_SUCCESS = 'FETCH_PREVIEW_DATA_SUCCESS';\nexport const FETCH_PREVIEW_DATA_ERROR = 'FETCH_PREVIEW_DATA_ERROR';\nexport const UPDATE_PREVIEW_DATA = 'UPDATE_PREVIEW_DATA';\nexport const SAVE_DATA_SUCCESS = 'SAVE_DATA_SUCCESS';\nexport const SAVE_DATA_PENDING = 'SAVE_DATA_PENDING';\nexport const SAVE_DATA_ERROR = 'SAVE_DATA_ERROR';\nexport const GET_CONFIG_PENDING = 'GET_CONFIG_PENDING';\nexport const GET_CONFIG_SUCCESS = 'GET_CONFIG_SUCCESS';\nexport const GET_CONFIG_ERROR = 'GET_CONFIG_ERROR';\nexport const TOGGLE_CONFIG_MODAL = 'TOGGLE_CONFIG_MODAL';\nexport const TOGGLE_CHARTS_MODAL = 'TOGGLE_CHARTS_MODAL';\nexport const UPDATE_OBJECT_PROPERTY = 'UPDATE_OBJECT_PROPERTY';\nexport const UPDATE_FIELD_LIST = 'UPDATE_FIELD_LIST';\nexport const ADD_CHART = 'ADD_CHART';\nexport const REMOVE_CHART = 'REMOVE_CHART';\nexport const ZOOM_CHART = 'ZOOM_CHART';\nexport const APPLY_TABLE_FILTER = 'APPLY_TABLE_FILTER';\nexport const SET_CHARTS_DATA = 'SET_CHARTS_DATA';\nexport const SET_CURRENT_VIEW = 'SET_CURRENT_VIEW';\nexport const SET_EDIT_CHART_INDEX = 'SET_EDIT_CHART_INDEX';\nexport const EDIT_CHART = 'EDIT_CHART';\nexport const SET_ORDER_COLUMNS = 'SET_ORDER_COLUMNS';\nexport const SET_IS_OPEN_MODAL_FORMULA = 'SET_IS_OPEN_MODAL_FORMULA';\nexport const SET_MODE_MODAL_FORMULA = 'SET_MODE_MODAL_FORMULA';\nexport const SET_EDIT_MODE_DATA_MODAL_FORMULA = 'SET_EDIT_MODE_DATA_MODAL_FORMULA';\nexport const SET_INDEX_MODAL_FORMULA = 'SET_INDEX_MODAL_FORMULA';\nexport const SET_EDIT_LIST_FLEX = 'SET_EDIT_LIST_FLEX';\nexport const SET_SEARCH_LIST_FLEX = 'SET_SEARCH_LIST_FLEX';\nexport const GET_DEV_CUSTOM_STORE = 'GET_DEV_CUSTOM_STORE';\nexport const UPDATE_FIELDS_HIDE = 'UPDATE_FIELDS_HIDE';\nexport const UPDATE_FILTERS = 'UPDATE_FILTERS';\n\nexport const setSortColumns = (column,values) => dispatch => {\n  dispatch({\n    type: SET_ORDER_COLUMNS,\n    column,\n    values\n    \n  })\n\n  return Promise.resolve();\n}\n\nexport const fetchPreviewDataPending = (timeout_id) => {\n  return {\n    type: FETCH_PREVIEW_DATA_PENDING,\n    timeout_id\n  }\n}\n\nexport const fetchPreviewDataSuccess = (data) => {\n  return {\n    type: FETCH_PREVIEW_DATA_SUCCESS,\n    data: data\n  }\n}\n\nexport const getDevCustomStore = (data) => {\n  return {\n    type: GET_DEV_CUSTOM_STORE,\n    data: data\n  }\n}\n\nexport const fetchPreviewDataError = (error) => {\n  return {\n    type: FETCH_PREVIEW_DATA_ERROR,\n    error: error\n  }\n}\n\nexport const updatePreviewData = (data) => {\n  return {\n    type: UPDATE_PREVIEW_DATA,\n    data: data\n  }\n}\n\nexport const getConfigPending = () => {\n  return {\n    type: GET_CONFIG_PENDING\n  }\n}\n\nexport const getConfigSuccess = (data) => {\n  return {\n    type: GET_CONFIG_SUCCESS,\n    data: data\n  }\n}\n\nexport const getConfigError = (error) => {\n  return {\n    type: GET_CONFIG_ERROR,\n    error: error\n  }\n}\n\nexport const addField = (section, field) => {\n  return {\n    \"type\": ADD_FIELD,\n    section,\n    field\n  }\n}\n\nexport const removeField = (section, index) => {\n  return {\n    \"type\": REMOVE_FIELD,\n    section,\n    index\n  }\n}\n\n\nexport const addChart = (chart_def) => {\n  return {\n    \"type\": ADD_CHART,\n    chart_def\n  }\n}\n\nexport const removeChart = (index) => {\n  return {\n    \"type\": REMOVE_CHART,\n    index\n  }\n}\n\nexport const zoomChart = (chart_def) => {\n  return {\n    \"type\": ZOOM_CHART,\n    chart_def\n  }\n}\n\nexport const setDraggingField = (dragging) => {\n  return {\n    \"type\": SET_DRAGGING_FIELD,\n    \"dragging\": dragging\n  };\n};\n\nexport const moveField = (result) => {\n  return {\n    \"type\": MOVE_FIELD,\n    \"result\": result\n  };  \n};\n\nexport const setEditListFlex = () => {\n  return {\n    \"type\": SET_EDIT_LIST_FLEX,\n  };\n};\n\nexport const updateFieldsHide = (fieldsHiddenListString) => {\n  return {\n    \"type\": UPDATE_FIELDS_HIDE,\n    'fieldsHiddenList': JSON.parse(fieldsHiddenListString)\n  };\n};\n\nexport const updateFilters = (flex_filters, filter_search) => {\n  return {\n    \"type\": UPDATE_FILTERS,\n    flex_filters,\n    filter_search\n  };\n};\n\nexport const setSearchListFlex = (filter) => {\n  return {\n    \"type\": SET_SEARCH_LIST_FLEX,\n    filter\n  };\n};\n\nexport const toggleConfigModal = () => {  \n  return {\n    \"type\": TOGGLE_CONFIG_MODAL,\n  };\n};\n\nexport const toggleChartsModal = (dashlet_id) => {\n  return {\n    \"type\": TOGGLE_CHARTS_MODAL,\n    dashlet_id\n  };\n};\n\nexport const updateSectionItem = (section, item_index, property, value) => {\n  return {\n    \"type\": UPDATE_SECTION_ITEM,\n    section,\n    item_index,\n    property,\n    value\n  }\n}\n\nexport const saveDataPending = () => {\n  return {\n    type: SAVE_DATA_PENDING\n  }\n}\n\nexport const saveDataSuccess = (data) => {\n  return {\n    type: SAVE_DATA_SUCCESS,\n    data: data\n  }\n}\n\nexport const saveDataError = (error) => {\n  return {\n    type: SAVE_DATA_ERROR,\n    error: error\n  }\n}\n\nexport const updateObjectProperty = (object_name, property, value) => {\n  return {\n    \"type\": UPDATE_OBJECT_PROPERTY,\n    object_name,\n    property,\n    value\n  }\n}\n\nexport const updateFieldList = (field_list) => {\n  return {\n    \"type\": UPDATE_FIELD_LIST,\n    field_list\n  }\n}\n\nexport const applyTableFilter = (column, value) => {\n  return {\n    \"type\": APPLY_TABLE_FILTER,\n    column,\n    value\n  }\n}\n\nexport const setChartsData = (data) => {\n  return {\n    type: SET_CHARTS_DATA,\n    data\n  }\n}\n\nexport const setCurrentView = (current_view) => {\n  return {\n    type: SET_CURRENT_VIEW,\n    current_view\n  }\n}\n\nexport const setEditChartIndex = (chart_index) => {\n  return {\n    type: SET_EDIT_CHART_INDEX,\n    chart_index\n  }\n}\n\nexport const editChart = (index, chart_def) => {\n  return {\n    \"type\": EDIT_CHART,\n    index,\n    chart_def\n  }\n}\n\nexport const setIsOpenModalFormula = isOpen => {\n  return {\n    \"type\": SET_IS_OPEN_MODAL_FORMULA,\n    payload: {\n      isOpen\n    }\n  }\n}\n\nexport const setModeModalFormula = mode => {\n  return {\n    \"type\": SET_MODE_MODAL_FORMULA,\n    payload: {\n      mode\n    }\n  }\n}\n\nexport const setEditModeDataModalFormula = data => {\n  return {\n    \"type\": SET_EDIT_MODE_DATA_MODAL_FORMULA,\n    payload: {\n      edit_mode_data: data\n    }\n  }\n}\n\nexport const setIndexModalFormula = index => {\n  return {\n    \"type\": SET_INDEX_MODAL_FORMULA,\n    payload: {\n      index\n    }\n  }\n}\n","import { UtilManager } from './Utils';\nimport cloneDeep from 'lodash/cloneDeep'\n\n\nexport const emptyDesciptionObj = {\n\t'name': '',\n\t'label': '',\n\t'title': '',\n\t'description': '',\n\t'syntax': '',\n\t'examples': []\n}\n\nconst year = {\n\t\n    'name': 'year',\n    'label': 'Custom.BLFlex.GuideFormula.Year.Label',\n    'title': 'year',\n    'description': 'Custom.BLFlex.GuideFormula.Year.Description',\n    'syntax': 'year(props(campo_fecha)) || year(props(campo_fecha_hora))',\n    'examples': [\n      \"year(props(campo_fecha_hora)) -> year('2021-02-05T14:51:54-05:00') = 2021\",\n      \"year(props(campo_fecha)) -> year('2021-09-05') = 2021\",\n    ],\n    'printFormula': () => 'year('\n}\n\nconst month = {\n\t'name': 'month',\n\t'label': 'Custom.BLFlex.GuideFormula.Month.Label',\n\t'title': 'Month',\n\t'description': 'Custom.BLFlex.GuideFormula.Month.Description',\n\t'syntax': 'month(props(campo_fecha)) || month(props(campo_fecha_hora))',\n\t'examples': [\n\t\t\"month(props(campo_fecha_hora)) -> month('2021-02-05T14:51:54-05:00') = 1\",\n\t\t\"month(props(campo_fecha)) -> month('2021-09-05') = 8\",\n\t\t\"month(props(campo_fecha)) -> month('2021-12-25') = 11\",\n\t],\n\t'printFormula': () => 'month('\n}\n\nconst date = {\n\t'name': 'date',\n\t'label': 'Custom.BLFlex.GuideFormula.Date.Label',\n\t'title': 'date',\n\t'description': 'Custom.BLFlex.GuideFormula.Date.Description',\n\t'syntax': 'date(props(campo_fecha)) || date(props(campo_fecha_hora))',\n\t'examples': [\n\t\t\"date(props(campo_fecha_hora)) -> date('2021-02-05T14:51:54-05:00') = 5\",\n\t\t\"date(props(campo_fecha)) -> date('2021-09-11') = 11\",\n\t],\n\t'printFormula': () => 'date('\n}\n\nconst day = {\n\t'name': 'day',\n\t'label': 'Custom.BLFlex.GuideFormula.Day.Label',\n\t'title': 'day',\n\t'description': 'Custom.BLFlex.GuideFormula.Day.Description',\n\t'syntax': 'day(props(campo_fecha)) || day(props(campo_fecha_hora))',\n\t'examples': [\n\t\t\"day(props(campo_fecha_hora)) -> day('2021-02-05T14:51:54-05:00') = 5\",\n\t\t\"day(props(campo_fecha)) -> day('2021-09-11') = 11\",\n\t],\n\t'printFormula': () => 'day('\n}\n\nconst hour = {\n\t'name': 'hour',\n\t'label': 'Custom.BLFlex.GuideFormula.Hour.Label',\n\t'title': 'hour',\n\t'description': 'Custom.BLFlex.GuideFormula.Hour.Description',\n\t'syntax': 'hour(props(campo_fecha_hora))',\n\t'examples': [\n\t\t\"hour(props(campo_fecha_hora)) -> hour('2021-02-05T14:51:54-05:00') = 14\",\n\t],\n\t'printFormula': () => 'hour('\n}\n\nconst minute = {\n\t'name': 'minute',\n\t'label': 'Custom.BLFlex.GuideFormula.Minute.Label',\n\t'title': 'minute',\n\t'description': 'Custom.BLFlex.GuideFormula.Minute.Description',\n\t'syntax': 'minute(props(campo_fecha_hora))',\n\t'examples': [\n\t\t\"minute(props(campo_fecha_hora)) -> minute('2021-02-05T14:51:54-05:00') = 51\",\n\t],\n\t'printFormula': () => 'minute('\n}\n\nconst period = {\n\t'name': 'period',\n\t'label': 'Custom.BLFlex.GuideFormula.Period.Label',\n\t'title': 'period',\n\t'description': 'Custom.Custom.BLFlex.GuideFormula.Period.Description',\n\t'syntax': 'period(props(campo_fecha_hora)) || period(props(campo_fecha))',\n\t'examples': [\n\t\t\"period(props(campo_fecha_hora)) -> period('2021-02-05T14:51:54-05:00') = 202102\",\n\t\t\"period(props(campo_fecha)) -> period('2021-08-15') = 201808\",\n\t],\n\t'printFormula': () => 'period('\n}\n\nconst getDatePart = {\n\t'name': 'getDatePart',\n\t'label': 'Custom.BLFlex.GuideFormula.GetDatePart.Label',\n\t'title': 'getDatePart',\n\t'description': 'Custom.BLFlex.GuideFormula.GetDatePart.Description',\n\t'syntax': 'getDatePart(props(campo_fecha_hora))',\n\t'examples': [\n\t\t\"getDatePart(props(campo_fecha_hora)) -> getDatePart('2021-02-05T14:51:54-05:00') = '2012-02-05'\",\n\t],\n\t'printFormula': () => 'getDatePart('\n}\n\nconst dateAdd = {\n\t'name': 'dateAdd',\n\t'label': 'Custom.BLFlex.GuideFormula.DateAdd.Label',\n\t'title': 'dateAdd',\n\t'description': 'Custom.BLFlex.GuideFormula.DateAdd.Description',\n\t'syntax': 'dateAdd(props(campo_fecha_hora), cantidad, unidad)',\n\t'examples': [\n\t\t\"dateAdd(props(campo_fecha_hora), 7, 'years') -> dateAdd('2021-01-12T11:50:14-05:00', 7, 'years') = '2028-01-12T11:50:14-05:00'\",\n\t\t\"dateAdd(props(campo_fecha_hora), 2, 'quarters') -> dateAdd('2021-01-12T11:50:58-05:00', 2, 'quarters') = '2021-10-12T11:50:58-05:00'\",\n\t\t\"dateAdd(props(campo_fecha_hora), 2, 'months') -> dateAdd('2021-01-12T11:51:22-05:00', 2, 'months') = '2021-03-12T11:51:22-05:00'\",\n\t\t\"dateAdd(props(campo_fecha_hora), 3, 'weeks') -> dateAdd('2021-01-12T11:51:22-05:00', 3, 'weeks') = '2021-02-02T11:51:22-05:00'\",\n\t\t\"dateAdd(props(campo_fecha_hora), 4, 'days') -> dateAdd('2021-01-12T11:51:22-05:00', 4, 'days') = '2021-01-16T11:51:22-05:00'\",\n\t\t\"dateAdd(props(campo_fecha_hora), 8, 'hours') -> dateAdd('2021-01-12T11:51:22-05:00', 8, 'hours') = '2021-01-16T19:51:22-05:00'\",\n\t\t\"dateAdd(props(campo_fecha_hora), 1, 'minutes') -> dateAdd('2021-01-12T11:51:22-05:00', 1, 'minutes') = '2021-01-16T11:52:22-05:00'\",\n\t\t\"dateAdd(props(campo_fecha_hora), 1, 'seconds') -> dateAdd('2021-01-12T11:51:22-05:00', 1, 'seconds') = '2021-01-16T11:51:23-05:00'\",\n\t\t\"dateAdd(props(campo_fecha_hora), 5, 'milliseconds') -> dateAdd('2021-01-12T11:51:22-05:00', 1000, 'milliseconds') = '2021-01-16T11:51:23-05:00'\",\n\t],\n\t'printFormula': () => 'dateAdd('\n}\n\nconst addDay = {\n\t'name': 'addDay',\n\t'label': 'Custom.BLFlex.GuideFormula.AddDay.Label',\n\t'description': 'Custom.BLFlex.GuideFormula.AddDay.Description',\n\t'syntax': 'addDay(props(campo_fecha_hora), cantidad) || addDay(props(campo_fecha), cantidad)',\n\t'examples': [\n\t\t\"addDay(props(campo_fecha_hora), 9) -> addDay('2021-01-05T14:51:54-05:00', 9) = '2021-01-14T14:51:54-05:00'\",\n\t\t\"addDay(props(campo_fecha), 3) -> addDay('2021-02-05', 3) = '2021-02-08'\",\n\t],\n\t'printFormula': () => 'addDay('\n}\n\nconst addMonth = {\n\t'name': 'addMonth',\n\t'label': 'Custom.BLFlex.GuideFormula.AddMonth.Label',\n\t'title': 'addMonth',\n\t'description': 'Custom.BLFlex.GuideFormula.AddMonth.Description',\n\t'syntax': 'addMonth(props(campo_fecha_hora), cantidad) || addMonth(props(campo_fecha), cantidad)',\n\t'examples': [\n\t\t\"addMonth(props(campo_fecha_hora), 5) -> addMonth('2021-01-12T14:34:26-05:00', 5) = '2021-06-12T14:34:26-05:00'\",\n\t\t\"addMonth(props(campo_fecha), 5) -> addMonth('2021-01-12', 5) = '2021-06-12'\",\n\t],\n\t'printFormula': () => 'addMonth('\n}\n\nconst addYear = {\n\t'name': 'addYear',\n\t'label': 'Custom.BLFlex.GuideFormula.AddYear.Label',\n\t'title': 'addYear',\n\t'description': 'Custom.BLFlex.GuideFormula.AddYear.Description',\n\t'syntax': 'addYear(props(campo_fecha_hora), cantidad) || addYear(props(campo_fecha), cantidad)',\n\t'examples': [\n\t\t\"addYear(props(campo_fecha_hora), 5) -> addYear('2021-01-12T14:34:26-05:00', 1) = '2022-06-12T14:34:26-05:00'\",\n\t\t\"addYear(props(campo_fecha), 5) -> addYear('2021-01-12', 1) = '2022-06-12'\",\n\t],\n\t'printFormula': () => 'addYear('\n}\n\nconst substractDay = {\n\t'name': 'substractDay',\n\t'label': 'Custom.BLFlex.GuideFormula.SubstractDay.Label',\n\t'title': 'substractDay',\n\t'description': 'Custom.BLFlex.GuideFormula.SubstractDay.Description',\n\t'syntax': 'substractDay(props(campo_fecha_hora), cantidad) || substractDay(props(campo_fecha), cantidad)',\n\t'examples': [\n\t\t\"substractDay(props(campo_fecha_hora), 5) -> substractDay('2021-01-12T14:34:26-05:00', 1) = '2022-01-11T14:34:26-05:00'\",\n\t\t\"substractDay(props(campo_fecha), 5) -> substractDay('2021-01-12', 1) = '2022-01-11'\",\n\t],\n\t'printFormula': () => 'substractDay('\n}\n\nconst substractMonth = {\n\t'name': 'substractMonth',\n\t'label': 'Custom.BLFlex.GuideFormula.SubstractMonth.Label',\n\t'title': 'substractMonth',\n\t'description': 'Custom.BLFlex.GuideFormula.SubstractMonth.Description',\n\t'syntax': 'substractMonth(props(campo_fecha_hora), cantidad) || substractMonth(props(campo_fecha), cantidad)',\n\t'examples': [\n\t\t\"substractMonth(props(campo_fecha_hora), 5) -> substractMonth('2021-01-12T15:11:34-05:00', 5) = '2020-08-12T15:11:34-05:00'\",\n\t\t\"substractMonth(props(campo_fecha), 5) -> substractMonth('2021-01-12', 5) = '2020-08-12'\",\n\t],\n\t'printFormula': () => 'substractMonth('\n}\n\nconst substractYear = {\n\t'name': 'substractYear',\n\t'label': 'Custom.BLFlex.GuideFormula.SubstractYear.Label',\n\t'title': 'substractYear',\n\t'description': 'Custom.BLFlex.GuideFormula.SubstractYear.Description',\n\t'syntax': 'substractYear(props(campo_fecha_hora), cantidad) || substractYear(props(campo_fecha), cantidad)',\n\t'examples': [\n\t\t\"substractYear(props(campo_fecha_hora), 5) -> substractYear('2021-01-12T15:19:15-05:00', 1) = '2020-01-12T15:19:15-05:00'\",\n\t\t\"substractYear(props(campo_fecha), 5) -> substractYear('2021-01-12', 1) = '2020-01-12'\",\n\t],\n\t'printFormula': () => 'substractYear('\n}\n\nconst now = {\n\t'name': 'now',\n\t'label': 'Custom.BLFlex.GuideFormula.Now.Label',\n\t'title': 'now',\n\t'description': 'Custom.BLFlex.GuideFormula.Now.Description',\n\t'syntax': 'now()',\n\t'examples': [\n\t\t\"now() = '2020-01-12T15:19:15-05:00'\",\n\t],\n\t'printFormula': () => 'now('\n}\n\nconst diffDays = {\n\t'name': 'diffDays',\n\t'label': 'Custom.BLFlex.GuideFormula.DiffDays.Label',\n\t'title': 'diffDays',\n\t'description': 'Custom.BLFlex.GuideFormula.DiffDays.Description',\n\t'syntax': 'diffDays(props(campo_fecha_hora1), props(campo_fecha_hora2))',\n\t'examples': [\n\t\t\"diffDays(props(campo_fecha_hora1), props(campo_fecha_hora2)) -> diffDays('2021-01-14T15:19:15-05:00'), props('2021-01-11T15:19:15-05:00')) = 3\",\n\t\t\"diffDays(props(campo_fecha1), props(campo_fecha2)) -> diffDays('2021-01-15'), props('2021-01-19')) = -4\",\n\t],\n\t'printFormula': () => 'diffDays('\n}\n\nconst diffMonths = {\n\t'name': 'diffMonths',\n\t'label': 'Custom.BLFlex.GuideFormula.DiffMonths.Label',\n\t'title': 'diffMonths',\n\t'description': 'Custom.BLFlex.GuideFormula.DiffMonths.Description',\n\t'syntax': 'diffMonths(props(campo_fecha_hora1), props(campo_fecha_hora2))',\n\t'examples': [\n\t\t\"diffMonths(props(campo_fecha_hora1), props(campo_fecha_hora2)) -> diffMonths('2021-08-13T08:52:02-05:00'), props('2021-01-13T09:52:02-05:00')) = 6\",\n\t\t\"diffMonths(props(campo_fecha1), props(campo_fecha2)) -> diffMonths('2020-08-15'), props('2021-01-13')) = -4\",\n\t],\n\t'printFormula': () => 'diffMonths('\n}\n\nconst diffYears = {\n\t'name': 'diffYears',\n\t'label': 'Custom.BLFlex.GuideFormula.DiffYears.Label',\n\t'title': 'diffYears',\n\t'description': 'Custom.BLFlex.GuideFormula.DiffYears.Description',\n\t'syntax': 'diffYears(props(campo_fecha_hora1), props(campo_fecha_hora2))',\n\t'examples': [\n\t\t\"diffYears(props(campo_fecha_hora1), props(campo_fecha_hora2)) -> diffYears('2026-08-13T08:52:02-05:00'), props('2021-01-13T09:52:02-05:00')) = 5\",\n\t\t\"diffYears(props(campo_fecha1), props(campo_fecha2)) -> diffYears('2026-08-13'), props('2021-01-13')) = 5\",\n\t],\n\t'printFormula': () => 'diffYears('\n}\n\nconst changeFormat = {\n\t'name': 'changeFormat',\n\t'label': 'Custom.BLFlex.GuideFormula.ChangeFormat.Label',\n\t'title': 'changeFormat',\n\t'description': 'Custom.BLFlex.GuideFormula.ChangeFormat.Description',\n\t'syntax': 'changeFormat(props(campo_fecha_hora), \"formato\")',\n\t'examples': [\n\t\t\"changeFormat(props(campo_fecha_hora), 'YYYY') -> changeFormat('2021-01-13T10:14:58-05:00', 'YYYY') = '2021'\",\n\t\t\"changeFormat(props(campo_fecha_hora), 'DD') -> changeFormat('2021-01-13T10:14:58-05:00', 'DD') = '13'\",\n\t\t\"changeFormat(props(campo_fecha_hora), 'MM') -> changeFormat('2021-01-13T10:14:58-05:00', 'MM') = '01'\",\n\t\t\"changeFormat(props(campo_fecha_hora), 'MM-DD-YYYY') -> changeFormat('2021-01-13T10:14:58-05:00', 'MM-DD-YYYY') = '01-13-2021'\",\n\t\t\"changeFormat(props(campo_fecha_hora), 'DD MM YYYY hh:mm:ss') -> changeFormat('2021-01-13T10:14:58-05:00', 'DD MM YYYY hh:mm:ss')= '13 01 2021 10:16:14'\",\n\t],\n\t'printFormula': () => 'changeFormat('\n}\n\nconst getMonthLabel = {\n\t'name': 'getMonthLabel',\n\t'label': 'Custom.BLFlex.GuideFormula.GetMonthLabel.Label',\n\t'title': 'getMonthLabel',\n\t'description': 'Custom.BLFlex.GuideFormula.GetMonthLabel.Description',\n\t'syntax': 'getMonthLabel(numero)',\n\t'examples': [\n\t\t\"getMonthLabel(numero)) -> getMonthLabel(1) = 'Enero'\",\n\t\t\"getMonthLabel(numero)) -> getMonthLabel(3) = 'Marzo'\",\n\t\t\"getMonthLabel(numero)) -> getMonthLabel(33) = '33'\",\n\t\t\"getMonthLabel(getMonth(props(creation_date))) -> getMonthLabel(getMonth('2021-12-03')) -> getMonthLabel(12)= 'Diciembre'\",\n\t],\n\t'printFormula': () => 'getMonthLabel('\n}\n\nexport const formulaDescriptions = [\n\tyear,\n\tmonth,\n\tgetMonthLabel,\n\tdate,\n\tday,\n\thour,\n\tminute,\n\tperiod,\n\tgetDatePart,\n\tdateAdd,\n\taddDay,\n\taddMonth,\n\taddYear,\n\tsubstractDay,\n\tsubstractMonth,\n\tsubstractYear,\n\tnow,\n\tdiffDays,\n\tdiffMonths,\n\tdiffYears,\n\tchangeFormat,\n]\n\nexport const charFieldMeta = {\n\t\"type\": \"CharField\",\n\t\"filter_options\": [\n\t\t{\n\t\t\t\"key\": \"current_record\",\n\t\t\t\"label\": \"Registro Actual\"\n\t\t},\n\t\t{\n\t\t\t\"key\": \"equal\",\n\t\t\t\"label\": \"Igual\"\n\t\t},\n\t\t{\n\t\t\t\"key\": \"not_equal\",\n\t\t\t\"label\": \"No es igual\"\n\t\t},\n\t\t{\n\t\t\t\"key\": \"starts_width\",\n\t\t\t\"label\": \"Empieza con\"\n\t\t},\n\t\t{\n\t\t\t\"key\": \"end_width\",\n\t\t\t\"label\": \"Termina con\"\n\t\t},\n\t\t{\n\t\t\t\"key\": \"contains\",\n\t\t\t\"label\": \"Contiene\"\n\t\t},\n\t\t{\n\t\t\t\"key\": \"null_or_empty\",\n\t\t\t\"label\": \"Es vacio o nulo\"\n\t\t},\n\t\t{\n\t\t\t\"key\": \"empty\",\n\t\t\t\"label\": \"Es vacio\"\n\t\t},\n\t\t{\n\t\t\t\"key\": \"not_empty\",\n\t\t\t\"label\": \"No es vacio\"\n\t\t},\n\t\t{\n\t\t\t\"key\": \"current_user_code\",\n\t\t\t\"label\": \"Cdigo Usuario actual\"\n\t\t}\n\t]\n}\n\nexport const integerFieldMeta = {\n\t\"type\": \"IntegerField\",\n\t\"filter_options\": [\n\t\t{\n\t\t\t\"key\": \"equal\",\n\t\t\t\"label\": \"Igual\"\n\t\t},\n\t\t{\n\t\t\t\"key\": \"not_equal\",\n\t\t\t\"label\": \"No es igual\"\n\t\t},\n\t\t{\n\t\t\t\"key\": \"gt\",\n\t\t\t\"label\": \"Mayor que\"\n\t\t},\n\t\t{\n\t\t\t\"key\": \"lt\",\n\t\t\t\"label\": \"Menor que\"\n\t\t},\n\t\t{\n\t\t\t\"key\": \"gte\",\n\t\t\t\"label\": \"Mayor o igual que\"\n\t\t},\n\t\t{\n\t\t\t\"key\": \"between\",\n\t\t\t\"label\": \"Entre\"\n\t\t},\n\t\t{\n\t\t\t\"key\": \"current_user_code\",\n\t\t\t\"label\": \"Cdigo Usuario actual\"\n\t\t}\n\t],\n}\n\nexport const floatFieldMeta = {\n\t\"type\": \"FloatField\",\n\t\"filter_options\": [\n\t\t{\n\t\t\t\"key\": \"equal\",\n\t\t\t\"label\": \"Igual\"\n\t\t},\n\t\t{\n\t\t\t\"key\": \"not_equal\",\n\t\t\t\"label\": \"No es igual\"\n\t\t},\n\t\t{\n\t\t\t\"key\": \"gt\",\n\t\t\t\"label\": \"Mayor que\"\n\t\t},\n\t\t{\n\t\t\t\"key\": \"lt\",\n\t\t\t\"label\": \"Menor que\"\n\t\t},\n\t\t{\n\t\t\t\"key\": \"gte\",\n\t\t\t\"label\": \"Mayor o igual que\"\n\t\t},\n\t\t{\n\t\t\t\"key\": \"between\",\n\t\t\t\"label\": \"Entre\"\n\t\t},\n\t\t{\n\t\t\t\"key\": \"current_user_code\",\n\t\t\t\"label\": \"Cdigo Usuario actual\"\n\t\t}\n\t]\n}\n\nexport const dateTimeFieldMeta = {\n\t\"type\": \"DateTimeField\",\n\t\"filter_options\": [\n\t\t{\n\t\t\t\"key\": \"equal\",\n\t\t\t\"label\": \"Igual\"\n\t\t},\n\t\t{\n\t\t\t\"key\": \"not_equal\",\n\t\t\t\"label\": \"No es igual\"\n\t\t},\n\t\t{\n\t\t\t\"key\": \"before\",\n\t\t\t\"label\": \"Antes de\"\n\t\t},\n\t\t{\n\t\t\t\"key\": \"after\",\n\t\t\t\"label\": \"Despus de\"\n\t\t},\n\t\t{\n\t\t\t\"key\": \"between\",\n\t\t\t\"label\": \"Entre\"\n\t\t},\n\t\t{\n\t\t\t\"key\": \"in_past\",\n\t\t\t\"label\": \"En el pasado\"\n\t\t},\n\t\t{\n\t\t\t\"key\": \"in_future\",\n\t\t\t\"label\": \"En el futuro\"\n\t\t},\n\t\t{\n\t\t\t\"key\": \"current_month\",\n\t\t\t\"label\": \"Mes actual\"\n\t\t},\n\t\t{\n\t\t\t\"key\": \"current_week\",\n\t\t\t\"label\": \"Semana actual\"\n\t\t},\n\t\t{\n\t\t\t\"key\": \"last_month\",\n\t\t\t\"label\": \"Mes pasado\"\n\t\t},\n\t\t{\n\t\t\t\"key\": \"today\",\n\t\t\t\"label\": \"Hoy\"\n\t\t},\n\t\t{\n\t\t\t\"key\": \"last_n_days\",\n\t\t\t\"label\": \"ltimos N das\"\n\t\t},\n\t\t{\n\t\t\t\"key\": \"next_n_days\",\n\t\t\t\"label\": \"Proximos N das\"\n\t\t},\n\t\t{\n\t\t\t\"key\": \"this_year\",\n\t\t\t\"label\": \"Este ao\"\n\t\t},\n\t\t{\n\t\t\t\"key\": \"last_year\",\n\t\t\t\"label\": \"Ao pasado\"\n\t\t},\n\t\t{\n\t\t\t\"key\": \"next_year\",\n\t\t\t\"label\": \"Proximo ao\"\n\t\t},\n\t\t{\n\t\t\t\"key\": \"null_or_empty\",\n\t\t\t\"label\": \"Es vacio o nulo\"\n\t\t},\n\t\t{\n\t\t\t\"key\": \"empty\",\n\t\t\t\"label\": \"Es vacio\"\n\t\t},\n\t\t{\n\t\t\t\"key\": \"not_empty\",\n\t\t\t\"label\": \"No es vacio\"\n\t\t}\n\t],\n}\n\nexport const dateFieldMeta = {\n\t\"type\": \"DateField\",\n\t\"filter_options\": [\n\t\t{\n\t\t\t\"key\": \"equal\",\n\t\t\t\"label\": \"Igual\"\n\t\t},\n\t\t{\n\t\t\t\"key\": \"not_equal\",\n\t\t\t\"label\": \"No es igual\"\n\t\t},\n\t\t{\n\t\t\t\"key\": \"before\",\n\t\t\t\"label\": \"Antes de\"\n\t\t},\n\t\t{\n\t\t\t\"key\": \"after\",\n\t\t\t\"label\": \"Despus de\"\n\t\t},\n\t\t{\n\t\t\t\"key\": \"between\",\n\t\t\t\"label\": \"Entre\"\n\t\t},\n\t\t{\n\t\t\t\"key\": \"in_past\",\n\t\t\t\"label\": \"En el pasado\"\n\t\t},\n\t\t{\n\t\t\t\"key\": \"in_future\",\n\t\t\t\"label\": \"En el futuro\"\n\t\t},\n\t\t{\n\t\t\t\"key\": \"current_month\",\n\t\t\t\"label\": \"Mes actual\"\n\t\t},\n\t\t{\n\t\t\t\"key\": \"current_week\",\n\t\t\t\"label\": \"Semana actual\"\n\t\t},\n\t\t{\n\t\t\t\"key\": \"last_month\",\n\t\t\t\"label\": \"Mes pasado\"\n\t\t},\n\t\t{\n\t\t\t\"key\": \"today\",\n\t\t\t\"label\": \"Hoy\"\n\t\t},\n\t\t{\n\t\t\t\"key\": \"last_n_days\",\n\t\t\t\"label\": \"ltimos N das\"\n\t\t},\n\t\t{\n\t\t\t\"key\": \"next_n_days\",\n\t\t\t\"label\": \"Proximos N das\"\n\t\t},\n\t\t{\n\t\t\t\"key\": \"this_year\",\n\t\t\t\"label\": \"Este ao\"\n\t\t},\n\t\t{\n\t\t\t\"key\": \"last_year\",\n\t\t\t\"label\": \"Ao pasado\"\n\t\t},\n\t\t{\n\t\t\t\"key\": \"next_year\",\n\t\t\t\"label\": \"Proximo ao\"\n\t\t},\n\t\t{\n\t\t\t\"key\": \"null_or_empty\",\n\t\t\t\"label\": \"Es vacio o nulo\"\n\t\t},\n\t\t{\n\t\t\t\"key\": \"empty\",\n\t\t\t\"label\": \"Es vacio\"\n\t\t},\n\t\t{\n\t\t\t\"key\": \"not_empty\",\n\t\t\t\"label\": \"No es vacio\"\n\t\t}\n\t],\n}\n\nexport const booleanFieldMeta = {\n\t\"type\": \"BooleanField\",\n\t\"filter_options\": [\n\t\t{\n\t\t\t\"key\": \"equal\",\n\t\t\t\"label\": \"Igual\"\n\t\t},\n\t\t{\n\t\t\t\"key\": \"not_equal\",\n\t\t\t\"label\": \"No es igual\"\n\t\t},\n\t\t{\n\t\t\t\"key\": \"starts_width\",\n\t\t\t\"label\": \"Empieza con\"\n\t\t},\n\t\t{\n\t\t\t\"key\": \"end_width\",\n\t\t\t\"label\": \"Termina con\"\n\t\t},\n\t\t{\n\t\t\t\"key\": \"contains\",\n\t\t\t\"label\": \"Contiene\"\n\t\t},\n\t\t{\n\t\t\t\"key\": \"null_or_empty\",\n\t\t\t\"label\": \"Es vacio o nulo\"\n\t\t},\n\t\t{\n\t\t\t\"key\": \"empty\",\n\t\t\t\"label\": \"Es vacio\"\n\t\t},\n\t\t{\n\t\t\t\"key\": \"not_empty\",\n\t\t\t\"label\": \"No es vacio\"\n\t\t},\n\t\t{\n\t\t\t\"key\": \"current_user_code\",\n\t\t\t\"label\": \"Cdigo Usuario actual\"\n\t\t}\n\t]\n}\n\nexport const resetStateFormulaModal = {\n\t'label': '',\n\t'name': '',\n\t'formula': '',\n\t'description': cloneDeep(emptyDesciptionObj)\n}\n\nexport const monthsMap = {\n\t'1': 'Enero',\n\t'2': 'Febrero',\n\t'3': 'Marzo',\n\t'4': 'Abril',\n\t'5': 'Mayo',\n\t'6': 'Junio',\n\t'7': 'Julio',\n\t'8': 'Agosto',\n\t'9': 'Septiembre',\n\t'10': 'Octubre',\n\t'11': 'Noviembre',\n\t'12': 'Diciembre',\n}","import moment from 'moment'\n\nimport sample from 'lodash/sample'\nimport random from 'lodash/random'\nimport cloneDeep from 'lodash/cloneDeep'\nimport get from 'lodash/get'\n\nimport {\n    charFieldMeta,\n    integerFieldMeta,\n    floatFieldMeta,\n    dateTimeFieldMeta,\n    dateFieldMeta,\n    booleanFieldMeta,\n    monthsMap\n} from './constants'\n\nimport Dexie from 'dexie';\n\nfunction getJSONAttribute(element, attr_name, default_value) {\n    try {\n        return JSON.parse(element.getAttribute(attr_name)) || default_value;\n    } catch (error) {\n        return default_value;\n    }\n}\n\nfunction formatFieldParameter(field_path, field_name) {\n    field_name = field_name.toLowerCase();\n    field_path = field_path.toLowerCase();\n    let list_path = field_path.split(\"::\");\n    if (list_path.length <= 1) {\n        return field_name;\n    }\n    list_path.shift();\n    return list_path.join('__') + '__' + field_name;\n}\n\nfunction updateFieldKeyName(field_list) {\n    for (let index = 0; index < field_list.length; index++) {\n        const field = field_list[index];\n        field.key_name = formatFieldParameter(field.path, field.name);\n    }\n}\n\nfunction defaultJSONParse(str, default_value) {\n    try {\n        if (typeof str === \"string\") {\n            return JSON.parse(str) || default_value;\n        }\n        return str || default_value;\n\n    } catch (error) {\n        console.log(\"error\");\n        return default_value;\n    }\n}\n\nfunction arrayEval(array) {\n    try {\n        if (typeof array === \"string\") {\n            return JSON.parse(array) || [];\n        }\n        return array || [];\n\n    } catch (error) {\n        console.log(\"error\");\n        return [];\n    }\n}\n\nfunction getSelectedGroupedOption(array, current_value) {\n    if (!array) return null;\n    for (let index = 0; index < array.length; index++) {\n        const element = array[index];\n        if (element.options && element.options.length > 0) {\n            let value = element.options.find((e) => { return e.value === current_value });\n            if (value) {\n                return value;\n            }\n        }\n    }\n\n    return null;\n}\n\nfunction isValidDate(d) {\n    return d instanceof Date && !isNaN(d);\n}\n\nfunction numberFormat(num, digits, large_format) {\n    var si = [\n        { value: 1, symbol: \"\" },\n        { value: 1E3, symbol: \"k\" },\n        { value: 1E6, symbol: \"M\" },\n        { value: 1E9, symbol: \"G\" },\n        { value: 1E12, symbol: \"T\" },\n        { value: 1E15, symbol: \"P\" },\n        { value: 1E18, symbol: \"E\" }\n    ];\n    var rx = /\\.0+$|(\\.[0-9]*[1-9])0+$/;\n    var i;\n    for (i = si.length - 1; i > 0; i--) {\n        if (num >= si[i].value) {\n            break;\n        }\n    }\n    if (large_format) {\n        try {\n            return num.toFixed(digits).replace(/(\\d)(?=(\\d{3})+\\.)/g, '$1,');\n        } catch (error) {\n            return '';\n        }\n\n    }\n    return (num / si[i].value).toFixed(digits).replace(rx, \"$1\") + si[i].symbol;\n}\n\nfunction defOrFactory (defValue)  {\n    return function (value) {\n        return !!value ? value : defValue\n    }\n}\n\nfunction props (val) {\n    return val\n}\n\nfunction isDate(dateStr) {\n\treturn !!dateStr && moment(dateStr).isValid()\n}\n\nfunction getMonthLabel(number) {\n    return get(monthsMap, number+'', number+'')\n}\n\nfunction month(dateStr) {\n    if (!isDate(dateStr))  {\n        return ''\n    }\n\n    try {\n        return (new Date(dateStr)).getMonth() + 1\n    } catch (e) {\n        return ''\n    }\n}\n\nfunction year(dateStr) {\n    if (!isDate(dateStr))  {\n        return ''\n    }\n\n    try {\n        return (new Date(dateStr)).getFullYear()\n    } catch (e) {\n        return ''\n    }\n}\n\nfunction date(dateStr) {\n    if (!isDate(dateStr))  {\n        return ''\n    }\n\n    try {\n        return (new Date(dateStr)).getDate()\n    } catch (e) {\n        return ''\n    }\n}\n\nfunction day(dateStr) {\n    if (!isDate(dateStr))  {\n        return ''\n    }\n\n    try {\n        return (new Date(dateStr)).getDay()\n    } catch (e) {\n        return ''\n    }\n}\n\nfunction hour(dateStr) {\n    if (!isDate(dateStr))  {\n        return ''\n    }\n\n    try {\n        return (new Date(dateStr)).getHours()\n    } catch (e) {\n        return ''\n    }\n}\n\nfunction minute(dateStr) {\n    if (!isDate(dateStr))  {\n        return ''\n    }\n\n    try {\n        return (new Date(dateStr)).getMinutes()\n    } catch (e) {\n        return ''\n    }\n}\n\nfunction period(dateStr) {\n    return `${year(dateStr)}${(month(dateStr)).toString().padStart(2,\"0\")}`\n}\n\nfunction getDatePart(dateStr) {\n    if (!isDate(dateStr)) {\n        return ''\n    }\n    return moment(dateStr).startOf('day').format(\"YYYY-MM-DD\")\n}\n\nfunction getTimePart(dateStr) {\n    if (!isDate(dateStr)) {\n        return ''\n    }\n    return moment(dateStr).startOf('day').format(\"hh:mm:ss\")\n}\n\nfunction dateAdd(dateStr, amount, period) {\n    if (!isDate(dateStr)) {\n        return ''\n    }\n    return moment(dateStr).add(amount, period).format()\n}\n\nfunction dateAddFact(period) {\n    return function (dateStr, amount) {\n        if (!isDate(dateStr)) {\n            return ''\n        }\n        return moment(dateStr).add(amount, period).format()\n    } \n}\n\nconst addDay = dateAddFact('day')\nconst addMonth = dateAddFact('month')\nconst addYear = dateAddFact('year')\n\nfunction dateSubstractFact(period) {\n    return function (dateStr, amount) {\n        if (!isDate(dateStr)) {\n            return ''\n        }\n        return moment(dateStr).subtract(amount, period).format()\n    } \n}\n\nconst substractDay = dateSubstractFact('day')\nconst substractMonth = dateSubstractFact('month')\nconst substractYear = dateSubstractFact('year')\n\nfunction now() {\n    return moment().format()\n}\n\nfunction diffFact(period) {\n    return function (dateStrA, dateStrB) {\n        if (!isDate(dateStrA)) {\n            return ''\n        }\n\n        if (!isDate(dateStrB)) {\n            return ''\n        }\n\n        return moment(dateStrA).diff(moment(dateStrB), period)\n    } \n}\n\nconst diffDays = diffFact('days')\nconst diffMonths = diffFact('months')\nconst diffYears = diffFact('years')\n\nfunction changeFormat (dateStr, format) {\n    if (!isDate(dateStr)) {\n        return ''\n    }\n\n    return moment(dateStr).format(format)\n}\n\nconst isEmptyFact = testFn => val => testFn(val) ? true : false\nconst isEmptyObj = isEmptyFact(obj => !Object.keys(obj).length)\n\nfunction reduceToObj (obj, curr) {\n    return { ...obj, ...curr }\n}\n\nfunction generateString() {\n    let s = \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ\";\n    return Array(5).join().split(',').map(function() { return s.charAt(Math.floor(Math.random() * s.length)); }).join('');\n}\n\nfunction generateInteger() {\n    return random(1, 1000)   \n}\n\nfunction generateFloat() {\n    let min = 0.1\n    let max = 10000\n    return Math.random() * (max - min) + min;   \n}\n\nfunction generateDateTime() {\n    return moment().format()   \n}\n\nfunction generateDate() {\n    return moment().format('YYYY-mm-DD')   \n}\n\nfunction generateBoolean() {\n    return sample([true, false])\n}\n\nfunction generateSample (type) {\n    switch (type) {\n        case 'CharField':\n            return generateString()\n        case 'IntegerField':\n        case 'PositiveIntegerField':\n            return generateInteger()\n        case 'FloatField':\n        case 'CurrencyField':\n        case 'DecimalField':\n            return generateFloat()\n        case 'DateTimeField':\n            return generateDateTime()\n        case 'DateField':\n            return generateDate()\n        case 'BooleanField':\n            return generateBoolean()\n        default:\n            return generateString()\n    }\n}\n\nfunction toType (obj) {\n    //Typeof. determina en forma aproximada el tipo de obj\n    return ({}).toString.call(obj).match(/\\s([a-zA-Z]+)/)[1].toLowerCase()\n}\n\nfunction isInt(n) {\n    return n % 1 === 0;\n }\n\nfunction getType (something) {\n    const type = toType(something)\n    if (type === \"string\") {\n        //could be parse into a date\n        if (something.length >= 10 && isDate(something)) {\n            if (something.length > 10) {\n                return 'DateTimeField'\n            }  else {\n                return 'DateField'\n            }\n        } else {\n            return 'CharField'\n        }\n    } else if (type === \"number\") {\n        if (isInt(something)) {\n            return 'IntegerField'\n        } else {\n            return 'FloatField'\n        }\n    } else if (type === \"boolean\")  {\n        return 'BooleanField'\n    } else if (type === \"undefined\") {\n        return 'CharField'\n    } else {\n        return false\n    }\n}\n\nfunction buildMeta (type) {\n    switch (type) {\n        case 'CharField':\n            return cloneDeep(charFieldMeta)\n        case 'IntegerField':\n            return cloneDeep(integerFieldMeta)\n        case 'FloatField':\n            return cloneDeep(floatFieldMeta)\n        case 'DateTimeField':\n            return cloneDeep(dateTimeFieldMeta)\n        case 'DateField':\n            return cloneDeep(dateFieldMeta)\n        case 'BooleanField':\n            return cloneDeep(booleanFieldMeta)\n        default:\n            return cloneDeep(charFieldMeta)\n    }\n}\n\nconst formulasLib = {\n    props,\n    year,\n    month,\n    getMonthLabel,\n    date,\n    day,\n    hour,\n    minute,\n    period,\n    getDatePart,\n    getTimePart,\n    dateAdd,\n    addDay,\n    addMonth,\n    addYear,\n    substractDay,\n    substractMonth,\n    substractYear,\n    now,\n    diffDays,\n    diffMonths,\n    diffYears,\n    changeFormat,\n}\n\nexport const SLUG = function (str = '') {\n    str = str.replace(/^\\s+|\\s+$/g, '') // trim\n    str = str.toLowerCase()\n\n    // remove accents, swap  for n, etc\n    let from = \"/_,:;\"\n    let to = \"aaaaaeeeeeiiiiooooouuuunc------\"\n    for (let i = 0, l = from.length; i < l; i++) {\n        str = str.replace(new RegExp(from.charAt(i), 'g'), to.charAt(i))\n    }\n\n    str = str.replace(/[^a-z0-9 -]/g, '') // remove invalid chars\n        .replace(/\\s+/g, '_') // collapse whitespace and replace by -\n        .replace(/-+/g, '_')  // collapse dashes\n\n    return str\n}\n\nexport const generateName = function (str = '') {\n    let name = SLUG(str);\n    name = \"cstm_formula_\"+name\n    name = name.replace(/_+/g, '_').substr(0,50)\n    // Eliminar los _ al final de campo, para evitar error de migraciones\n    return name.slice(name.length - 1) === \"_\" ? name.slice(0, -1) : name\n}\n\n// Get usertoken from localstorage\nexport const getUserToken = function () {\n    return localStorage.getItem('usertoken');\n}\n\nexport { \n    getJSONAttribute, \n    formatFieldParameter, \n    updateFieldKeyName, \n    arrayEval, \n    getSelectedGroupedOption, \n    isValidDate, \n    defaultJSONParse, \n    numberFormat,\n    getType,\n    generateSample,\n    buildMeta,\n    isEmptyObj,\n    reduceToObj,\n    formulasLib,\n};\n\nexport class SDKNotification {\n\n    static ShowError(message, values){\n        window.SDKDotNetHelper.invokeMethodAsync(\"ShowError\", message,values);\n    }\n\n    static async ShowSuccess(message,values){\n        window.SDKDotNetHelper.invokeMethodAsync(\"ShowSuccess\", message,values);\n    }\n \n }\n\nexport class ErrorsWindow{\n\n    static async ErrorsFlex(error){\n        let errors = [];\n        if(error.startsWith('One or more errors occurred.')){\n            let errorMatch = error.match(/\\((.*)\\)/);\n\n            if(errorMatch){\n                let errorStr = errorMatch[1];\n                if(errorStr.startsWith('[')){\n                    errors = JSON.parse(errorStr);\n                }else{\n                    errors.push(errorStr);\n                }\n            }\n        }else{\n            errors.push(error);\n        }\n        \n        if(window.SDKDotNetHelper){\n            window.SDKDotNetHelper.invokeMethodAsync(\"ErrorsFlex\", errors);\n        }\n    }\n\n    static async SuccessFlex(){\n        if(window.SDKDotNetHelper){\n            window.SDKDotNetHelper.invokeMethodAsync(\"SuccessFlex\");\n        }\n    }\n}\n\n export class  UtilManager{\n    static async GetResource(resourceTag){\n        const db = await new Dexie(\"IndexDb\").open();\n        // const rowidResource = await db.table(\"Resources\").where(\"id\").equalsIgnoreCase(resourceTag).first();\n        let culture = {};\n        if(!window.sdkFlexCulture){\n            culture = await db.table(\"Cultures\").toCollection().first();\n        }else{\n            culture = window.sdkFlexCulture;\n        }\n        if(culture){\n            const rowidCulture = culture.id;\n            let ResourcesDetail = resourceTag;\n            if(window.ResourceFlex[rowidCulture]){\n                let resources = window.ResourceFlex[rowidCulture];\n                if(resources[resourceTag]){\n                    ResourcesDetail = resources[resourceTag];\n                }else{\n                    const result = await db.table(\"ResourcesDetail\").where({ idCulture: rowidCulture, idResource: resourceTag }).first();\n                    if(result) {\n                        ResourcesDetail = result.description;\n                        resources[resourceTag] = ResourcesDetail;\n                    }\n                }\n            }else{\n                window.ResourceFlex[rowidCulture] = {};\n                const result = await db.table(\"ResourcesDetail\").where({ idCulture: rowidCulture, idResource: resourceTag }).first();\n                if(result) {\n                    ResourcesDetail = result.description;\n                    window.ResourceFlex[rowidCulture][resourceTag] = ResourcesDetail;\n                }\n            }\n            return ResourcesDetail;\n        }\n        return resourceTag;\n    }\n    \n    static _getResource(_resourceTag)\n    {\n        if(window.sdkFlexCulture){\n            const cultureId = window.sdkFlexCulture.id;\n            const resources = window.ResourceFlex[cultureId];\n            if (resources && resources[_resourceTag]) {\n                return resources[_resourceTag];\n            }\n        }else{\n            console.log(\"No existe window.sdkFlexCulture\");\n        }\n        return _resourceTag;\n    }\n\n    static async MapData(data, columns){\n        let dataMap = {}\n        for(const property in data){\n            let key = property;\n            for(const column of columns){\n                let splitPath = column.path.split('::');                \n                if(column.key_name == property){\n                    if(splitPath.length > 1){\n                        key = splitPath.slice(1).join(1)+'.'+column.name;\n                    }else{\n                        key = column.name;\n                    }\n                    break;\n                }\n            }\n            dataMap[key] = data[property];\n        };\n        return dataMap;\n    }\n }\n","import Tree, { TreeNode } from 'rc-tree';\nimport 'rc-tree/assets/index.css';\nimport React, { Component } from 'react';\nimport cookie from 'react-cookies';\nimport { connect } from 'react-redux';\nimport { updateFieldList, updateObjectProperty as updateObjectPropertyAction } from '../storage/actions';\nimport { formatFieldParameter, getUserToken, SDKNotification, ErrorsWindow } from '../Utils';\nimport cloneDeep from 'lodash/cloneDeep'\nimport {UtilManager} from '../Utils';\nexport class SourceTree extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = this.getInitialStateBaseSource(props, true);\n  }\n\n  getInitialStateBaseSource = (props, initial) => {\n    if (initial) {\n      if (props.report_header_data && props.report_header_data.metadata && props.report_header_data.metadata.treeData && props.report_header_data.metadata.treeData.length > 0 && props.report_header_data.metadata.checkedKeys && props.report_header_data.metadata.checkedKeys.checked.length > 0) {\n        return {\n          treeData: props.report_header_data.metadata.treeData,\n          checkedKeys: props.report_header_data.metadata.checkedKeys,\n          expandedKeys: props.report_header_data.metadata.expandedKeys\n        }\n      }\n    }\n    let selected_module_info = null;\n    let treeData = [];\n    let checkedKeys = {\n      checked: [],\n      halfChecked: []\n    };\n    let expandedKeys = [];\n    for (let index = 0; index < props.modules_list.length; index++) {\n      const element = props.modules_list[index];\n      if (element.options && element.options.length > 0) {\n        let value = element.options.find((e) => { return e.class_name === props.report_header_data.selected_class });\n        if (value) {\n          selected_module_info = value;\n          selected_module_info.path = selected_module_info.class_name;\n          treeData.push(selected_module_info);\n          if (checkedKeys.checked.indexOf(selected_module_info.path) === -1) {\n            checkedKeys.checked.push(selected_module_info.path);\n          }\n          expandedKeys = checkedKeys.checked;\n          break;\n        }\n      }\n    }\n\n    return {\n      treeData,\n      checkedKeys,\n      expandedKeys\n    }\n  }\n\n  async componentWillReceiveProps(new_props) {\n    if ((new_props.report_header_data && this.props.report_header_data) && (new_props.report_header_data.selected_class !== this.props.report_header_data.selected_class)) {\n      await this.setState(this.getInitialStateBaseSource(new_props));\n      this.onCheck(this.state.checkedKeys);\n    }\n  }\n\n  componentDidMount() {\n    this.onCheck(this.state.checkedKeys, true);\n  }\n\n  getFieldList = async (element, get_new = false) => {\n    let node = this.findPathInTree(this.state.treeData, element);\n    if (!node) {\n      return null;\n    }\n\n    if (!node.field_list || get_new) {\n      await this.loadBranch(node).catch((error) => { console.log(error); node.field_list = [] });\n    }\n    return {\n      label: node.breadcrumbs_label || node.label,\n      options: node.field_list\n    };\n\n  }\n\n  onCheck = async (checkedKeys, get_new = false) => {\n    let fields = [];\n    let keys_list = [];\n\n    if (get_new && checkedKeys && checkedKeys.checked) {\n      checkedKeys.checked.forEach(e => {\n        let element_list = [];\n        while (e.lastIndexOf(\"::\") > -1) {\n          element_list.push(e);\n          e = e.substr(0, e.lastIndexOf(\"::\"));\n        }\n        element_list.forEach(el => {\n          if (keys_list.indexOf(el) === -1) {\n            keys_list.push(el);\n          }\n        });\n      });\n\n      if(keys_list.length > 0){\n        keys_list.push(keys_list[0].split(\"::\")[0]);\n      }\n      keys_list = keys_list.sort();\n\n      if(keys_list.length === 0){\n        keys_list.push(this.props.report_header_data.selected_class);\n      }\n\n    } else {\n      keys_list = checkedKeys.checked;\n    }\n\n    for (let index = 0; index < keys_list.length; index++) {\n      const element = keys_list[index];\n      let element_fields = await this.getFieldList(element, get_new);\n      if (element_fields && checkedKeys.checked.indexOf(element) > -1) {\n        fields.push(element_fields);\n      }\n    }\n    this.setState({\n      checkedKeys,\n    });\n\n    this.props.updateFieldList(fields);\n  }\n\n\n  onExpand = (expandedKeys) => {\n    this.setState({\n      expandedKeys,\n    });\n  }\n\n  findPathInTree = (tree, path, parent) => {\n    for (let index = 0; index < tree.length; index++) {\n      const element = tree[index];\n      element.breadcrumbs_label = (parent ? parent.breadcrumbs_label + \" > \" : '') + element.label;\n      if (element.path === path) {\n        return element;\n      }\n\n      if (element.children && element.children.length > 0) {\n        let tmp = this.findPathInTree(element.children, path, element);\n        if (tmp) {\n          return tmp;\n        }\n      }\n    }\n    return null;\n  }\n\n  onClickLoad = async (treeNode,b,c,d,e) => {\n\n    //const wait = time => new Promise(resolve => setTimeout(resolve, time))\n    const treeData = [...this.state.treeData];\n    let node = this.findPathInTree(treeData, treeNode.props.eventKey);\n    let labelNode = node.label\n    const Label_Loading =  UtilManager._getResource(\"Custom.Generic.Loading\");\n    node.label += \" \"+Label_Loading //\" cargando...\"\n    node.fetchingData = true\n    this.setState({ treeData })\n    //await wait(3000)\n    await this.loadBranch(node).finally(() => { \n      node.label = labelNode\n      delete node.fetchingData\n    })\n    this.setState({ treeData })\n    const expandedKeys = [...this.state.expandedKeys]\n    expandedKeys.push(treeNode.props.eventKey);\n    this.setState({ treeData, expandedKeys });\n  }\n\n  componentWillUnmount() {\n    if (this.props.is_create_edit) {\n      this.props.updateObjectProperty('report_header_data', 'metadata', this.state);\n    }\n\n  }\n\n  loadBranch = async (node) => {\n    node.children = [];\n    return fetch('/api/BLFlex/GetClassInfo/', {\n      method: 'POST',\n      credentials: \"same-origin\",\n      headers: {\n        \"Accept\": \"application/json\",        \n        'X-Requested-With': 'XMLHttpRequest'\n      },\n      body: JSON.stringify(node)\n    }).then(res => res.json())\n      .then(data => {\n        if (data.status === false) {\n          throw (data.message);\n        }\n        node.children = [];\n        let relationships = data.data['relationships'];\n        node.field_list = data.data['fields'] || [];\n\n        for (let i = 0; i < node.field_list.length; i++) {\n          const field = node.field_list[i];\n          field.path = node.path;\n          field.key_name = formatFieldParameter(node.path, field.name);\n        }\n\n        relationships['many_to_many'].forEach((element, index) => {\n          element.path = node.path + '::' + element.fk_name;\n          node.children.push(element);\n        });\n\n        relationships['many_to_one'].forEach((element, index) => {\n          element.path = node.path + '::' + element.fk_name;\n          node.children.push(element);\n        });\n\n        relationships['one_to_many'].forEach((element, index) => {\n          element.path = node.path + '::' + element.class_name;\n          node.children.push(element);\n        });\n\n        ErrorsWindow.SuccessFlex();\n      }).catch(error => {\n        console.error(error);\n        try {\n           SDKNotification.ShowError(\"Custom.Generic.Message.Error\");\n           ErrorsWindow.ErrorsFlex(error);\n        } catch (err) {\n          console.error(err);\n           SDKNotification.ShowError(\"BLFlex.Notification.ErrorSave\");\n           ErrorsWindow.ErrorsFlex(err);\n        }\n      });\n  }\n\n  render() {\n    let first_node_disabled = false;\n    const { is_create_edit } = this.props;\n    const loop = (data, parent=undefined) => {\n      return data.map((item, index) => {\n        let disabled = (first_node_disabled === false && index === 0 ? true : false);\n        first_node_disabled = true;\n        let showChildren = true\n        let content\n\n        if (parent && item.label.startsWith('(m2m)') && item.label === parent.label) {\n          showChildren = false\n        }\n\n        if (showChildren) {\n          content = item.children ? loop(item.children, item) : null\n        } else {\n          content = null\n        }\n\n        let disableNode = false\n\n        if ('fetchingData' in item && item.fetchingData) {\n          disableNode = true\n        }\n\n        return (\n          <TreeNode disabled={ disableNode } disableCheckbox={ disabled || !is_create_edit } title={item.label} key={item.path} isLeaf={false} module_info={item}>{ content }</TreeNode>\n        );\n      });\n    };\n    const treeNodes = loop(this.state.treeData);\n    return (\n      <div >\n        <Tree\n          checkable\n          showIcon={false}\n          selectable={false}\n          onCheck={this.onCheck}\n          checkedKeys={this.state.checkedKeys}\n          expandedKeys={this.state.expandedKeys}\n          onExpand={this.onExpand}\n          autoExpandParent={true}\n          loadData={this.onClickLoad}\n          checkStrictly\n        >\n          {treeNodes}\n        </Tree>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    'report_header_data': state.general.report_header_data,\n    'modules_list': cloneDeep(state.general.modules_list),\n    'is_create_edit': state.general.is_create_edit\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    'updateObjectProperty': (object_name, property, value) => {\n      dispatch(updateObjectPropertyAction(object_name, property, value));\n    },\n    'updateFieldList': (field_list) => {\n      dispatch(updateFieldList(field_list));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SourceTree)\n","import React from 'react';\r\nimport { useLiveQuery } from \"dexie-react-hooks\";\r\nimport Dexie from 'dexie';\r\nimport { UtilManager } from '../../Utils';\r\n//import { db } from \"./db\";\r\n\r\nclass ResourceViewer extends React.Component {\r\n    state = {\r\n        text: 'BLFlex.Label.TableData'\r\n    }\r\n\r\n    async getText(resourceTag) {\r\n        //conectar a la db indexeDB y retonar el texto\r\n        let result = await UtilManager.GetResource(resourceTag);\r\n        this.setState({ text: result });\r\n    }\r\n\r\n    async componentDidMount() {\r\n        await this.getText(this.props.resourceTag);\r\n    }\r\n\r\n    async componentDidUpdate(prevProps) {\r\n        if (this.props.resourceTag !== prevProps.resourceTag) {\r\n            await this.getText(this.props.resourceTag);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                {this.state.text}\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ResourceViewer;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nclass SDKIcon extends React.Component {\r\n\r\n    getClass(iconStyle){\r\n\r\n        iconStyle = iconStyle.substring(iconStyle.indexOf(' ')+1);\r\n        return this.props.preference_style + ' ' + iconStyle;\r\n    }\r\n\r\n    render() {\r\n        const {iconStyle} = this.props;\r\n        let iconClass = this.getClass(iconStyle);\r\n\r\n        return (\r\n            <i className={iconClass} onClick={this.props.onClick}></i>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {      \r\n      'preference_style': state.general.preference_style\r\n    };\r\n  };\r\n\r\n  export default connect(mapStateToProps)(SDKIcon)\r\n  ","import cloneDeep from 'lodash/cloneDeep';\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Select from 'react-select';\nimport { Button, Col, Form, FormGroup, Input, Label, Modal, ModalBody, ModalFooter, ModalHeader, Row } from 'reactstrap';\nimport { fetchPreviewDataSuccess, toggleConfigModal as toggleConfigModalAction, updateObjectProperty as updateObjectPropertyAction } from '../storage/actions';\nimport { getSelectedGroupedOption } from '../Utils';\nimport SourceTree from './SourceTree';\nimport ResourceViewer from './Visualization/ResourceViewer';\nimport SDKIcon from './Visualization/SDKIcon';\n\n\nexport class ConfigModal extends Component {\n\n    constructor(props) {\n        super(props);\n        this.onHandleChange = this.onHandleChange.bind(this);\n    }\n\n    async onHandleChange(property, value) {\n        await this.props.updateObjectProperty(\"report_header_data\", property, value);\n    }\n\n    onChangeSource = async (e) => {\n        await this.onHandleChange('selected_class', e.value);\n        await this.onHandleChange('module_path', e.class_path);\n        await this.onHandleChange('module', e.module);\n        this.props.cleanPreviewData();\n    }\n    render() {\n        const { report_header_data, users_list, toggleConfigModal, show_config_modal, modules_list, roles_list, groups, filters, columns, is_create_edit, teams_list } = this.props;\n        const module_class_list = cloneDeep(modules_list);\n        module_class_list.map((item) => {\n            if (!item.options) {\n                return item;\n            }\n            item.options.map((x) => { x[\"value\"] = x[\"class_name\"]; return x });\n            return item\n        });\n        return (<Modal scrollable={false} centered={true} size=\"lg\" isOpen={show_config_modal} toggle={toggleConfigModal} className=\"config-modal\">\n            <ModalHeader toggle={toggleConfigModal}><SDKIcon iconStyle=\"fa-cog\" />\n            <ResourceViewer resourceTag=\"BLFlex.Label.FlexConfiguration\" /></ModalHeader>\n            <ModalBody>\n                <Form>\n                    <Row form>\n                        <Col md={12}>\n                            <FormGroup>\n                                <Label for=\"name\"><ResourceViewer resourceTag=\"BLFlex.Label.FlexName\" /></Label>\n                                <Input type=\"text\" disabled={!is_create_edit} name=\"name\" id=\"name\" onChange={(e) => { this.onHandleChange(\"name\", e.target.value); }} value={report_header_data.name} />\n                            </FormGroup>\n                        </Col>\n                        {/* <Col md={6}>\n                            <FormGroup>\n                                <Label for=\"owner\">Propietario</Label>\n                                <Select name=\"owner\" isDisabled={!is_create_edit} options={users_list} onChange={(e) => { this.onHandleChange('owner_id', e.value) }} value={users_list.find((e) => { return e.value === report_header_data.owner_id })} />\n                            </FormGroup>\n                        </Col> */}\n                    </Row>\n                    {/* <Row form>\n                        <Col md={4}>\n                            <FormGroup>\n                                <Label for=\"visible_on_module\">Mostrar en</Label>\n                                <Select isDisabled={!is_create_edit} name=\"visible_on_module\" options={modules_list} onChange={(e) => { this.onHandleChange('visible_on_module', e.value) }} value={getSelectedGroupedOption(modules_list, report_header_data.visible_on_module)} />\n                            </FormGroup>\n                        </Col>\n                        <Col md={4}>\n                            <FormGroup>\n                                <Label for=\"visible_users\">Visible para los usuarios</Label>\n                                <Select isDisabled={!is_create_edit} isMulti name=\"visible_users\" options={users_list} onChange={(items) => { this.onHandleChange('visible_users', (items ? items.map((item) => { return item.value }) : [])) }} value={users_list.filter((user) => { return report_header_data.visible_users.indexOf(user.value) !== -1 })} />\n                            </FormGroup>\n                        </Col>\n                        <Col md={4}>\n                            <FormGroup>\n                                <Label for=\"visible_roles\">Visible para los roles</Label>\n                                <Select isDisabled={!is_create_edit} isMulti name=\"visible_roles\" options={roles_list} onChange={(items) => { this.onHandleChange('visible_roles', (items ? items.map((item) => { return item.value }) : [])) }} value={roles_list.filter((rol) => { return report_header_data.visible_roles.indexOf(rol.value) !== -1 })} />\n                            </FormGroup>\n                        </Col>\n                    </Row> */}\n                    <Row form>\n                        <Col md={12}>\n                            <FormGroup>\n                                <Label for=\"description\"><ResourceViewer resourceTag=\"BLFlex.Label.FlexDescription\" /></Label>\n                                <Input disabled={!is_create_edit} type=\"textarea\" name=\"description\" id=\"description\" onChange={(e) => { this.onHandleChange(\"description\", e.target.value); }} value={report_header_data.description} />\n                            </FormGroup>\n                        </Col>\n                    </Row>\n                    {/* <Row form>\n                        <Col md={12}>\n                            <FormGroup>\n                                <Label for=\"owner_team\">Equipo asignado</Label>\n                                <Select isDisabled={!is_create_edit} name=\"owner_team_id\" options={teams_list} onChange={(e) => { this.onHandleChange('owner_team_id', e.value) }} value={(report_header_data.owner_team_id && teams_list ? teams_list.find((team) => { return team.value === report_header_data.owner_team_id }) : null)} />\n                            </FormGroup>\n                        </Col>\n                    </Row> */}\n                    <Row form>\n                        <Col md={12}>\n                            <FormGroup>\n                                <Label for=\"module_path\"><ResourceViewer resourceTag=\"BLFlex.Label.FlexSource\" /></Label>\n                                <div className=\"source-tree\">\n                                    <Col md={6}>\n                                        <Select isDisabled={(!is_create_edit || (groups && groups.length > 0) || (filters && filters.length > 0) || (columns && columns.length > 0))} name=\"module_path\" options={module_class_list} onChange={(e) => { this.onChangeSource(e) }} value={getSelectedGroupedOption(module_class_list, report_header_data.selected_class)} />\n                                    </Col>\n                                    <Col className=\"tree-container\" md={12}>\n                                        <SourceTree />\n                                    </Col>\n\n                                </div>\n\n                            </FormGroup>\n                        </Col>\n                    </Row>\n                </Form>\n            </ModalBody>\n            <ModalFooter>\n                {/* <Button color=\"secondary\" onClick={toggleConfigModal}>Cancelar</Button> */}\n                <Button color=\"primary\" className=\"btn_primary_def_1\" onClick={toggleConfigModal}>\n                    <ResourceViewer resourceTag=\"Action.Continue\" /></Button>\n\n            </ModalFooter>\n        </Modal>);\n    }\n}\n\n\nconst mapStateToProps = state => {\n    return {\n        'report_header_data': state.general.report_header_data,\n        'users_list': state.general.users_list,\n        'show_config_modal': state.general.show_config_modal,\n        'modules_list': state.general.modules_list,\n        'roles_list': state.general.roles_list,\n        'groups': state.general.groups,\n        'filters': state.general.filters,\n        'columns': state.general.columns,\n        'is_create_edit': state.general.is_create_edit,\n        'teams_list': state.general.teams_list\n    };\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        'toggleConfigModal': () => {\n            dispatch(toggleConfigModalAction());\n        },\n        'updateObjectProperty': async (object_name, property, value) => {\n            await dispatch(updateObjectPropertyAction(object_name, property, value));\n        },\n        'cleanPreviewData': () => {\n            dispatch(fetchPreviewDataSuccess([]));\n        },\n    };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ConfigModal);","import React, { Component } from 'react'\nimport { Chart } from 'devextreme-react/chart';\n\nimport PieChart from 'devextreme-react/pie-chart';\nimport { connect } from 'react-redux';\n\nimport { applyTableFilter } from '../storage/actions';\nimport isEqual from 'lodash/isEqual';\nimport cloneDeep from 'lodash/cloneDeep';\nimport { numberFormat, SDKNotification, ErrorsWindow } from '../Utils';\nimport Funnel, {\n  Item,\n  Border,\n  Label,\n  Font,\n  Legend\n} from 'devextreme-react/funnel';\n\nclass OpalChart extends Component {\n\n  constructor(props) {\n    let colors_scheme = [];\n    super(props);\n    this.state = {\n      data: [],\n      line_series: []\n    }\n    \n    for (let i = 1; i <= 36; i++) {\n      colors_scheme.push(getComputedStyle(document.documentElement).getPropertyValue(`--color_chart_flex_${i}`));\n    }    \n    this.colors_scheme = colors_scheme;\n  }\n\n  groupData = async (props, replaces) => {\n    // if (props.loading) {\n    //   return;\n    // }\n    let data = props.data;\n    let chart_def = props.chart_def;\n    if (data.length <= 0 || (props.is_preview && data.length > 300 && !chart_def.operator)) {\n      return this.setState({ data: [], line_series: [] });\n    }\n\n    if (typeof replaces === 'undefined') {\n      replaces = {};\n    }\n\n    let acum_dict = {};\n    let xaxis = chart_def.xaxis;\n    if (chart_def.type === 'numeric') {\n       xaxis = \"oreports_all\";\n    }\n    let operator = chart_def.operator;\n    if (!chart_def.operator) {\n      return this.setState({ data: data, line_series: [] });\n    }\n\n    let xaxis_oreports_key = xaxis + \"_oreports_key\";\n    let type_with_value = ['line', 'area', 'stacked_bar', 'grouped_bar', 'horizontal_stacked_bar', 'horizontal_grouped_bar'].indexOf(chart_def.type) !== -1;\n    let use_value_field = (type_with_value && chart_def.value_field ? true : false);\n    let line_series = [];\n\n    await chart_def.yaxis.forEach(yaxis => {\n\n      for (let i = 0; i < data.length; i++) {\n        try {\n          const row = data[i];\n          const xaxis_argument = (row[xaxis] in replaces ? replaces[row[xaxis]] : row[xaxis]);\n          const xaxis_argument_oreports_key = (row[xaxis_oreports_key] in replaces ? replaces[row[xaxis_oreports_key]] : row[xaxis_oreports_key]);\n          const value = (use_value_field ? Number(row[chart_def.value_field]) : Number(row[yaxis]));\n          if (!(xaxis_argument in acum_dict)) {\n            acum_dict[xaxis_argument] = {};\n            acum_dict[xaxis_argument][xaxis] = xaxis_argument;\n            acum_dict[xaxis_argument][xaxis_oreports_key] = xaxis_argument_oreports_key;\n\n            var colorIndex = i;\n            if (colorIndex > this.colors_scheme.length - 1) {\n              colorIndex = colorIndex % this.colors_scheme.length;\n            }\n            acum_dict[xaxis_argument][\"color\"] = this.colors_scheme[colorIndex];\n          }\n\n          let yaxis_agurment = (use_value_field ? row[yaxis] : yaxis);\n          if (use_value_field && line_series.indexOf(yaxis_agurment) === -1) {\n            line_series.push(yaxis_agurment);\n          }\n\n          if(chart_def.type === 'numeric' && operator === 'count' && row[yaxis] !== null && line_series.indexOf(row[yaxis]) === -1){\n            line_series.push(row[yaxis]);\n          }\n\n          if (!(yaxis_agurment in acum_dict[xaxis_argument])) {\n            acum_dict[xaxis_argument][yaxis_agurment + \"__counter\"] = 1;\n            if (operator === 'avg') {\n              acum_dict[xaxis_argument][yaxis_agurment] = [value];\n            } else if (operator === 'count') {\n              acum_dict[xaxis_argument][yaxis_agurment] = 1;\n            } else {\n              acum_dict[xaxis_argument][yaxis_agurment] = value;\n            }\n          } else {\n            acum_dict[xaxis_argument][yaxis_agurment + \"__counter\"] += 1;\n            if (operator === 'sum') {\n              acum_dict[xaxis_argument][yaxis_agurment] += value;\n            } else if (operator === 'count') {\n              acum_dict[xaxis_argument][yaxis_agurment] += 1;\n            } else if (operator === 'min') {\n              acum_dict[xaxis_argument][yaxis_agurment] = Math.min(acum_dict[xaxis_argument][yaxis_agurment], value);\n            } else if (operator === 'max') {\n              acum_dict[xaxis_argument][yaxis_agurment] = Math.max(acum_dict[xaxis_argument][yaxis_agurment], value);\n            } else if (operator === 'avg') {\n              acum_dict[xaxis_argument][yaxis_agurment].push(value);\n            }\n          }\n        } catch (error) {\n          console.log(\"error for\", error);\n        }\n\n      }\n      if (operator === 'avg') {\n        for (var row_key in acum_dict) {\n          if (use_value_field) {\n            for (var attr_key in acum_dict[row_key]) {\n              if (acum_dict[row_key].hasOwnProperty(attr_key) && Array.isArray(acum_dict[row_key][attr_key])) {\n                acum_dict[row_key][attr_key] = acum_dict[row_key][attr_key].reduce(function (a, b) {\n                  return a + b;\n                }, 0) / acum_dict[row_key][attr_key].length;\n              }\n            }\n          } else {\n            acum_dict[row_key][yaxis] = acum_dict[row_key][yaxis].reduce(function (a, b) {\n              return a + b;\n            }, 0) / acum_dict[row_key][yaxis].length;\n          }\n        }\n      }else if(chart_def.type === 'numeric' && operator === 'count'){\n        \n        acum_dict[undefined][yaxis] = line_series.length;\n        line_series = [];\n      }\n    });\n    let return_data = Object.values(acum_dict);\n    if (chart_def && chart_def.order_options_value && chart_def.order_options_value.length > 0 && return_data.length > 0) {\n      const options = chart_def.order_options_value.map(e => { return e.value });\n      return_data = return_data.filter(row => {\n        return options.indexOf(row[xaxis_oreports_key].toString()) !== -1;\n      });\n      return_data.sort((row1, row2) => {\n        const index1 = options.indexOf(row1[xaxis_oreports_key].toString());\n        const index2 = options.indexOf(row2[xaxis_oreports_key].toString());\n        return ((index1 > -1 ? index1 : Infinity) - (index2 > -1 ? index2 : Infinity));\n      });\n    }\n\n\n    if (return_data.length > 300) {      \n      SDKNotification.ShowError(\"BLFlex.Notification.ChangeFilter\");\n      ErrorsWindow.ErrorsFlex(\"BLFlex.Notification.ChangeFilter\");\n      return this.setState({ data: [], line_series: line_series });\n    }else{\n      ErrorsWindow.SuccessFlex();\n    }    \n\n    return this.setState({ data: return_data, line_series });\n  }\n\n  componentWillMount() {\n    if (this.props.data.length > 0) {\n      this.groupData(this.props);\n    }\n  }\n\n  componentWillReceiveProps(new_props) {\n    if ((!isEqual(new_props.data, this.props.data)) || (new_props.chart_def.xaxis !== this.props.chart_def.xaxis) || (new_props.chart_def.value_field !== this.props.chart_def.value_field) || (!isEqual(new_props.chart_def.yaxis, this.props.chart_def.yaxis)) || (new_props.chart_def.type !== this.props.chart_def.type) || (new_props.chart_def.operator !== this.props.chart_def.operator) || (new_props.loading !== this.props.loading) || (!isEqual(new_props.chart_def.order_options_value, this.props.chart_def.order_options_value))) {\n      this.groupData(new_props);\n    }\n  }\n\n  onPointClick = (info, agurment_field = false) => {\n    if (info.item && agurment_field) {\n      this.props.applyFilter(agurment_field, info.item.argument);\n    }\n    if (info.target && info.target.series) {\n      this.props.applyFilter(info.target.series.getArgumentField(), info.target.argument);\n    }\n  }\n\n  onLegendClick = (argument) => {\n    return (info) => {\n      if (argument && info.target) {\n\n        let value = info.target;\n\n        if (value.name) {\n          value = value.name;\n        }\n        if (['line', 'area', 'stacked_bar', 'grouped_bar', 'horizontal_stacked_bar', 'horizontal_grouped_bar'].indexOf(this.props.chart_def.type) !== -1 && this.props.chart_def.yaxis && this.props.chart_def.yaxis.length > 0) {\n          this.props.applyFilter(this.props.chart_def.yaxis[0], value);\n        } else {\n          this.props.applyFilter(argument, value);\n        }\n      }\n    }\n  }\n\n  compareValues = (key, order = 'asc') => {\n    return function innerSort(a,b){\n      if(!a.hasOwnProperty(key) || !b.hasOwnProperty(key))return 0;\n\n      const varA = (typeof a[key] === 'string') ? a[key].toUpperCase() : a[key];\n      const varB = (typeof b[key] === 'string') ? b[key].toUpperCase() : b[key];\n\n      let comparision = 0;\n      if(varA > varB){\n        comparision = 1;\n      }else if(varA < varB){\n        comparision = -1;\n      }\n\n      return ((order === 'desc') ? (comparision * -1) : comparision)\n    }\n\n  }\n\n  render() {\n\n    const { chart_def, groups, columns, isZoomed } = this.props;\n\n    // if (loading) {\n    //   return <div className=\"chart-loading\"><span><SDKIcon iconStyle=\"fa-spinner fa-spin\" /> Cargando...</span></div>;\n    // }\n    let axis_options = columns.map(field => { return { value: field.key_name, label: field.label, field_type: field[\"type\"] } }).concat(groups.map(field => { return { value: field.key_name, label: field.label, field_type: field[\"type\"] } }));\n    let chart_type = chart_def.type;\n    let is_line_type = ['line', 'area', 'stacked_bar', 'grouped_bar', 'horizontal_stacked_bar', 'horizontal_grouped_bar'].indexOf(chart_def.type) !== -1;\n\n    let chart_props = {\n      title: chart_def.title,\n      dataSource: this.state.data,\n      tooltip: {\n        enabled: true,\n        format: (value) => {\n          return numberFormat(value, 2);\n        },\n      },\n      legend: {\n        visible: true\n      },\n      onPointClick: this.onPointClick,\n      onLegendClick: this.onLegendClick(chart_def.xaxis)\n    }\n\n    switch (chart_def.type) {\n      case \"stacked_bar\":\n        chart_type = \"stackedBar\";\n        break;\n      case \"grouped_bar\":\n        chart_type = \"bar\";\n        break;\n      case \"horizontal_bar\":\n        chart_type = \"bar\";\n        chart_props[\"rotated\"] = true;\n        break;\n      case \"horizontal_stacked_bar\":\n        chart_type = \"stackedBar\";\n        chart_props[\"rotated\"] = true;\n        break;\n      case \"horizontal_grouped_bar\":\n        chart_type = \"bar\";\n        chart_props[\"rotated\"] = true;\n        break;\n      default:\n        break;\n    }\n    let series = [];\n\n    if (is_line_type) {\n      series = this.state.line_series.map(element => {\n        return {\n          valueField: element,\n          argumentField: chart_def.xaxis,\n          type: chart_type,\n          ignoreEmptyPoints: false,\n          name: element\n        }\n      });\n    } else {\n      series = chart_def.yaxis.map(element => {\n        let yaxis_option = axis_options.find(item => { return item.value === element });\n        return {\n          valueField: element,\n          argumentField: chart_def.xaxis,\n          type: chart_type,\n          ignoreEmptyPoints: true,\n          name: (yaxis_option ? yaxis_option.label : '')\n        }\n      });\n    }\n\n\n    chart_props[\"tooltip\"] = {\n      enabled: true,\n      format: (value) => {\n        return numberFormat(value, 2);\n      },\n      customizeTooltip: function (data) {\n        let large_number = numberFormat(data.originalValue, 2, true);\n        var txt = data.argumentText;\n        if (data.argumentText !== data.seriesName) {\n          txt += \"\\n\" + data.seriesName;\n        }\n        txt += \"\\n\" + large_number;\n        return { text: txt }\n      }\n    }\n\n\n\n    let chart_component = null;\n    chart_props[\"palette\"] = this.colors_scheme;\n    if (chart_type === \"donut\") {\n      chart_props[\"commonSeriesSettings\"] = {\n        label: {\n          visible: true,\n          font: {\n            size: 16,\n            color: \"black\"\n          },\n          connector: {\n            visible: true,\n            width: 0.5\n          },\n        },\n        argumentField: chart_def.xaxis,\n        type: ''\n      };\n      chart_props[\"tooltip\"] = {\n        enabled: true,\n        format: (value) => {\n          return numberFormat(value, 2);\n        },\n        customizeTooltip: function (arg) {\n          let large_number = numberFormat(arg.originalValue, 2, true);\n          return {\n            text: `${arg.argumentText}\\n${large_number} - ${(arg.percent * 100).toFixed(2)}%`\n          };\n        }\n      }\n      chart_props[\"legend\"] = {\n        margin: 0,\n        horizontalAlignment: \"right\",\n        verticalAlignment: \"top\"\n      }\n      series.forEach(serie => {\n        serie.label = {\n          format: (value) => {\n            return numberFormat(value, 2);\n          },\n        }\n      });\n      chart_props[\"series\"] = series;\n      chart_props[\"resolveLabelOverlapping\"] = \"hide\";      \n\n      chart_component = (\n        <PieChart\n          {...chart_props}\n          ref={(c) => this.chartRef = c}\n        >\n        </PieChart>\n      );\n    } else if (chart_type === \"funnel\") {\n      chart_props[\"argumentField\"] = chart_def.xaxis;\n      chart_props[\"valueField\"] = (series.length > 0 ? series[0].valueField : '');\n      chart_props[\"tooltip\"] = {\n        enabled: true,\n        format: (value) => {\n          return numberFormat(value, 2);\n        },\n        customizeTooltip: function (data) {\n          let large_number = numberFormat(data.value, 2, true);\n          var txt = `${data.item.argument}\\n${large_number}`;\n          return { text: txt }\n        }\n      }\n      chart_props[\"onItemClick\"] = (info) => {\n        return this.onPointClick(info, chart_def.xaxis);\n      }\n\n      chart_component = (\n        <Funnel\n          {...chart_props}\n          ref={(c) => this.chartRef = c}\n          sortData={(chart_def.order_options_value && chart_def.order_options_value.length > 0 ? false : true)}\n          algorithm={\"dynamicHeight\"}\n        >\n          <Legend visible={isZoomed ? true : false} />\n          <Item>\n            <Border visible={true} />\n          </Item>\n          <Label\n            visible={isZoomed ? true : false}\n            horizontalAlignment=\"left\"\n            backgroundColor=\"none\"\n            customizeText={(arg) => {\n              let formated_number = numberFormat(arg.value, 2);\n              return `${arg.item.argument} - ${formated_number}`;\n            }}\n          ><Font size={16} color={\"#000\"} /></Label>\n        </Funnel>\n      );\n    } else if (chart_type === \"numeric\") {\n      let chart_value = 0;\n      let value_field = series.length > 0 ? series[0].valueField : '';\n      (this.state.data || []).forEach(element => {\n        chart_value += element[value_field] || 0;\n      });\n\n      let value_type = axis_options.find((data) => { return data.value === value_field });\n      let large_number = 0;\n      if (value_type) {\n        switch (value_type.field_type) {\n          case \"CurrencyField\":\n            large_number = \"$\" + numberFormat(chart_value, 2, true);\n            chart_value = \"$\" + numberFormat(chart_value, 2);\n            break;\n          default:\n            large_number = numberFormat(chart_value, 2, true);\n            chart_value = numberFormat(chart_value, 2);\n            break;\n        }\n      }\n      chart_component = (\n        <div className=\"numeric-chart\" title={large_number} style={{\n          backgroundColor: chart_def.background_color || 'inherit',\n          color: chart_def.text_color || 'inherit',\n        }}>\n          <span className=\"numeric-chart-title\">{chart_def.title || ''}</span>\n          <span className=\"numeric-chart-body\">{chart_value}</span>\n        </div>\n      );\n    } else {\n      if (series.length > 1 || is_line_type) {\n        chart_props[\"series\"] = series;\n      } else {\n        chart_props[\"seriesTemplate\"] = {\n          nameField: chart_def.xaxis\n        };\n\n        chart_props[\"commonSeriesSettings\"] = {\n          argumentField: chart_def.xaxis,\n          valueField: (series.length > 0 ? series[0].valueField : ''),\n          type: chart_type,\n          ignoreEmptyPoints: true\n        };\n      }\n      \n      const type_value_x = axis_options.find(e=>e.value === chart_def.xaxis)\n      if(type_value_x && type_value_x.field_type === \"IntegerField\")chart_props['argumentAxis'] = {'type':'discrete'}\n\n      const colSorter = columns.find(e=> e.isSorter);\n      if(colSorter){\n        const sortType = colSorter.sortType || null ? colSorter.sortType : 'desc';\n        let dataSorted = cloneDeep(chart_props.dataSource);\n        chart_props['dataSource'] = dataSorted.sort(this.compareValues(colSorter.name, sortType));\n      }\n      \n      chart_component = (<Chart \n        ref={(c) => this.chartRef = c}\n        {...chart_props}\n      >\n      </Chart>);\n    }\n    return chart_component;\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    'groups': state.general.groups,\n    'columns': state.general.columns,\n    'is_create_edit': state.general.is_create_edit,\n    //'loading': state.general.loading,\n    'data': state.general.charts_data,\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    'applyFilter': (column, value) => {\n      dispatch(applyTableFilter(column, value));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(OpalChart);\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  id: \"Group_2639\",\n  \"data-name\": \"Group 2639\",\n  transform: \"translate(19395 1576.005)\",\n  opacity: 0.5\n}, React.createElement(\"g\", {\n  id: \"Group_2637\",\n  \"data-name\": \"Group 2637\",\n  transform: \"translate(-19394.824 -1576.005)\"\n}, React.createElement(\"path\", {\n  id: \"Union_1\",\n  \"data-name\": \"Union 1\",\n  d: \"M16.385,36.808V24.457H4.035a4.035,4.035,0,0,1,0-8.07H16.385V4.036a4.035,4.035,0,1,1,8.07,0V16.386H36.806a4.035,4.035,0,1,1,0,8.07H24.456V36.808a4.035,4.035,0,0,1-8.07,0Z\",\n  transform: \"translate(100.419 28.47) rotate(-16)\",\n  fill: \"#909090\",\n  opacity: 0.5\n}), React.createElement(\"path\", {\n  id: \"Union_2\",\n  \"data-name\": \"Union 2\",\n  d: \"M16.385,36.808V24.458H4.035a4.036,4.036,0,0,1,0-8.071H16.385V4.036a4.035,4.035,0,1,1,8.07,0V16.386H36.806a4.036,4.036,0,0,1,0,8.071H24.456V36.808a4.035,4.035,0,0,1-8.07,0Z\",\n  transform: \"translate(242.773 0) rotate(28)\",\n  fill: \"#909090\",\n  opacity: 0.5\n}), React.createElement(\"path\", {\n  id: \"Union_4\",\n  \"data-name\": \"Union 4\",\n  d: \"M16.385,36.808V24.458H4.035a4.036,4.036,0,0,1,0-8.071H16.385V4.036a4.035,4.035,0,1,1,8.07,0V16.386H36.806a4.036,4.036,0,0,1,0,8.071H24.456V36.808a4.035,4.035,0,0,1-8.07,0Z\",\n  transform: \"translate(319.476 297.683) rotate(9)\",\n  fill: \"#909090\",\n  opacity: 0.5\n}), React.createElement(\"path\", {\n  id: \"Union_6\",\n  \"data-name\": \"Union 6\",\n  d: \"M16.385,36.808V24.458H4.035a4.036,4.036,0,0,1,0-8.071H16.385V4.036a4.035,4.035,0,1,1,8.07,0V16.386H36.806a4.036,4.036,0,0,1,0,8.071H24.456V36.808a4.035,4.035,0,0,1-8.07,0Z\",\n  transform: \"translate(27.361 293.694) rotate(-18)\",\n  fill: \"#909090\",\n  opacity: 0.5\n}), React.createElement(\"path\", {\n  id: \"Union_3\",\n  \"data-name\": \"Union 3\",\n  d: \"M10.427,23.423v-7.86H2.568a2.568,2.568,0,0,1,0-5.136h7.859V2.568a2.568,2.568,0,0,1,5.136,0v7.86h7.859a2.568,2.568,0,0,1,0,5.136H15.563v7.86a2.568,2.568,0,0,1-5.136,0Z\",\n  transform: \"translate(401.501 145.003) rotate(13)\",\n  fill: \"#909090\",\n  opacity: 0.5\n}), React.createElement(\"path\", {\n  id: \"Union_7\",\n  \"data-name\": \"Union 7\",\n  d: \"M10.427,23.423v-7.86H2.568a2.568,2.568,0,0,1,0-5.136h7.859V2.568a2.568,2.568,0,0,1,5.136,0v7.86h7.859a2.568,2.568,0,0,1,0,5.136H15.563v7.86a2.568,2.568,0,0,1-5.136,0Z\",\n  transform: \"translate(65.244 106.978) rotate(-15)\",\n  fill: \"#909090\",\n  opacity: 0.5\n}), React.createElement(\"path\", {\n  id: \"Union_5\",\n  \"data-name\": \"Union 5\",\n  d: \"M10.427,23.423v-7.86H2.568a2.568,2.568,0,0,1,0-5.136h7.859V2.568a2.568,2.568,0,0,1,5.136,0v7.86h7.859a2.568,2.568,0,0,1,0,5.136H15.563v7.86a2.568,2.568,0,0,1-5.136,0Z\",\n  transform: \"translate(184.787 348.896) rotate(-11)\",\n  fill: \"#909090\",\n  opacity: 0.5\n}), React.createElement(\"path\", {\n  id: \"Exclusion_1\",\n  \"data-name\": \"Exclusion 1\",\n  d: \"M14,28a14.1,14.1,0,0,1-2.822-.284,13.921,13.921,0,0,1-5.006-2.106A14.039,14.039,0,0,1,1.1,19.449a13.926,13.926,0,0,1-.816-2.628,14.135,14.135,0,0,1,0-5.643A13.924,13.924,0,0,1,2.391,6.172,14.041,14.041,0,0,1,8.551,1.1,13.9,13.9,0,0,1,11.179.284a14.134,14.134,0,0,1,5.643,0,13.921,13.921,0,0,1,5.006,2.106A14.04,14.04,0,0,1,26.9,8.551a13.932,13.932,0,0,1,.816,2.628,14.137,14.137,0,0,1,0,5.643,13.925,13.925,0,0,1-2.107,5.006A14.041,14.041,0,0,1,19.45,26.9a13.914,13.914,0,0,1-2.628.816A14.1,14.1,0,0,1,14,28ZM14,4.359A9.6,9.6,0,0,0,8.61,6.006a9.669,9.669,0,0,0-3.493,4.242,9.628,9.628,0,0,0,.889,9.143,9.667,9.667,0,0,0,4.241,3.493,9.628,9.628,0,0,0,9.143-.889,9.671,9.671,0,0,0,3.493-4.241,9.628,9.628,0,0,0-.889-9.143,9.668,9.668,0,0,0-4.242-3.493A9.582,9.582,0,0,0,14,4.359Z\",\n  transform: \"translate(330.824 60.005)\",\n  fill: \"#909090\",\n  opacity: 0.5\n}), React.createElement(\"path\", {\n  id: \"Exclusion_6\",\n  \"data-name\": \"Exclusion 6\",\n  d: \"M14,28a14.1,14.1,0,0,1-2.822-.284,13.921,13.921,0,0,1-5.006-2.106A14.039,14.039,0,0,1,1.1,19.449a13.926,13.926,0,0,1-.816-2.628,14.135,14.135,0,0,1,0-5.643A13.924,13.924,0,0,1,2.391,6.172,14.041,14.041,0,0,1,8.551,1.1,13.9,13.9,0,0,1,11.179.284a14.134,14.134,0,0,1,5.643,0,13.921,13.921,0,0,1,5.006,2.106A14.04,14.04,0,0,1,26.9,8.551a13.932,13.932,0,0,1,.816,2.628,14.137,14.137,0,0,1,0,5.643,13.925,13.925,0,0,1-2.107,5.006A14.041,14.041,0,0,1,19.45,26.9a13.914,13.914,0,0,1-2.628.816A14.1,14.1,0,0,1,14,28ZM14,4.359A9.6,9.6,0,0,0,8.61,6.006a9.669,9.669,0,0,0-3.493,4.242,9.628,9.628,0,0,0,.889,9.143,9.667,9.667,0,0,0,4.241,3.493,9.628,9.628,0,0,0,9.143-.889,9.671,9.671,0,0,0,3.493-4.241,9.628,9.628,0,0,0-.889-9.143,9.668,9.668,0,0,0-4.242-3.493A9.582,9.582,0,0,0,14,4.359Z\",\n  transform: \"translate(-0.176 160.005)\",\n  fill: \"#909090\",\n  opacity: 0.5\n}), React.createElement(\"path\", {\n  id: \"Exclusion_4\",\n  \"data-name\": \"Exclusion 4\",\n  d: \"M14,28a14.1,14.1,0,0,1-2.822-.284,13.921,13.921,0,0,1-5.006-2.106A14.039,14.039,0,0,1,1.1,19.449a13.926,13.926,0,0,1-.816-2.628,14.135,14.135,0,0,1,0-5.643A13.924,13.924,0,0,1,2.391,6.172,14.041,14.041,0,0,1,8.551,1.1,13.9,13.9,0,0,1,11.179.284a14.134,14.134,0,0,1,5.643,0,13.921,13.921,0,0,1,5.006,2.106A14.04,14.04,0,0,1,26.9,8.551a13.932,13.932,0,0,1,.816,2.628,14.137,14.137,0,0,1,0,5.643,13.925,13.925,0,0,1-2.107,5.006A14.041,14.041,0,0,1,19.45,26.9a13.914,13.914,0,0,1-2.628.816A14.1,14.1,0,0,1,14,28ZM14,4.359A9.6,9.6,0,0,0,8.61,6.006a9.669,9.669,0,0,0-3.493,4.242,9.628,9.628,0,0,0,.889,9.143,9.667,9.667,0,0,0,4.241,3.493,9.628,9.628,0,0,0,9.143-.889,9.671,9.671,0,0,0,3.493-4.241,9.628,9.628,0,0,0-.889-9.143,9.668,9.668,0,0,0-4.242-3.493A9.582,9.582,0,0,0,14,4.359Z\",\n  transform: \"translate(262.824 370.005)\",\n  fill: \"#909090\",\n  opacity: 0.5\n}), React.createElement(\"path\", {\n  id: \"Exclusion_8\",\n  \"data-name\": \"Exclusion 8\",\n  d: \"M14,28a14.1,14.1,0,0,1-2.822-.284,13.921,13.921,0,0,1-5.006-2.106A14.039,14.039,0,0,1,1.1,19.449a13.926,13.926,0,0,1-.816-2.628,14.135,14.135,0,0,1,0-5.643A13.924,13.924,0,0,1,2.391,6.172,14.041,14.041,0,0,1,8.551,1.1,13.9,13.9,0,0,1,11.179.284a14.134,14.134,0,0,1,5.643,0,13.921,13.921,0,0,1,5.006,2.106A14.04,14.04,0,0,1,26.9,8.551a13.932,13.932,0,0,1,.816,2.628,14.137,14.137,0,0,1,0,5.643,13.925,13.925,0,0,1-2.107,5.006A14.041,14.041,0,0,1,19.45,26.9a13.914,13.914,0,0,1-2.628.816A14.1,14.1,0,0,1,14,28ZM14,4.359A9.6,9.6,0,0,0,8.61,6.006a9.669,9.669,0,0,0-3.493,4.242,9.628,9.628,0,0,0,.889,9.143,9.667,9.667,0,0,0,4.241,3.493,9.628,9.628,0,0,0,9.143-.889,9.671,9.671,0,0,0,3.493-4.241,9.628,9.628,0,0,0-.889-9.143,9.668,9.668,0,0,0-4.242-3.493A9.582,9.582,0,0,0,14,4.359Z\",\n  transform: \"translate(380.824 274.005)\",\n  fill: \"#909090\",\n  opacity: 0.5\n}), React.createElement(\"path\", {\n  id: \"Exclusion_2\",\n  \"data-name\": \"Exclusion 2\",\n  d: \"M8.5,17a8.559,8.559,0,0,1-1.713-.173,8.452,8.452,0,0,1-3.039-1.279,8.524,8.524,0,0,1-3.08-3.74,8.455,8.455,0,0,1-.5-1.6,8.582,8.582,0,0,1,0-3.426,8.454,8.454,0,0,1,1.279-3.04A8.525,8.525,0,0,1,5.192.668a8.441,8.441,0,0,1,1.6-.5,8.582,8.582,0,0,1,3.426,0,8.452,8.452,0,0,1,3.039,1.279,8.524,8.524,0,0,1,3.08,3.74,8.459,8.459,0,0,1,.5,1.6,8.583,8.583,0,0,1,0,3.426,8.455,8.455,0,0,1-1.279,3.04,8.525,8.525,0,0,1-3.74,3.079,8.448,8.448,0,0,1-1.6.5A8.558,8.558,0,0,1,8.5,17Zm0-14.353a5.826,5.826,0,0,0-3.273,1A5.871,5.871,0,0,0,3.107,6.222a5.845,5.845,0,0,0,.54,5.551,5.869,5.869,0,0,0,2.575,2.121,5.846,5.846,0,0,0,5.551-.54,5.872,5.872,0,0,0,2.121-2.575,5.846,5.846,0,0,0-.54-5.551,5.87,5.87,0,0,0-2.575-2.121A5.818,5.818,0,0,0,8.5,2.647Z\",\n  transform: \"translate(335.824 202.005)\",\n  fill: \"#909090\",\n  opacity: 0.5\n}), React.createElement(\"path\", {\n  id: \"Exclusion_5\",\n  \"data-name\": \"Exclusion 5\",\n  d: \"M8.5,17a8.559,8.559,0,0,1-1.713-.173,8.452,8.452,0,0,1-3.039-1.279,8.524,8.524,0,0,1-3.08-3.74,8.455,8.455,0,0,1-.5-1.6,8.582,8.582,0,0,1,0-3.426,8.454,8.454,0,0,1,1.279-3.04A8.525,8.525,0,0,1,5.192.668a8.441,8.441,0,0,1,1.6-.5,8.582,8.582,0,0,1,3.426,0,8.452,8.452,0,0,1,3.039,1.279,8.524,8.524,0,0,1,3.08,3.74,8.459,8.459,0,0,1,.5,1.6,8.583,8.583,0,0,1,0,3.426,8.455,8.455,0,0,1-1.279,3.04,8.525,8.525,0,0,1-3.74,3.079,8.448,8.448,0,0,1-1.6.5A8.558,8.558,0,0,1,8.5,17Zm0-14.353a5.826,5.826,0,0,0-3.273,1A5.871,5.871,0,0,0,3.107,6.222a5.845,5.845,0,0,0,.54,5.551,5.869,5.869,0,0,0,2.575,2.121,5.846,5.846,0,0,0,5.551-.54,5.872,5.872,0,0,0,2.121-2.575,5.846,5.846,0,0,0-.54-5.551,5.87,5.87,0,0,0-2.575-2.121A5.818,5.818,0,0,0,8.5,2.647Z\",\n  transform: \"translate(109.824 361.005)\",\n  fill: \"#909090\",\n  opacity: 0.5\n}), React.createElement(\"path\", {\n  id: \"Exclusion_3\",\n  \"data-name\": \"Exclusion 3\",\n  d: \"M8.5,17a8.559,8.559,0,0,1-1.713-.173,8.452,8.452,0,0,1-3.039-1.279,8.524,8.524,0,0,1-3.08-3.74,8.455,8.455,0,0,1-.5-1.6,8.582,8.582,0,0,1,0-3.426,8.454,8.454,0,0,1,1.279-3.04A8.525,8.525,0,0,1,5.192.668a8.441,8.441,0,0,1,1.6-.5,8.582,8.582,0,0,1,3.426,0,8.452,8.452,0,0,1,3.039,1.279,8.524,8.524,0,0,1,3.08,3.74,8.459,8.459,0,0,1,.5,1.6,8.583,8.583,0,0,1,0,3.426,8.455,8.455,0,0,1-1.279,3.04,8.525,8.525,0,0,1-3.74,3.079,8.448,8.448,0,0,1-1.6.5A8.558,8.558,0,0,1,8.5,17Zm0-14.353a5.826,5.826,0,0,0-3.273,1A5.871,5.871,0,0,0,3.107,6.222a5.845,5.845,0,0,0,.54,5.551,5.869,5.869,0,0,0,2.575,2.121,5.846,5.846,0,0,0,5.551-.54,5.872,5.872,0,0,0,2.121-2.575,5.846,5.846,0,0,0-.54-5.551,5.87,5.87,0,0,0-2.575-2.121A5.818,5.818,0,0,0,8.5,2.647Z\",\n  transform: \"translate(191.824 74.005)\",\n  fill: \"#909090\",\n  opacity: 0.5\n}), React.createElement(\"path\", {\n  id: \"Exclusion_7\",\n  \"data-name\": \"Exclusion 7\",\n  d: \"M8.5,17a8.559,8.559,0,0,1-1.713-.173,8.452,8.452,0,0,1-3.039-1.279,8.524,8.524,0,0,1-3.08-3.74,8.455,8.455,0,0,1-.5-1.6,8.582,8.582,0,0,1,0-3.426,8.454,8.454,0,0,1,1.279-3.04A8.525,8.525,0,0,1,5.192.668a8.441,8.441,0,0,1,1.6-.5,8.582,8.582,0,0,1,3.426,0,8.452,8.452,0,0,1,3.039,1.279,8.524,8.524,0,0,1,3.08,3.74,8.459,8.459,0,0,1,.5,1.6,8.583,8.583,0,0,1,0,3.426,8.455,8.455,0,0,1-1.279,3.04,8.525,8.525,0,0,1-3.74,3.079,8.448,8.448,0,0,1-1.6.5A8.558,8.558,0,0,1,8.5,17Zm0-14.353a5.826,5.826,0,0,0-3.273,1A5.871,5.871,0,0,0,3.107,6.222a5.845,5.845,0,0,0,.54,5.551,5.869,5.869,0,0,0,2.575,2.121,5.846,5.846,0,0,0,5.551-.54,5.872,5.872,0,0,0,2.121-2.575,5.846,5.846,0,0,0-.54-5.551,5.87,5.87,0,0,0-2.575-2.121A5.818,5.818,0,0,0,8.5,2.647Z\",\n  transform: \"translate(86.824 165.005)\",\n  fill: \"#909090\",\n  opacity: 0.5\n}), React.createElement(\"g\", {\n  id: \"statistics\",\n  transform: \"translate(120.064 106.425)\",\n  opacity: 0.5\n}, React.createElement(\"path\", {\n  id: \"Path_1074\",\n  \"data-name\": \"Path 1074\",\n  d: \"M47.522,88.116A16.439,16.439,0,0,0,58.958,83.47l16.3,8.15a16.182,16.182,0,0,0-.2,2,16.522,16.522,0,1,0,33.043,0,16.321,16.321,0,0,0-1.656-7.078L128.56,64.43a16.321,16.321,0,0,0,7.078,1.656,16.541,16.541,0,0,0,16.522-16.522,16.274,16.274,0,0,0-.825-4.893l19.215-14.408a16.511,16.511,0,1,0-7.376-13.742A16.274,16.274,0,0,0,164,21.415L144.783,35.823a16.45,16.45,0,0,0-24.011,20.82L98.657,78.758a16.235,16.235,0,0,0-18.514,2.989l-16.3-8.15a16.182,16.182,0,0,0,.2-2A16.522,16.522,0,1,0,47.522,88.116Zm0,0\",\n  transform: \"translate(-19.618)\",\n  fill: \"#909090\"\n}), React.createElement(\"path\", {\n  id: \"Path_1075\",\n  \"data-name\": \"Path 1075\",\n  d: \"M182.473,271.893H176.6V155.507A5.5,5.5,0,0,0,171.091,150H149.062a5.5,5.5,0,0,0-5.507,5.507V271.893H132.541V188.551a5.5,5.5,0,0,0-5.507-5.507H105a5.5,5.5,0,0,0-5.507,5.507v83.343H88.483V232.608a5.5,5.5,0,0,0-5.507-5.507H60.947a5.5,5.5,0,0,0-5.507,5.507v39.285H44.425V210.58a5.505,5.505,0,0,0-5.507-5.507H16.889a5.505,5.505,0,0,0-5.507,5.507v61.314H5.507a5.507,5.507,0,1,0,0,11.014H182.473a5.507,5.507,0,1,0,0-11.014Zm0,0\",\n  transform: \"translate(0 -94.928)\",\n  fill: \"#909090\"\n}))));\n\nvar SvgEmptyDash = function SvgEmptyDash(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 426.998,\n    height: 398.005,\n    viewBox: \"0 0 426.998 398.005\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgEmptyDash, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/empty_dash.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react'\nimport reactCSS from 'reactcss'\nimport { SketchPicker } from 'react-color'\n\nclass ColorPicker extends React.Component {\n\n  constructor(props){\n    super(props);\n    this.state = {\n      displayColorPicker: false,\n      color: props.defaultColor || '#fff',\n    };\n  }\n\n  handleClick = () => {\n    this.setState({ displayColorPicker: !this.state.displayColorPicker })\n  };\n\n  handleClose = () => {\n    this.setState({ displayColorPicker: false })\n  };\n\n  handleChange = (color) => {\n    this.setState({ color: color.hex })\n    this.props.onChange(color.hex);\n  };\n\n  render() {\n\n    const { value } = this.props;\n    const render_color = (value ? value : this.state.color);\n\n    const styles = reactCSS({\n      'default': {\n        color: {\n          width: '36px',\n          height: '14px',\n          borderRadius: '2px',\n          background: `${render_color}`,\n        },\n        swatch: {\n          padding: '5px',\n          background: '#fff',\n          borderRadius: '5px',\n          boxShadow: '0 0 0 1px rgba(0,0,0,.1)',\n          display: 'inline-block',\n          cursor: 'pointer',\n        },\n        popover: {\n          position: 'absolute',\n          zIndex: '2',\n        },\n        cover: {\n          position: 'fixed',\n          top: '0px',\n          right: '0px',\n          bottom: '0px',\n          left: '0px',\n        },\n      },\n    });\n\n    return (\n      <div>\n        <div style={styles.swatch} onClick={this.handleClick}>\n          <div style={styles.color} />\n        </div>\n        {this.state.displayColorPicker ? <div style={styles.popover}>\n          <div style={styles.cover} onClick={this.handleClose} />\n          <SketchPicker color={this.state.color} onChange={this.handleChange} />\n        </div> : null}\n\n      </div>\n    )\n  }\n}\n\nexport default ColorPicker","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Select from 'react-select';\nimport { Button, Col, Form, FormGroup, Input, Label, Modal, ModalBody, ModalFooter, Row } from 'reactstrap';\nimport { toggleChartsModal as toggleChartsModalAction, addChart, setEditChartIndex, editChart } from '../storage/actions';\n\nimport OpalChart from './Chart';\nimport { ReactComponent as EmptyImage } from '../images/empty_dash.svg';\nimport cookie from 'react-cookies';\nimport ColorPicker from './ColorPicker';\nimport {getUserToken} from '../Utils';\nimport ResourceViewer from '../components/Visualization/ResourceViewer';\n\nconst charts_options = [\n  { value: \"bar\", label: \"Barras\" },\n  { value: \"stacked_bar\", label: \"Barras Apiladas\" },\n  { value: \"grouped_bar\", label: \"Barras Agrupadas\" },\n  { value: \"horizontal_bar\", label: \"Barras Horizontales\" },\n  { value: \"horizontal_stacked_bar\", label: \"Barras Horizontales Apiladas\" },\n  { value: \"horizontal_grouped_bar\", label: \"Barras Horizontales Agrupadas\" },\n  { value: \"donut\", label: \"Dona\" },\n  { value: \"line\", label: \"Lneas\" },\n  { value: \"area\", label: \"rea\" },\n  { value: \"funnel\", label: \"Funnel\" },\n  { value: \"numeric\", label: \"Numrico\" }\n]; //TODO: Colocar imagenes, pedir los svg\n\nconst operator_options = [\n  { value: \"count\", label: \"Contar\" },\n  { value: \"sum\", label: \"Sumar\" },\n  { value: \"avg\", label: \"Promedio\" },\n  { value: \"max\", label: \"Maximo\" },\n  { value: \"min\", label: \"Mnimo\" }\n]; //TODO: Obtener desde el backend\n\n\nclass ChartsModal extends Component {\n\n\n  constructor(props) {\n    super(props);\n    this.initial_state = {\n      title: '',\n      type: '',\n      xaxis: '',\n      yaxis: [],\n      operator: '',\n      order_options: [],\n      order_options_value: [],\n      value_field: '',\n      background_color: '#fff',\n      text_color: \"#000\",\n    }\n\n    this.state = { ...this.initial_state };\n  }\n\n  getOptionsEnums = async (selectfield_params) => {\n    if (!selectfield_params) {\n      this.setState({\n        order_options: []\n      });\n      return;\n    }\n    \n    let data = {\n      enum: selectfield_params.list_name,\n      fieldDef: selectfield_params.list_name\n    }\n\n    fetch('/api/BLFlex/GetOptionsEnum/', {\n      method: 'POST',\n      credentials: \"same-origin\",\n      headers: {\n        \"Accept\": \"application/json\",        \n        'X-Requested-With': 'XMLHttpRequest'\n      },\n      body: JSON.stringify(data)\n    })\n      .then(res => {\n        return res.json()\n      })\n      .then(res => {\n        if (res.status && res.data) {\n          this.setState({\n            order_options: res.data.map(field => { return { value: field.key, label: field.label } })\n          });\n        }\n      })\n      .catch(error => {\n        console.log(\"[getOptionsEnums] Error\", error);\n        this.setState({\n          order_options: []\n        });\n      });\n  }\n\n  componentWillReceiveProps(new_props) {\n    if (new_props.edit_chart_index !== this.props.edit_chart_index) {\n      try {\n        let chart_def = new_props.chart_list[new_props.edit_chart_index];\n        this.setState({ ...chart_def });\n      } catch (error) {\n        \n      }\n      \n    }\n  }\n\n  onSave = async () => {\n    const { edit_chart_index } = this.props;\n    if(typeof edit_chart_index !== \"undefined\" && edit_chart_index !== null){\n      await this.props.editChart(edit_chart_index, this.state);\n    }else{\n      await this.props.addChart(this.state);\n    }\n    this.closeModal();    \n  }\n\n  onHandleChange = (field, value) => {\n    this.setState({\n      [field]: value\n    });\n  }\n\n  closeModal = async () => {\n    this.setState({ ...this.initial_state }); \n    await this.props.setEditChartIndex(undefined);\n    this.props.toggleChartsModal();\n  }\n\n  render() {\n    const { show_charts_modal, groups, columns, edit_chart_index } = this.props;\n    let axis_options = columns.map(field => { return { value: field.key_name, label: field.label, selectfield_params: field.selectfield_params } }).concat(groups.map(field => { return { value: field.key_name, label: field.label, selectfield_params: field.selectfield_params } }));\n    \n    let yaxis_props = {}\n\n    if (['donut'].indexOf(this.state.type) >= 0) {\n      yaxis_props[\"isMulti\"] = true;\n      yaxis_props[\"onChange\"] = (items) => { this.onHandleChange('yaxis', (items ? items.map((item) => { return item.value }) : [])) };\n      yaxis_props[\"value\"] = axis_options.filter((data) => { return this.state.yaxis.indexOf(data.value) !== -1 });\n    } else {\n      yaxis_props[\"isMulti\"] = false;\n      yaxis_props[\"onChange\"] = (items) => { this.onHandleChange('yaxis', (items ? [items.value] : [])) };\n      yaxis_props[\"value\"] = axis_options.filter((data) => { return this.state.yaxis.indexOf(data.value) !== -1 });\n    }\n\n    let yaxis_label = \"Eje Y\";\n\n    switch (this.state.type) {\n      case \"donut\":\n        yaxis_label = \"Valores\";\n        break;\n      case \"funnel\":\n      case \"numeric\":\n        yaxis_label = \"Valor\";\n        break;\n      default:\n        break;\n    }\n\n    return (<Modal scrollable={false} centered={true} size=\"lg\" isOpen={show_charts_modal} toggle={this.closeModal} className=\"config-modal charts-modal\">\n      <ModalBody>\n        <div className=\"chart-sidebar\">\n          <span className=\"chart-title\">{typeof edit_chart_index !== 'undefined' && edit_chart_index !== null ? 'Edita' : 'Crea'} un Grfico</span>\n          <Form>\n            <Row form>\n              <Col>\n                <FormGroup>\n                  <Label for=\"name\"><ResourceViewer resourceTag=\"BLFlex.Label.FlexName\" /></Label>\n                  <Input type=\"text\" name=\"name\" id=\"name\" className=\"input-sm\" bsSize=\"sm\" value={this.state.title} onChange={(e) => { this.onHandleChange(\"title\", e.target.value); }} />\n                </FormGroup>\n              </Col>\n              <Col>\n                <FormGroup>\n                  <Label for=\"chart_type\"><ResourceViewer resourceTag=\"BLFlex.Label.SelectGraph\" /></Label>\n                  <Select name=\"chart_type\" options={charts_options} onChange={(e) => { this.onHandleChange(\"type\", e.value); }} value={charts_options.find((e) => { return e.value === this.state.type })} />\n                </FormGroup>\n              </Col>\n              {this.state.type !== 'numeric' ? <Col>\n                <FormGroup>\n                  <Label for=\"name\">{this.state.type === 'donut' ? 'Etiqueta' : 'Eje X'}</Label>\n                  <Select name=\"xaxis\" options={axis_options} onChange={(e) => { this.onHandleChange(\"xaxis\", e.value); this.getOptionsEnums(e.selectfield_params); }} value={axis_options.find((e) => { return e.value === this.state.xaxis })} />\n                </FormGroup>\n              </Col> : null}\n              <Col>\n                <FormGroup>\n                  <Label for=\"name\">{yaxis_label}</Label>\n                  <Select name=\"yaxis\" {...yaxis_props} options={axis_options} />\n                </FormGroup>\n              </Col>\n              {['line', 'area', 'stacked_bar', 'grouped_bar', 'horizontal_stacked_bar', 'horizontal_grouped_bar'].indexOf(this.state.type) >= 0 ? <Col>\n                <FormGroup>\n                  <Label for=\"value_field\"><ResourceViewer resourceTag=\"BLFlex.Label.FlexValue\" /></Label>\n                  <Select name=\"value_field\" options={axis_options} onChange={(e) => { this.onHandleChange(\"value_field\", e.value); }} value={axis_options.find((e) => { return e.value === this.state.value_field })} />\n                </FormGroup>\n              </Col> : null}\n              <Col>\n                <FormGroup>\n                  <Label for=\"name\"><ResourceViewer resourceTag=\"BLFlex.Label.Operation\" /></Label>\n                  <Select name=\"operation\" options={operator_options} onChange={(e) => { this.onHandleChange(\"operator\", e.value); }} value={operator_options.find((e) => { return e.value === this.state.operator })} />\n                </FormGroup>\n              </Col>\n              {['bar', 'stacked_bar', 'grouped_bar', 'horizontal_bar', 'horizontal_stacked_bar', 'horizontal_grouped_bar', 'funnel'].indexOf(this.state.type) >= 0 && this.state.order_options.length > 0 ? <Col>\n                <FormGroup>\n                  <Label for=\"orden\"><ResourceViewer resourceTag=\"BLFlex.Label.FlexOrder\" /></Label>\n                  <Select name=\"yaxis\" isMulti options={this.state.order_options} onChange={(items) => {\n                    this.onHandleChange('order_options_value', (items ? items : []))\n                  }} value={this.state.order_options_value} />\n                </FormGroup>\n              </Col> : null}\n            </Row>\n            {this.state.type === 'numeric' ?\n              <Row>\n                <Col md={6}>\n                  <FormGroup>\n                    <Label for=\"name\"><ResourceViewer resourceTag=\"BLFlex.Label.FlexTextColor\" /></Label>\n                    <ColorPicker defaultColor=\"#000\" onChange={(color) => { this.onHandleChange(\"text_color\", color); }} value={this.state.text_color} />\n                  </FormGroup>\n                </Col>\n                <Col md={6}>\n                  <FormGroup>\n                    <Label for=\"name\"><ResourceViewer resourceTag=\"BLFlex.Label.FlexBackgroundColor\" /></Label>\n                    <ColorPicker defaultColor=\"#fff\" onChange={(color) => { this.onHandleChange(\"background_color\", color); }} value={this.state.background_color} />\n                  </FormGroup>\n                </Col>\n              </Row> : null}\n\n          </Form>\n        </div>\n        <div className=\"chart-preview\">\n          <div className=\"chart-dx-preview\">\n            <span className=\"chart-preview-title\"><ResourceViewer resourceTag=\"BLFlex.Span.Preview\" /></span>\n            {this.state.type ? <OpalChart is_preview={true} chart_def={{ ...this.state }} /> : <div className=\"dash-placeholder\">\n              <EmptyImage />\n            </div>}\n\n          </div>\n\n          <ModalFooter>\n            <Button color=\"primary\" className=\"btn_primary_def_1\" onClick={this.onSave}>{typeof edit_chart_index !== 'undefined' && edit_chart_index !== null ? 'Editar' : 'Agregar'}</Button>\n            <Button color=\"secondary\" className=\"btn_secondary_def_1\"  onClick={() => { this.closeModal(); }}>Cancelar</Button>\n          </ModalFooter>\n        </div>\n\n      </ModalBody>\n\n    </Modal>);\n  }\n}\n\n\nconst mapStateToProps = state => {\n  return {\n    'show_charts_modal': state.general.show_charts_modal,\n    'groups': state.general.groups,\n    'columns': state.general.columns,\n    //'is_create_edit': state.general.is_create_edit,\n    'edit_chart_index': state.general.edit_chart_index,\n    'dashlet_id': state.general.dashlet_id,\n    'chart_list': state.general.chart_list,\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    'toggleChartsModal': () => {\n      dispatch(toggleChartsModalAction());\n    },\n    'addChart': (chart_def) => {\n      dispatch(addChart(chart_def));\n    },\n    'setEditChartIndex': (chart_index) => {\n      dispatch(setEditChartIndex(chart_index));\n    },\n    'editChart': (index, chart_def) => {\n      dispatch(editChart(index, chart_def));\n    },\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ChartsModal);","import React from 'react';\n\nexport default function LinkCell(cellData) {\n  let field_link = \"\";\n  try {\n    let field = cellData.column.dataField;\n    let field_module = cellData.column.related_module_name;\n    let field_id = field + \"_link_id\";\n    field_link = \"/\" + field_module + \"/detail/\" + cellData.data[field_id] + \"/\";\n  } catch (error) {\n    field_link = \"#\";\n  }\n  let data = cellData.value;\n  if (cellData.column.dataType === 'datetime' || cellData.column.dataType === 'date'){\n    data = cellData.text;\n  }\n  return (\n    <div>\n      <a href={field_link} target=\"_blank\" rel=\"noopener noreferrer\">{data}</a>\n      <div className=\"current-value\"></div>\n    </div>\n  );\n}\n","import React from 'react';\n\nexport default function CurrencyCell(cellData) {\n  let data = cellData.value;\n  if(data || data === 0){\n      //data = data.toFixed(4);\n      data = \"$ \" + data.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n  }\n  return (\n    <div>\n      <div className=\"current-value\">{data}</div>\n    </div>\n  );\n}\n","import {\n    fetchPreviewDataError, \n    fetchPreviewDataPending, \n    fetchPreviewDataSuccess, \n    getConfigPending,\n    getConfigSuccess,\n    getConfigError,\n    saveDataError, \n    saveDataPending, \n    saveDataSuccess,\n    getDevCustomStore\n} from './actions';\n\nimport {\n    formulasLib, getUserToken, SDKNotification, ErrorsWindow\n} from '../Utils'\n\nimport CustomStore from 'devextreme/data/custom_store';\n\nexport const save = (close_window = false) => {\n    return (dispatch, getState) => {\n        let current_state = getState().general || {};\n        dispatch(saveDataPending());\n        fetch('/api/BLFlex/SaveReport/', {\n            method: 'POST',\n            credentials: \"same-origin\",\n            headers: {\n                \"Accept\": \"application/json\",\n                'X-Requested-With': 'XMLHttpRequest'\n            },\n            body: JSON.stringify({\n                \"id\": current_state.id,\n                \"name\": current_state.report_header_data.name,\n                \"description\": current_state.report_header_data.description,\n                \"selected_class\": current_state.report_header_data.selected_class,\n                \"module\":  current_state.report_header_data.module,\n                \"visible_users\": current_state.report_header_data.visible_users,\n                \"visible_roles\": current_state.report_header_data.visible_roles,\n                \"visible_on_module\": current_state.report_header_data.visible_on_module,\n                \"module_path\": current_state.report_header_data.module_path,\n                \"select_list\": current_state.columns,\n                \"filter_list\": current_state.filters,\n                \"chart_list\": current_state.chart_list,\n                \"owner\": { id: current_state.report_header_data.owner_id },\n                \"owner_team\": { id: current_state.report_header_data.owner_team_id },\n                \"group_list\": current_state.groups,\n                \"version\": 2,\n                \"metadata\": JSON.stringify(Object.assign(current_state.report_header_data.metadata || {}, {\n                    field_list: current_state.field_list,\n                })),\n                \"is_list_view\": current_state.is_list_view,\n                \"bl_name_list\": current_state.bl_name_list,\n                \"columns_changed\": current_state.columns_changed,\n                'viewdef_name': current_state.viewdef_name,\n                'delta_old': current_state.report_header_data.delta,\n            })\n        })\n            .then(res => res.json())\n            .then(res => {\n                if (res.status === false) {\n                    throw (res.message);\n                }\n                dispatch(saveDataSuccess(res.data));\n                SDKNotification.ShowSuccess(\"BLFlex.Notification.SuccessSaveData\");\n                if (close_window) {\n                    let new_url = '/BLFlex/detail/' + res.data.id;\n                    if(window.SDKDotNetHelper != null && typeof window.SDKDotNetHelper != \"undefined\"){\n                        window.SDKDotNetHelper.invokeMethodAsync(\"NavigateTo\", new_url);\n                    }else{\n                        window.location.href = new_url;\n                    }\n                }\n                ErrorsWindow.SuccessFlex();\n                return res.data;\n            })\n            .catch(error => {\n                try {\n                    console.error(error);\n                    ErrorsWindow.ErrorsFlex(error);\n                    SDKNotification.ShowError(\"Custom.Generic.Message.Error\");\n                } catch (err) {\n                    console.error(err);\n                    SDKNotification.ShowError(\"BLFlex.Notification.ErrorSave\");\n                    ErrorsWindow.ErrorsFlex(err);\n                }\n                dispatch(saveDataError(error));\n            })\n    };\n}\n\nexport const fetchMainConfig = () => {\n    return (dispatch, getState) => {\n        let current_state = getState().general || {};\n        let url = '/api/BLFlex/GetConfig/';\n        dispatch(getConfigPending());\n        fetch(url, {\n            method: 'POST',\n            credentials: \"same-origin\",\n            headers: {\n                \"Accept\": \"application/json\",\n                'X-Requested-With': 'XMLHttpRequest'\n            },\n            body: JSON.stringify({\n                \"id\": current_state.id || 0,\n                \"bl_name_list\": current_state.bl_name_list || '',\n                \"viewdef_name\": current_state.viewdef_name || '',\n                \"flex_filters\": current_state.flex_filters || '',\n            })\n        })\n            .then(res => res.json())\n            .then(res => {\n                if (res.status === false) {\n                    throw (res.message);\n                }\n                //console.log(res.data);\n                //check if res.data.metadata is a string or object\n                try {\n                    if (typeof res.data.report_header_data.metadata === 'string') {\n                        res.data.report_header_data.metadata = JSON.parse(res.data.report_header_data.metadata);\n                    }\n                } catch (error) {\n                    console.log(error);\n                    ErrorsWindow.ErrorsFlex(error);\n                }\n                \n                dispatch(getConfigSuccess(res.data));\n                dispatch(fetchPreviewData());\n                ErrorsWindow.SuccessFlex();\n                return res.data;\n            })\n            .catch(error => {\n                try {\n                    console.error(error);                    \n                    SDKNotification.ShowError(\"Custom.Generic.Message.Error\");\n                    ErrorsWindow.ErrorsFlex(error);\n                } catch (err) {\n                    console.error(err);                                        \n                    SDKNotification.ShowError(\"Custom.Generic.Message.Error\");\n                    ErrorsWindow.ErrorsFlex(err);\n                }\n                dispatch(getConfigError(error));\n            });\n    }\n}\n\nexport const fetchData = (url, params, current_state, dispatch, data_always) => {\n    return fetch(url, params)\n    .then(res => res.json())\n    .then(res => {\n        if (res.status === false) {\n            throw (res.message);\n        }\n        if (res.data.length == 0) {\n            if(dispatch != null){\n                dispatch(fetchPreviewDataSuccess(res.data));\n            }            \n            return res.data;\n        }\n        data_always = data_always || false;\n        if(res.data.length == 1 && current_state.has_search && !data_always){\n            let data = res.data[0];\n            let blName = current_state.bl_name_list;\n            let url = blName + '/detail/' + data.rowid;\n            window.SDKDotNetHelper.invokeMethodAsync(\"NavigateTo\", url);\n            return res.data;\n          }\n        const fieldsMapTypes = current_state.field_list[0].options.map(option => Object.assign({}, { [option.name]: option.type })).reduce((obj, curr) => {\n            return { ...obj, ...curr }\n        }, {})\n        const formulaColumns = current_state.columns.filter(col => col.customFn).concat(current_state.groups.filter(col => col.customFn))\n        const enumColumns = current_state.columns.filter(col => col.type==\"SelectField\").concat(current_state.groups.filter(col => col.type==\"SelectField\"))\n        const calculatedColumnsNames = formulaColumns.map(col => col.key_name)\n        const calculatedColumnsFormulas = formulaColumns\n            .map(col => Object.assign({}, { [col.key_name]: col.formula }))\n            .reduce((obj, curr) => {\n                return { ...obj, ...curr }\n            }, {})\n\n        let contextAsScope = item => () => {\n            return {\n                ...formulasLib,\n                ...item\n            }\n        }\n        //columna tipo customFn, es necesario reemplazar los operandos en la formula y evaluar\n        if (res.status === false) {\n            throw (res.message);\n        }\n\n        const normalizeFormula = (formula) => {\n            return formula.replace(/props\\((.*?)\\)/g, function (not_use, operand) {\n                if (calculatedColumnsNames.indexOf(operand) === -1) {\n                    if ((operand in fieldsMapTypes) && [\"DecimalField\", \"FloatField\"].indexOf(fieldsMapTypes[operand]) !== -1) {\n                        return `(parseFloat(${operand} || 0))`\n                    } else {\n                        return `(${operand})`\n                    }\n                } else {\n                    return `(${normalizeFormula(calculatedColumnsFormulas[operand], true)})`\n                }\n            })\n        }\n\n        const parseRes = res.data.map(item => {\n            const calculatedColumns = formulaColumns.map(col => {\n                const itemContext = contextAsScope(item)()\n                return { [col.key_name]: (new Function(...Object.keys(itemContext), `return ${normalizeFormula(col.formula)}`))(...Object.values(itemContext)) }\n            }).reduce((obj, curr) => {\n                return { ...obj, ...curr }\n            }, {})\n\n            const enumColumnsValues = enumColumns.map(col => {\n                let id = `Enum.${col.id_enum}.${item[col.key_name]}`;\n                let description = window.ResourceFlex[window.sdkFlexCulture.id][id] || item[col.key_name];\n                return { [col.key_name]: description}\n            }).reduce((obj, curr) => {\n                return { ...obj, ...curr }\n            }, {})\n\n            return { ...item, ...calculatedColumns, ...enumColumnsValues}\n        });\n\n        if(dispatch != null){\n            dispatch(fetchPreviewDataSuccess(parseRes));\n        }\n        ErrorsWindow.SuccessFlex();\n        return parseRes\n    }).catch(error => {                    \n        console.error(error);\n        try {\n            SDKNotification.ShowError(\"Custom.Generic.Message.Error\");\n            ErrorsWindow.ErrorsFlex(error);\n        } catch (err) {\n            console.error(err);\n            SDKNotification.ShowError(\"Custom.Generic.Message.Error\");\n            ErrorsWindow.ErrorsFlex(err);\n        }\n\n        if(dispatch != null){\n            dispatch(getConfigError(error));\n        }else{\n            return error;\n        }\n    })\n    .catch(error => {\n        console.error(error);\n        try {\n            SDKNotification.ShowError(\"Custom.Generic.Message.Error\");\n            ErrorsWindow.ErrorsFlex(error);\n        } catch (err) {\n            console.error(err);\n            SDKNotification.ShowError(\"BLFlex.Notification.ErrorLoadData\");\n            ErrorsWindow.ErrorsFlex(err);\n        }\n        if(dispatch != null){\n            dispatch(getConfigError(error));\n        }else{\n            return error;\n        }\n    })\n    .catch(error => {\n        if(dispatch != null){\n            dispatch(fetchPreviewDataError(error));\n        }else{\n            return error;\n        }            \n    })\n}\n\nexport const fetchPreviewData = () => {    \n    return (dispatch, getState) => {\n        let current_state = getState().general || {};\n        if (current_state.timeout_data_id !== null && typeof (current_state.timeout_data_id) !== \"undefined\") {\n            clearTimeout(current_state.timeout_data_id);\n        }\n        let url = '';\n        let params = {};\n        if (current_state.is_create_edit && !current_state.is_list_view) {\n            url = '/api/BLFlex/PreviewData/';\n            //extraer las opciones del field_list en forma segura\n            const regularColumns = current_state.columns.filter(col => !col.customFn)\n            //concatenar las columnas \n            params = {\n                \"module_path\": current_state.report_header_data.module_path,\n                \"selected_class\": current_state.report_header_data.selected_class,\n                \"module\": current_state.report_header_data.module,\n                \"filters\": current_state.filters,\n                //\"columns\": current_state.columns,\n                \"columns\": regularColumns,\n                \"groups\": current_state.groups,\n                \"set_top\": 'true'\n            }\n        } else if(current_state.is_list_view){\n            url = '/api/BLFlex/PreviewData/';\n            //extraer las opciones del field_list en forma segura\n            const regularColumns = current_state.columns.filter(col => !col.customFn)\n            current_state.id = current_state.report_header_data.id;\n            //concatenar las columnas \n            params = {\n                \"module_path\": current_state.report_header_data.module_path,\n                \"selected_class\": current_state.report_header_data.selected_class,\n                \"module\": current_state.report_header_data.module,\n                \"filters\": current_state.filters,\n                //\"columns\": current_state.columns,\n                \"columns\": regularColumns,\n                \"groups\": current_state.groups,\n                \"set_top\": 'false',\n                \"filter_search\": current_state.filter_search,\n            }\n            if(current_state.server_pagination){\n                params.skip = current_state.skip;\n                params.take = current_state.take;\n            }\n        } else {\n            url = '/api/BLFlex/UpdateData/';\n            params = {\n                \"id\": current_state.report_header_data.id,\n                \"filter_list\": current_state.filters,\n                'current_record': (current_state.current_record ? current_state.current_record : 0)\n            }\n        }\n        let timeoutData = setTimeout(() => {\n            fetchData(url, {\n                method: 'POST',\n                credentials: \"same-origin\",\n                headers: {\n                    \"Accept\": \"application/json\",\n                    'X-Requested-With': 'XMLHttpRequest'\n                },\n                body: JSON.stringify(params)\n            }, current_state, dispatch);            \n        }, 500);\n\n        if(!current_state.is_list_view){\n            dispatch(fetchPreviewDataPending(timeoutData));\n        }else if(current_state.skip === 0){\n            dispatch(fetchPreviewDataPending(timeoutData));\n        }else if(!current_state.server_pagination){\n            dispatch(fetchPreviewDataPending(timeoutData));\n        }\n    }\n}\n\nexport const getDevCustomStoreAction = (self) => {\n    return (dispatch, getState) => {\n        let customStore = new CustomStore({\n            key: \"rowid\",\n            load: async function (loadOptions) {\n              let current_state = getState().general || {};\n              var skip = loadOptions.skip || 0;\n              var take = loadOptions.take || 100;\n              let url = '/api/BLFlex/PreviewData/'\n              let params = {};\n              let sort = loadOptions.sort || [];\n              if(skip === 0 && sort.length === 0 && !current_state.change_filter_search){\n                return current_state.preview_data;\n              }\n              const regularColumns = self.props.columns.filter(col => !col.customFn);\n              if(sort.length>0){\n                let index = regularColumns.findIndex(e => e.key_name === sort[0].selector);\n                regularColumns[index].sortType = sort[0].desc ? \"desc\" : \"asc\";\n              }\n              //concatenar las columnas \n              params = {\n                  \"module_path\": current_state.report_header_data.module_path,\n                  \"selected_class\": current_state.report_header_data.selected_class,\n                  \"module\": current_state.report_header_data.module,\n                  \"filters\": current_state.filters,\n                  //\"columns\": current_state.columns,\n                  \"columns\": regularColumns,\n                  \"groups\": current_state.groups,\n                  \"set_top\": 'false',\n                  \"skip\": skip,\n                  \"take\": take,\n                  \"filter_search\": current_state.filter_search,\n              }\n      \n              let fetchParams ={\n                  method: 'POST',\n                  headers: {\n                    \"Accept\": \"application/json\",\n                    'X-Requested-With': 'XMLHttpRequest'\n                  },\n                  body: JSON.stringify(params)\n              }\n      \n              var data = await fetchData(url, fetchParams, current_state);\n      \n              return {\n                data\n              };    \n            }\n      \n          });\n        dispatch(getDevCustomStore(customStore));\n    }\n}","import React from \"react\";\r\nimport { connect } from 'react-redux';\r\nimport {updatePreviewData} from '../../../storage/actions';\r\nimport {fetchData} from '../../../storage/thunkActions';\r\nimport {store} from '../../../index';\r\nimport { UtilManager } from \"../../../Utils\"\r\nimport SDKIcon from \"../../Visualization/SDKIcon\";\r\n\r\nclass ButtonActionsComponent extends React.Component {\r\n    state = {\r\n        disabled: this.props.disabled,\r\n        hide: this.props.hide,\r\n        dataMap: {}\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.onCustomAction = this.onCustomAction.bind(this);\r\n        this.initButton = this.initButton.bind(this);\r\n        this.initButton();\r\n    }\r\n\r\n    async onCustomAction (){\r\n        const {index, guid} = this.props;\r\n\r\n        const dotnethelperListView = window.dotnethelpersListView.get(guid);\r\n\r\n        dotnethelperListView.invokeMethodAsync(\"CustomActionFromReact\", index, (this.state.dataMap.rowid ? this.state.dataMap.rowid : this.state.dataMap.Rowid)).then((response) => {\r\n            if(response){\r\n                let current_state = store.getState().general;\r\n                let url = '/api/BLFlex/PreviewData/'\r\n                let params = {};\r\n                const regularColumns = this.props.columns.filter(col => !col.customFn);\r\n                params = {\r\n                    \"module_path\": current_state.report_header_data.module_path,\r\n                    \"selected_class\": current_state.report_header_data.selected_class,\r\n                    \"module\": current_state.report_header_data.module,\r\n                    \"filters\": current_state.filters,\r\n                    \"columns\": regularColumns,\r\n                    \"groups\": current_state.groups,\r\n                    \"set_top\": 'false',\r\n                    \"filter_search\": \"Rowid == \"+this.props.data.rowid,\r\n                }\r\n                let fetchParams ={\r\n                    method: 'POST',\r\n                    headers: {\r\n                      \"Accept\": \"application/json\",\r\n                      'X-Requested-With': 'XMLHttpRequest'\r\n                    },\r\n                    body: JSON.stringify(params)\r\n                }\r\n                \r\n                fetchData(url, fetchParams, current_state, null, true).then((data) => {\r\n                    this.props.updatePreviewData(data);                        \r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    async initButton (){\r\n        const {data, columns, index, guid} = this.props;\r\n        const dotnethelperListView = window.dotnethelpersListView.get(guid);\r\n        let dataMap = await UtilManager.MapData(data, columns)\r\n        this.setState({dataMap: dataMap});\r\n\r\n        dotnethelperListView.invokeMethodAsync(\"DisableActionFromReact\", JSON.stringify(dataMap), index).then((response) => {\r\n            this.setState({ disabled: response });\r\n        });        \r\n        dotnethelperListView.invokeMethodAsync(\"HideActionFromReact\", JSON.stringify(dataMap), index).then((response) => {\r\n            this.setState({ hide: response });\r\n        });\r\n    }\r\n    \r\n    render() {\r\n        const { icon, data, index} = this.props;\r\n        return (\r\n            <div>\r\n            {!this.state.hide && <button className=\"btn btn-sm layout_btn_standar-sm ml-1\" onClick={() => {this.onCustomAction()}}  disabled={this.state.disabled} data-automation-id={\"ButtonAction_Custom_\"+index+\"_\"+data.rowid}>  \r\n                <SDKIcon iconStyle={icon}/>\r\n              </button>}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {      \r\n      'columns': state.general.columns,\r\n      'column_rowid': state.general.column_rowid\r\n    };\r\n  };\r\n\r\nconst mapDispatchToProps = dispatch => {\r\nreturn {\r\n    'updatePreviewData': async (data) => {\r\n        await dispatch(updatePreviewData(data));\r\n        dispatch(updatePreviewData());\r\n    }\r\n}  \r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ButtonActionsComponent)","\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { fetchPreviewData } from '../../../storage/thunkActions'\nimport ButtonActionsComponent from './ButtonActionsComponent';\nimport SDKIcon from '../../Visualization/SDKIcon';\n\n\nclass ActionsComponent extends React.Component {\n  state = {\n      data: ''\n  }\n  \n  async componentDidMount() {\n    this.setState({ data: this.props.data });\n  }\n\n   render() {\n      const { data,guid,dispatchFetchPreviewData,can_edit_list_view,can_delete_list_view, can_detail_list_view,action_icons} = this.props;\n      let dotnethelperListView = window.dotnethelpersListView.get(guid);\n\n      const onEdit = async () => {        \n        await dotnethelperListView.invokeMethodAsync(\"EditFromReact\", data.rowid);\n      }\n      const onDetail = async () => {\n        await dotnethelperListView.invokeMethodAsync(\"DetailFromReact\", data.rowid);        \n      }\n      const onDelete = async () => {\n        let dataStr = JSON.stringify(data);\n        \n        let response =  await dotnethelperListView.invokeMethodAsync(\"DeleteFromReact\", data.rowid, dataStr);\n        if (response) {\n          dispatchFetchPreviewData(); \n        }\n      }\n      \n      return (\n        <div className=\"action-buttons d-flex justify-content-center\">\n          {can_edit_list_view ? <button className=\"btn btn-sm layout_btn_standar-sm ml-1\" onClick={onEdit} \n          data-automation-id={\"ButtonAction_Edit_\"+data.rowid} ><SDKIcon iconStyle=\"fa-pen\"/></button> : <></>}\n          {can_delete_list_view ? <button className=\"btn btn-sm layout_btn_standar-sm ml-1\" onClick={onDelete}\n          data-automation-id={\"ButtonAction_delete_\"+data.rowid} ><SDKIcon  iconStyle=\"fa-trash-can\"/></button> : <></>}\n          {can_detail_list_view ? <button className=\"btn btn-sm layout_btn_standar-sm ml-1\" onClick={onDetail} \n          data-automation-id={\"ButtonAction_detail_\"+data.rowid}><SDKIcon iconStyle=\"fa-eye\"/></button> : <></>}          \n          {action_icons.map((element, index) => {\n            let disabled = element.disabled;\n            let hide = element.hidden;\n            let icon = element.icon;\n            return (\n              <ButtonActionsComponent key={icon+\"_\"+index+\"_\"+data.rowid} icon={icon} data={data} index={index} guid={guid} disabled={disabled} hide={hide} />\n            )\n          })}\n        </div>\n      );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    'guid': state.general.guid,\n    'can_edit_list_view': state.general.can_edit_list_view,\n    'can_delete_list_view': state.general.can_delete_list_view,\n    'can_detail_list_view': state.general.can_detail_list_view,\n    'action_icons': state.general.action_icons,\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    dispatchFetchPreviewData: () => dispatch(fetchPreviewData())\n  }\n}\n\nexport default connect(mapStateToProps,mapDispatchToProps)(ActionsComponent)\n","import React from 'react';\r\nimport ActionsComponent from './ActionsComponent';\r\n\r\nexport default function ActionsFunction(cellData) {\r\n  let data = cellData.data;\r\n  return (\r\n\r\n    <ActionsComponent data={data}/>\r\n  );  \r\n}\r\n  ","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport ResourceViewer from './Visualization/ResourceViewer';\nimport SDKIcon from './Visualization/SDKIcon';\n\nexport class TableFooter extends Component {\n  render() {\n    const { data, is_create_edit } = this.props;\n    let footer_total = (data ? data.length : 0);\n    return (\n      <div className=\"table-footer\">\n        {is_create_edit ?\n\n          <span className=\"info-message\"><SDKIcon iconStyle=\"fa-info-circle\" />\n          <ResourceViewer resourceTag=\"BLFlex.Span.InfoMessage\" /></span>\n          : <span className=\"info-message\">{footer_total + \" registros\"}</span>}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  'data': state.general.charts_data,\n  'is_create_edit': state.general.is_create_edit,\n});\n\nexport default connect(mapStateToProps)(TableFooter);\n","import DataGrid, { GroupItem, Scrolling, Selection, Summary, TotalItem, FilterRow, HeaderFilter, Sorting, Paging, Export } from 'devextreme-react/data-grid';\nimport DataSource from 'devextreme/data/data_source';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport esMessages from 'devextreme/localization/messages/es.json';\nimport { locale, loadMessages } from 'devextreme/localization';\nimport { setChartsData, setSortColumns} from '../storage/actions';\nimport config from \"devextreme/core/config\";\nimport LinkCell from \"./TableCells/Link\";\nimport CurrencyCell from \"./TableCells/Currency\";\nimport Actions from \"./TableCells/Actions/ActionsFunction\";\nimport { Template } from \"devextreme-react/core/template\";\nimport TableFooter from './TableFooter';\nimport { fetchPreviewData as fetchPreviewDataAction, getDevCustomStoreAction} from '../storage/thunkActions';\nimport { UtilManager } from '../Utils';\nimport { exportDataGrid } from 'devextreme/excel_exporter';\nimport { Workbook } from 'exceljs';\nimport saveAs from 'file-saver';\n\nimport isEqual from 'lodash/isEqual';\nconfig({\n  defaultCurrency: 'USD'\n});\n\nclass Table extends React.Component {\n  \n  constructor(props) {\n    super(props);\n    locale('es');\n    loadMessages(esMessages);\n    this.state = {\n      table_columns: [],\n      footer_columns: [],\n      group_footer_columns: [],\n      modules_by_path: {},\n      loadingTag: \"\"\n    }\n  }\n\n  componentDidMount() {\n    const resourceTag = UtilManager._getResource(\"Custom.Generic.Loading\");\n    this.setState({loadingTag: resourceTag});\n\n    this.props.getDevCustomStore(this);\n\n    if (typeof window[\"oreports_app_table_\" + this.props.app_id] === \"undefined\") {\n      window[\"oreports_app_table_\" + this.props.app_id] = this;\n    }\n\n    if (!this.dataGridRef || !this.dataGridRef.instance) {\n      return false;\n    }\n\n    this.props.table_filters.forEach(filter => {\n      try {\n        this.dataGridRef.instance.columnOption(filter[0], \"filterValue\", filter[2]);\n      } catch (error) {\n        console.log(\"error table_filters\", error);\n      }\n    });\n\n    this.getColumns(this.props);\n  }\n\n  componentWillReceiveProps(nextProps){\n    if(!isEqual(nextProps.columns, this.props.columns) || !isEqual(nextProps.groups, this.props.groups) || !isEqual(nextProps.report_header_data.module_path, this.props.report_header_data.module_path) || !isEqual(nextProps.report_header_data.selected_class, this.props.report_header_data.selected_class) || !isEqual(nextProps.is_create_edit, this.props.is_create_edit) || !isEqual(nextProps.fields_hidden_list, this.props.fields_hidden_list)){\n      this.getColumns(nextProps);\n    };\n    if(!isEqual(nextProps.filter_search, this.props.filter_search)){\n      this.props.fetchPreviewDataAction();\n    }\n  }\n\n  shouldComponentUpdate(new_props, new_state) {\n    if (new_props.loading !== this.props.loading) {\n      if (this.dataGridRef && this.dataGridRef.instance) {\n        if (new_props.loading) {          \n          this.dataGridRef.instance.beginCustomLoading(this.state.loadingTag);\n        } else {\n          this.dataGridRef.instance.endCustomLoading();\n        }\n      } \n    }\n    if (!isEqual(new_props.table_filters, this.props.table_filters)) {\n      if (!this.dataGridRef || !this.dataGridRef.instance) {\n        return false;\n      }\n\n      new_props.table_filters.forEach(filter => {\n        try {\n          this.dataGridRef.instance.columnOption(filter[0], \"filterValue\", filter[2]);\n        } catch (error) {\n          console.log(\"error table_filters\", error);\n        }\n\n      });\n      return false;\n    }\n    return true;\n  }\n\n  onContentReady = (e) => {\n    if (!this.dataGridRef || !this.dataGridRef.instance) {\n      return;\n    }\n\n    let filterExpr = this.dataGridRef.instance.getCombinedFilter();\n    if (!filterExpr) {\n      this.props.setChartsData(this.props.preview_data);\n      return;\n    }\n    const gridDataSource = new DataSource({\n      store: this.props.preview_data,\n      paginate: false\n    });\n\n    if (!gridDataSource) {\n      return;\n    }\n    gridDataSource.filter(filterExpr);\n    let self = this;\n    gridDataSource.load().done(function (result) {\n      self.props.setChartsData(result);\n    });\n  }\n\n  onSelectionChanged = async (e) => {\n    let dotnethelperListView = window.dotnethelpersListView.get(this.props.guid);\n    let columns = this.props.columns;\n    let selectedRowsData = [];\n    for(const data in e.selectedRowsData){\n      let dataMap = await UtilManager.MapData(e.selectedRowsData[data], columns);\n      selectedRowsData.push(dataMap);\n    }\n    await dotnethelperListView.invokeMethodAsync(\"OnSelectFromReact\", JSON.stringify(selectedRowsData));\n  }\n\n  getModuleName = async (path, module_path, selected_class) => {\n\n    let module_name = this.state.modules_by_path[path];\n\n    if (!module_name){\n      return await fetch('/api/BLFlex/GetRelatedModuleByPath/', {\n        method: 'POST',\n        credentials: \"same-origin\",\n        headers: {\n          \"Accept\": \"application/json\",\n          'X-Requested-With': 'XMLHttpRequest'\n        },\n        body: JSON.stringify({\n          \"module_path\": module_path,\n          \"selected_class\": selected_class,\n          \"path\": path,\n        })\n      }).then(res => {\n        return res.json()\n      })\n        .then(res => {          \n          return res.data.module_name;\n        })\n        .catch(error => {\n          return false;\n        });\n    }else{\n      return module_name;\n    }\n  }\n\n  getColumns = async (props) => {\n    const { columns, groups, is_list_view, is_create_edit, fields_hidden_list, show_actions} = props;\n    const number_types = ['IntegerField', 'number', 'FloatField', 'CurrencyField', 'DecimalField'];    \n    const all_columns = columns.concat(groups);\n    let table_columns = [];\n    let footer_columns = [];\n    let group_footer_columns = [];\n    if(is_list_view && !is_create_edit && show_actions){\n      let column_props = {\n        minWidth: 200,\n        dataField: \"actions\",\n        caption: await UtilManager.GetResource(\"Action.Generic.Actions\"),\n        cellTemplate: \"actions\",\n        allowSorting: false,\n        allowFiltering: false,\n        allowSearch: false,\n        allowExporting: false\n      }\n\n      table_columns.push(column_props);\n    }\n\n    for (let index = 0; index < all_columns.length; index++) {\n      const column = all_columns[index];\n      \n      if( fields_hidden_list != null  && fields_hidden_list != undefined  && fields_hidden_list.includes(column.name)){\n        continue;\n      }\n      if(column.hide === true || column.hide === \"True\"){\n        continue;\n      }\n      if(is_list_view && column.key_name === \"rowid\"){\n        continue;\n      }\n      let column_props = {\n        minWidth: 200,\n        dataField: column.key_name,\n        caption: column.label\n      }\n\n      if (number_types.indexOf(column['type']) > -1) {\n        column_props['dataType'] = 'number';\n      }\n\n      if (column[\"type\"] === 'CurrencyField') {\n        column_props[\"cellTemplate\"] = \"currencyCell\";\n      } else if (column[\"type\"] === 'FloatField') {\n        column_props['format'] = { type: 'fixedPoint', precision: 2 };\n      }else if (column[\"type\"] === 'DecimalField') {\n        column_props['format'] = { type: 'fixedPoint', precision: column.decimal_places || 2 };\n      }else if (column[\"type\"] === 'DateTimeField') {\n        column_props['dataType'] = \"datetime\";\n      } else if (column[\"type\"] === 'DateField') {\n        column_props['dataType'] = \"date\";\n      }\n\n      if(column['isSorter']){\n        column_props['sortIndex']=1;\n        column_props['sortOrder']=\"asc\";\n      }\n      \n\n      let group_index = groups.findIndex((item) => item.key_name === column.key_name);\n\n      if (((column[\"link\"] && typeof column[\"link\"] === \"boolean\") || column[\"link\"] === 'True') && group_index === -1) { //Retrocompatibilidad, as se guarda en el OReports desde tiempos inmemoriales\n        column_props[\"related_module_name\"] = await this.getModuleName(column[\"path\"], props.report_header_data.module_path, props.report_header_data.selected_class);\n        column_props[\"cellTemplate\"] = \"linkCell\";\n      }\n\n      if (group_index > -1) {\n        column_props[\"groupIndex\"] = group_index;\n        column_props[\"cellTemplate\"] = undefined;\n      }\n      \n      table_columns.push(column_props);\n\n      if (column.aggregate) {  //Retrocompatibilidad, as se guarda en el OReports desde tiempos inmemoriales\n        let customizeText = undefined;\n        if (column[\"type\"] === 'CurrencyField' && column.aggregate !== 'count'){\n          customizeText = (obj_data) => {\n            let data = obj_data.value;\n            if(data || data === 0){\n                data = \"$ \" + data.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n            }\n            try {\n              let ret = obj_data.valueText.replace(obj_data.value, data);\n              return ret;\n            } catch (error) {}\n            \n            return data;\n          }\n        }\n        if (groups.length > 0) {\n          group_footer_columns.push(<GroupItem\n            key={\"footer_group_\" + column.key_name}\n            column={column.key_name}\n            showInGroupFooter={false}\n            alignByColumn={true}\n            summaryType={column.aggregate}\n            valueFormat={column_props.format}\n            customizeText={customizeText}/>);\n        }\n        footer_columns.push(<TotalItem\n          key={\"footer_\" + column.key_name}\n          column={column.key_name}\n          showInColumn={true}\n          summaryType={column.aggregate}\n          valueFormat={column_props.format}\n          customizeText={customizeText} />);\n      }\n    }\n    this.setState({\n      table_columns,\n      footer_columns,\n      group_footer_columns\n    });\n  }\n\n\n  onOptionChanged = async(e) => {\n    if(e.fullName.endsWith(\"ortOrder\") && !this.props.server_pagination) {\n      \n      try {\n        let getIndex = e.fullName.split(']')[0].substr(-1)  \n        const col = this.props.columns[getIndex] || null;\n        \n        if(col){\n          const values = {isSorter: true, sortType: e.value}\n          this.props.setSortColumns(col, values);\n        }\n      } catch (error) {\n        console.log('error=> ',error);\n        \n      }\n    }\n  }\n\n  exportToExcel = (excelName) => {\n    let x = {\n      cancel: false,\n      fileName: excelName,\n      format: \"xlsx\",\n      rtlEnabled: false,\n      selectedRowsOnly: false,\n      component: this.dataGridRef.instance\n    }\n\n    this.onExporting(x);\n  }\n\n  onExporting(e) {\n      const workbook = new Workbook();\n      const worksheet = workbook.addWorksheet('Data');\n\n      exportDataGrid({\n          component: e.component,\n          worksheet: worksheet\n      }).then(function() {\n          workbook.xlsx.writeBuffer().then(function(buffer) {\n              saveAs(new Blob([buffer], { type: 'application/octet-stream' }), `${e.fileName}.xlsx`);\n          });\n      });\n  }\n\n  render() {\n    const { table_columns, footer_columns, group_footer_columns} = this.state;\n    const { preview_data, take, server_pagination, is_multiple} = this.props;\n    const remoteOperations = {};\n    const data_source = server_pagination  ? this.props.dev_custom_store : new DataSource({\n        store: preview_data,\n        paginate: false\n      });\n    \n    let mode = \"virtual\";\n\n    if(server_pagination){\n      remoteOperations['paging'] = true;\n      remoteOperations['sorting'] = true;\n      //remoteOperations['filtering'] = true; \n\n      mode = \"infinite\";\n    }\n    return (\n      <div className={\"table-container\" + (this.props.hidden ? ' hidden' : '')}>\n        <DataGrid\n          elementAttr={{\n            id: 'tableContainer'\n          }}\n          ref={(c) => this.dataGridRef = c}\n          columns={table_columns}\n          dataSource={data_source}\n          onOptionChanged={this.onOptionChanged}\n          allowColumnReordering={false}\n          showBorders={false}\n          rowAlternationEnabled={true}\n          columnAutoWidth={true}\n          onContentReady={this.onContentReady}\n          wordWrapEnabled={true}\n          remoteOperations={remoteOperations}\n          onSelectionChanged={this.onSelectionChanged}\n          onExporting={this.onExporting}\n        >\n          <Sorting mode=\"single\"/>\n          {server_pagination ? <Paging defaultPageSize={take} /> : null}\n          <Template name={\"linkCell\"} render={LinkCell} >\n          </Template>\n          <Template name={\"currencyCell\"} render={CurrencyCell} >\n          </Template>\n          <Template name={\"actions\"} render={Actions}>\n          </Template>\n          <FilterRow visible={true} />          \n          <HeaderFilter visible={true} />\n          <Scrolling mode={mode} />\n          {is_multiple ? \n            <Selection mode=\"multiple\" showCheckBoxesMode=\"onClick\"/> : <Selection mode=\"single\"/>\n          }\n          {preview_data.length > 0 ?\n            <Summary>\n              {footer_columns}\n              {group_footer_columns}\n            </Summary> : null}\n        </DataGrid>\n        {!server_pagination ? <TableFooter /> : null}        \n      </div>\n\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    'columns': state.general.columns,\n    'groups': state.general.groups,\n    'preview_data': state.general.preview_data,\n    'loading': state.general.loading,\n    'is_create_edit': state.general.is_create_edit,\n    'table_filters': state.general.table_filters,\n    'app_id': state.general.app_id,\n    'report_header_data': state.general.report_header_data,\n    'is_list_view': state.general.is_list_view,\n    'take': state.general.take,\n    'server_pagination': state.general.server_pagination,\n    'filter_search': state.general.filter_search,\n    'guid': state.general.guid,\n    //'guid_list_view': state.general.guid_list_view,\n    'has_search': state.general.has_search,\n    'bl_name': state.general.bl_name_list,\n    'is_multiple': state.general.is_multiple,\n    'dev_custom_store': state.general.dev_custom_store,\n    'fields_hidden_list': state.general.fields_hidden_list,\n    'show_actions': state.general.show_actions\n  };\n};\n\n\nconst mapDispatchToProps = (dispatch, getState) => {\n  return {\n    'setChartsData': (data) => {\n      dispatch(setChartsData(data));\n      \n    },\n    'setSortColumns': async(col,values) => {\n      await dispatch(setSortColumns(col,values));\n      dispatch(fetchPreviewDataAction());\n    },\n    'fetchPreviewDataAction': () => {\n      dispatch(fetchPreviewDataAction());\n    },\n    'getDevCustomStore': (self) => {\n      dispatch(getDevCustomStoreAction(self));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Table);","import React, { Component } from 'react';\nimport Select from 'react-select';\nimport { connect } from 'react-redux'\nimport { setIsOpenModalFormula, setModeModalFormula, setIndexModalFormula, setEditModeDataModalFormula } from '../../../storage/actions'\nimport { Form, FormGroup, Input, Label, Badge } from 'reactstrap';\nimport {UtilManager} from '../../../Utils';\nimport ResourceViewer from '../../Visualization/ResourceViewer';\nimport cloneDeep from 'lodash/cloneDeep'\nimport SDKIcon from '../../Visualization/SDKIcon';\n\nimport {\n\temptyDesciptionObj\n} from '../../../constants'\n\n\n// const Label_Count =  UtilManager.GetResource(\"BLFlex.Label.Count\");\n// const Label_Sum =  UtilManager.GetResource(\"BLFlex.Label.Sum\");\n// const Label_Average =  UtilManager.GetResource(\"BLFlex.Label.Average\");\n// const Label_Min =  UtilManager.GetResource(\"BLFlex.Label.Min\");\n// const Label_Max =  UtilManager.GetResource(\"BLFlex.Label.Max\");\n\nconst column_options = [\n    { value: \"count\", label: \"BLFlex.Label.Count\" },\n    { value: \"sum\", label: \"BLFlex.Label.Sum\"},\n    { value: \"avg\", label: \"BLFlex.Label.Average\" },\n    { value: \"max\", label: \"BLFlex.Label.Min\" },\n    { value: \"min\", label: \"BLFlex.Label.Max\" }\n]\n\nfunction GetResourceColumOption(options) {\n    const ColumnOptions = [];\n  \n    for (const option of options) {\n      const _resourceLabel = UtilManager._getResource(option.label);\n      ColumnOptions.push({ value: option.value, label: _resourceLabel });\n    }\n    return ColumnOptions;\n  }\n\n\nexport class FieldOptions extends Component {\n    render() {\n        const { onHandleChange, field, isCreateEdit } = this.props;\n        return (<Form>\n            <FormGroup>\n                <Label for=\"module\"><ResourceViewer resourceTag=\"BLFlex.Label.Module\" /></Label>\n                <Input className=\"input-sm\" bsSize=\"sm\" type=\"text\" name=\"module\" disabled value={field.path} />\n            </FormGroup>\n            <FormGroup>\n                <Label for=\"name\"><ResourceViewer resourceTag=\"BLFlex.Label.Field\" /></Label>\n                <Input className=\"input-sm\" bsSize=\"sm\" type=\"text\" name=\"name\" disabled value={field.name} />\n            </FormGroup>\n            { field.customFn ? <FormGroup>\n                <Label for=\"name\"><ResourceViewer resourceTag=\"BLFlex.Label.Formula\" /></Label>{isCreateEdit ? <Badge color=\"secondary\" className=\"edit-function-bagged-popover\" onClick={ async (e) => {\n                    this.props.dispatchSetModeModalFormula('edit')\n                    this.props.dispatchSetIndexModalFormula(this.props.index)\n                    this.props.dispatchSetEditModeDataModalFormula({\n                        label: field.label,\n                        name: field.name,\n                        formula: field.formula,\n                        description: cloneDeep(emptyDesciptionObj),\n                        section: 'columns',\n                    })\n                    document.getElementsByClassName(\"popover show bs-popover-auto\")[0].parentNode.classList.toggle(\"hidden\")\n                    this.props.dispatchSetIsOpen(true)\n                } }><SDKIcon iconStyle=\"fa-edit\" /></Badge> : null }\n                <Input className=\"input-sm\" bsSize=\"sm\" type=\"text\" name=\"name\" disabled value={field.formula} />\n            </FormGroup> : null }\n            <FormGroup>\n                <Label for=\"label\"><ResourceViewer resourceTag=\"BLFlex.Label.Tag\" /></Label>\n                <Input disabled={!isCreateEdit} className=\"input-sm\" bsSize=\"sm\" type=\"text\" name=\"label\" onChange={(e) => { onHandleChange(\"label\", e.target.value); }} value={field.label} />\n            </FormGroup>\n            <FormGroup>\n                <Label for=\"aggregate\"><ResourceViewer resourceTag=\"BLFlex.Label.Operation\" /></Label>\n                <Select \n                    isDisabled={!isCreateEdit} \n                    placeholder={<ResourceViewer resourceTag=\"BLFlex.PlaceHolder.Operation\" />} \n                    options={GetResourceColumOption(column_options)} \n                    onChange={(e) => { onHandleChange(\"aggregate\", e.value); }} \n                    value={column_options.find((e) => { return e.value === field.aggregate })} \n                />\n            </FormGroup>\n            <FormGroup check inline>\n                <Label check>\n                    <ResourceViewer resourceTag=\"BLFlex.Label.Hide\" /> {' '}                    \n                    <Input disabled={!isCreateEdit} type=\"checkbox\" name=\"hide\" onChange={(e) => { onHandleChange(\"hide\", (e.target.checked ? 'True' : 'False'));}} checked={((field.hide && typeof field.hide === \"boolean\") || field.hide === 'True') ? true : false} />                    \n                </Label>\n            </FormGroup>\n            {/* <FormGroup check inline>\n                <Label check>\n                    <ResourceViewer resourceTag=\"BLFlex.Label.Link\" /> {' '}\n                    <Input disabled={!isCreateEdit} type=\"checkbox\" name=\"link\" onChange={(e) => { onHandleChange(\"link\", (e.target.checked ? 'True' : 'False')); }} checked={((field.link && typeof field.link === \"boolean\") || field.link === 'True') ? true : false} />\n                </Label>                \n            </FormGroup> */}\n            {/* <FormGroup check inline>\n                <Label check>\n                    Totalizar {' '}\n                    <Input disabled={!isCreateEdit} type=\"checkbox\" name=\"footer_total\" onChange={(e) => { onHandleChange(\"footer_total\", (e.target.checked ? 'True' : 'False')); }} checked={((field.footer_total && typeof field.footer_total === \"boolean\") || field.footer_total === 'True') ? true : false} />\n                </Label>\n            </FormGroup> */}\n        </Form>);\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n\treturn {\n        dispatchSetIsOpen: isOpen => dispatch(setIsOpenModalFormula(isOpen)),\n        dispatchSetModeModalFormula: mode => dispatch(setModeModalFormula(mode)),\n        dispatchSetIndexModalFormula: index => dispatch(setIndexModalFormula(index)),\n        dispatchSetEditModeDataModalFormula: data => dispatch(setEditModeDataModalFormula(data))\n\t}\n}\n\nexport default connect(undefined, mapDispatchToProps)(FieldOptions);","import React from 'react';\nimport {FormGroup, Label, /* Input */ } from 'reactstrap';\n//import Select from 'react-select';\n//import 'react-select/dist/react-select.css';\nimport {store} from '../../index';\nimport cookie from 'react-cookies';\nimport {connect} from 'react-redux';\n\nimport PropTypes from 'prop-types';\n//import Async, { makeAsyncSelect } from 'react-select/async';\n\nimport AsyncSelect from \"react-select/async\";\nimport { components } from 'react-select';\nimport { updateSectionItem } from '../../storage/actions';\nimport { fetchPreviewData as fetchPreviewDataAction } from '../../storage/thunkActions';\nimport {getUserToken} from '../../Utils';\nimport cloneDeep from 'lodash/cloneDeep';\nimport isArray from 'lodash/isArray';\nimport SDKIcon from '../Visualization/SDKIcon';\n\n\n\nlet URL_PREFIX = '';\n\nconst Option = props => {\n    const {labelKey, valueKey} = props.selectProps;\n\tlet keysData = Object.keys(props.data).filter(e=>!['id','_str_name'].includes(e));\n\n\tconst valuesData = [];\n\tconst id = props.data[valueKey];\n    keysData.forEach((k,i)=>{ \n        const labelFld = props.data[k]['str'];\n\t\tconst valFld = props.data[k]['val'];\n\t\t\n\t\tvaluesData.push(<small key={labelFld+'_opt_'+i+'_'+id}><strong>{labelFld}</strong>:{valFld}</small>)\n\t\tif(i<keysData.length)valuesData.push(<br key={\"br_opt_\"+i+'_'+id} />)\n    }) \n\n\n    return (\n        <components.Option {...props} key={props.data.id} >\n            {props.data[labelKey]}<br/>\n            {valuesData}\n        </components.Option>\n    )}; \n\n\nconst customStyles = {\n\tindicatorSeparator: base => ({\n\t\t...base,\n\t\tdisplay: 'none'\n\t}),\n\t/* dropdownIndicator: base => ({\n\t\t...base,\n\t\tdisplay: 'none'\n\t}), */\n\t\n}\n\n\nclass ForeignKey extends React.Component {\n    constructor(props){\n\t\t\tsuper(props);\n\t\t\tconst selected_operator = props.fieldDef ? props.fieldDef.selected_operator : false;\n\t\t\tthis.operatorMulti = ['fk_in','fk_not_in'];\n\t\t\tthis.state = {\n\t\t\t\t//valid: ((props.storeValue === \"\" || !Boolean(props.storeValue.id)) && this.props.fieldDef.required) ? false : true,\n\t\t\t\tmsg: \"\",\n\t\t\t\tvalue: props.storeValue || '',\n\t\t\t\tlabelKey:\"_str_name\",\n\t\t\t\tvalueKey:\"id\",\n\t\t\t\tisMulti :this.operatorMulti.includes(selected_operator),\n\t\t\t\t\n\t\t\t};\n\t\t\tthis.handleChange = this.handleChange.bind(this);\n\t\t\tthis.getOptions = this.getOptions.bind(this);\n\t\t\t\n\t}\n\t\n\tcomponentDidMount(){\n\t\tlet altThis= this;\n\t\t\n\t\twindow.addEventListener('message', function(event){\n\t\t\ttry{\n\t\t\t\tlet data = JSON.parse(event.data);\n\t\t\t\tif(data.fieldId === altThis.props.fieldDef.name){\n\t\t\t\t\tlet valueEvent = data.value;\n\t\t\t\t\tlet newValue =  cloneDeep(altThis.state.value);\n\t\t\t\t\tif(altThis.state.isMulti){\n\t\t\t\t\t\tif(!newValue || newValue.length===0)newValue=[];\n\t\t\t\t\t\tlet finded = newValue.find(e=>e[altThis.state.valueKey] === valueEvent[altThis.state.valueKey])\n\t\t\t\t\t\tif(!finded)newValue.push(valueEvent);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tnewValue = valueEvent;\n\t\t\t\t\t}\n\t\t\t\t\taltThis.handleChange(newValue);\n\t\t\t\t}\n\t\t\t}catch(error){\n\t\t\t\t//console.log('addEventListener=> ',error);\n\t\t\t}\n\t\t});\n\t}\n\n\tcomponentWillReceiveProps(nextProps){\n\t\tconst isMulti = this.operatorMulti.includes(nextProps.selected_operator);\n\t\tif(this.state.isMulti !== isMulti){\n\t\t\tlet stateValue = this.state.value;\n\t\t\tlet newValue = [];\n\t\t\tif(stateValue && isArray(stateValue) && stateValue.length>0 && !isMulti)newValue=stateValue[0];\n\t\t\tif(isMulti && stateValue)newValue.push(stateValue)\n\t\t\t\n\t\t\tthis.setState({isMulti},()=>{\n\t\t\t\tthis.handleChange(newValue);\n\t\t\t})\n\t\t}\n\t\t\n\t\t/* let newValue = nextProps.storeValue;\n\t\tlet val = {id:'', _str_name:''};\n\t\tif(newValue){\n\t\t\tval.id = newValue.id;\n\t\t\tval._str_name = newValue._str_name;\n\t\t}\n\t\tthis.setState({value:newValue});\n\t\t\n\t\tif (newValue && newValue !== this.state.value) {\n\t\t\tif(this.props.fieldDef.required && !Boolean(val.id)){\n\t\t\t\tthis.setState({valid: false});\n\t\t\t}else if(!this.state.valid){\n\t\t\t\tthis.setState({valid: true});\n\t\t\t}\n\t\t\t\n\t\t} */\n\t}\n\n\n    \n    handleChange(newValue){\n\t\tthis.setState({value: newValue},()=>{\n\t\t\tthis.props.updateSectionItem(this.props.storeSection, this.props.index, this.props.property, newValue )\n\t\t})\n    }\n\n    getOptions = (input, fieldDef) => {\n        if (!input || input.length <= 3) {\n\t\t\treturn Promise.resolve([]);\n\t\t}\n        return fetch('api/BLFlex/SearchRecordsRelSelect/', {\n\t\t\tmethod: 'POST',\n\t\t\tcredentials: \"same-origin\",\n            headers: {\n\t\t\t\t\"Accept\": \"application/json\",                \n\t\t\t\t'X-Requested-With': 'XMLHttpRequest'\n\t\t\t\t\n            },\n\t\t\tbody: JSON.stringify({'keyword': input, agent: 'react-coreapp', 'module_name': fieldDef.module_name })})\n          .then(res => res.json())\n\t\t  .then((json) => {\n            return json.data;\n          });\n      };\n\n\n\t  \n    promiseOptions = inputValue =>\n        new Promise(resolve => {\n            setTimeout(() => {\n            resolve(this.getOptions(inputValue, this.props.fieldDef));\n        }, 1000);\n\t});\n\t\n\n\t  \n\trenderOption(optionvalue) {\n        let data = [];\n        for (let key in optionvalue) {\n            if (!['id','_str_name'].includes(key)) {\n                data.push( <span key={key}> <b> {optionvalue[key]['str']}:</b>{optionvalue[key]['val']}<br/> </span>);\n            }\n        }\n        return ( <div> {data} </div>);\n\t}\n\t\n\n    renderValue(newValue){\n        return <div>{newValue._str_name}</div>\n\t}\n\t\n\n\n    hackFilterOptions(options, filterString, values){\n        /** Por defecto el componente react-select busca sobre los resultados del servidor, el problema es que lo hace solo en el 'label' */\n        return options;\n    }\n\t\n\t\n\topenWindowSearch= () => {\n\t\tlet fieldName = (this.props.fieldDef.name) ? this.props.fieldDef.name : \"\";\n\t\tlet url_search_window = URL_PREFIX + \"/\" +  this.props.fieldDef.module_name + \"/popup_index/?fieldId=\" + fieldName;\n\t\twindow.open(url_search_window, 'popup', 'width=800,height=600,left=10,top=10')\n\t}\n\n\n\tnoOptionsMessage = () => {\n\t\treturn \"No hay Registros\"\n\t}\n\n\tdropdownIndicator = (innerProps, innerRef) => {\n\t\tlet isDisabled = this.props.isDisabled ? true : false;\t\n\t\treturn (\n\t\t\t<div className={\"\"}>\n\t\t\t\t<button type=\"button\" disabled={isDisabled} className={\"btn btn-transparent\"} \n\t\t\t\t\tonClick={this.openWindowSearch}>\n\t\t\t\t\t\n\t\t\t\t\t<SDKIcon iconStyle=\"fa-search\" />\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t)\n\t}\n\n\t\n\trender(){\n\t\tlet fieldName = (this.props.fieldDef.name) ? this.props.fieldDef.name : \"\";\n\t\tlet fieldClass = (this.props.fieldDef.class) ? this.props.fieldDef.class : \"\";\n\t\tlet fieldLabel = (this.props.fieldDef.label) ? this.props.fieldDef.label : \"\";\n\t\tlet printLabel = (this.props.fieldDef.printLabel) ? this.props.fieldDef.printLabel : true;\t\t\n\t\tlet fieldId = 'id_' + fieldName;\n\t\tlet fieldPlaceHolder = this.props.fieldDef.placeHolder ? this.props.fieldDef.placeHolder : '';\n\t\tlet pure_field = this.props.pureField ? true : false;\n\t\tlet isDisabled = this.props.isDisabled ? true : false;\t\n\t\tconst {isMulti} = this.state;\n\n\t\tlet field_jsx = (\n\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<AsyncSelect \n\t\t\t\t\t\t\t\tisMulti={isMulti}\n\t\t\t\t\t\t\t\tstyles={customStyles}\n                                loadOptions={this.promiseOptions.bind(this)}\n                                cacheOptions \n                                isClearable\n                                \n                                disabled={isDisabled} \n                                filterOptions={this.hackFilterOptions} \n                                autoload={false} \n                                //ref='dmesa' \n                                labelKey={this.state.labelKey} \n                                valueKey={this.state.valueKey}\n\t\t\t\t\t\t\t\tcomponents={{Option,DropdownIndicator: this.dropdownIndicator }}\n\t\t\t\t\t\t\t\tdropdownIndicator = {this.dropdownIndicator}\n\t\t\t\t\t\t\t\t//formatOptionLabel={this.renderOption}\n\t\t\t\t\t\t\t\tgetOptionLabel={(option)=>{\n\t\t\t\t\t\t\t\t\treturn option[this.state.labelKey] || '';\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tgetOptionValue={opt => opt[this.state.valueKey]}\n\t\t\t\t\t\t\t\tisDisabled={isDisabled}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t//menuPosition=\"fixed\"\n\t\t\t\t\t\t\t\t//menuShouldBlockScroll={true}\n\t\t\t\t\t\t\t\t//closeMenuOnScroll={false}\n\t\t\t\t\t\t\t\t//menuIsOpen={true}\n\t\t\t\t\t\t\t\t//inputValue=\"_str_name\"\n\t\t\t\t\t\t\t\tnoOptionsMessage={this.noOptionsMessage}\n                                name={fieldName}  \n                                ignoreAccents={false} \n                                id={fieldId} \n                                placeholder={fieldPlaceHolder} \n                                value={this.state.value} \n                                className={fieldClass + \" col  clearIndicator\"} \n\t\t\t\t\t\t\t\t//onChange={(option) => this.handleChange(option)}\n\t\t\t\t\t\t\t\tonChange={this.handleChange}\n                                \n                                //resetValue={deleteValue} \n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t{/* <Input type='hidden' name={fieldName} id={fieldId} value={(this.props.storeValue['id']) ? this.props.storeValue['id']: '' } /> */}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t);\n\t\tif(pure_field){\n\t\t\treturn field_jsx;\n\t\t}else return (\n\t\t\t<FormGroup>\n\t\t\t\t<Label for={fieldId}>{printLabel ? fieldLabel : ''}</Label>\n\t\t\t\t{field_jsx}\n\t\t\t</FormGroup>\n\t\t);\n\t}\n}\n\nForeignKey.propTypes = {\n    fieldDef: PropTypes.object.isRequired,\n    //onChangePage: PropTypes.func.isRequired,\n    //initialPage: PropTypes.number\n};\n\n\nconst mapStateToProps = state => {\n    return {};\n};\n  \nconst mapDispatchToProps = dispatch => {\n    return {\n\t\t'updateSectionItem': async (section, index, property, value) => {\n\t\t\tawait dispatch(updateSectionItem(section, index, property, value));\n\t\t\tdispatch(fetchPreviewDataAction());\n\t\t}\n\t}  \n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ForeignKey);\n\n\n","import React, { Component } from 'react';\nimport Select from 'react-select';\nimport { Form, FormGroup, Input, Label } from 'reactstrap';\nimport DatePicker from 'react-datepicker';\nimport 'react-datepicker/dist/react-datepicker.css';\nimport moment from 'moment';\nimport { isValidDate } from '../../../Utils';\nimport ForeignKey from '../../Fields/ForeignKey';\nimport {getUserToken, UtilManager} from '../../../Utils';\nimport ResourceViewer from '../../Visualization/ResourceViewer';\n\n\n\n// const Enum_yes =  UtilManager.GetResource(\"Enum.enumYesNo.Yes\");\n// const Enum_no =  UtilManager.GetResource(\"Enum.enumYesNo.No\");\n\nconst boolean_options = [\n    { value: \"False\", label: \"No\" },\n    { value: \"True\", label: \"Si\" },\n]\nconst date_fields_to = ['between'];\nconst date_fields_from_type_date = ['equal', 'not_equal', 'before', 'after', 'between'];\nconst date_fields_from_type_input = ['last_n_days', 'next_n_days'];\n\n\n\nexport class FieldOptions extends Component {\n\n    state = {\n        enum_options: []\n    }\n\n    componentDidMount() {\n        const { field} = this.props;\n        if (['SelectField', 'MultiSelectField'].includes(field.type)) {\n            this.getOptionsEnums(field.selectfield_params);\n        }\n    }\n\n    getOptionsEnums = (selectfield_params) => {\n            if (!selectfield_params) {\n            this.setState({\n                enum_options: []\n            });\n            return;\n            }\n            \n            let data = {\n            enum: selectfield_params,\n            fieldDef: selectfield_params.list_name\n            }\n            fetch('/api/BLFlex/GetOptionsEnum/', {\n            method: 'POST',\n            credentials: \"same-origin\",\n            headers: {\n                \"Accept\": \"application/json\",\n                'X-Requested-With': 'XMLHttpRequest'\n            },\n            body: JSON.stringify(data)\n            })\n            .then(res => {\n                return res.json()\n            })\n            .then(res => {\n                if (res.status && res.data) {\n                    this.setState({\n                        enum_options: res.data\n                    });\n                    return res.data;\n                }\n            })\n            .catch(error => {\n                console.log(\"[getOptionsEnums] Error\", error);\n                this.setState({\n                    enum_options: []\n                });\n                return [];\n            });\n        }\n\n    render() {\n        const { onHandleChange, field, isCreateEdit, section, index } = this.props;\n        let filter_options = field.filter_options ? field.filter_options.map(x => { x[\"value\"] = x[\"key\"]; return x }) : [];\n        let equal_from = null;\n        let to = null;\n        let filter_disabled = !isCreateEdit && (!field.allow_edit || field.allow_edit === 'False');\n\n        const default_from_component = (<FormGroup>\n            <Label for=\"equal_from\"><ResourceViewer resourceTag=\"BLFlex.Label.Equal/From\" /></Label>\n            <Input disabled={filter_disabled} className=\"input-sm\" bsSize=\"sm\" type=\"text\" name=\"equal_from\" onChange={(e) => { onHandleChange(\"equal_from\", e.target.value); }} value={field.equal_from} />\n        </FormGroup>);\n\n        const default_to_component = (<FormGroup>\n            <Label for=\"equal_from\"><ResourceViewer resourceTag=\"BLFlex.Label.To\" /></Label>\n            <Input disabled={filter_disabled} className=\"input-sm\" bsSize=\"sm\" type=\"text\" name=\"to\" onChange={(e) => { onHandleChange(\"to\", e.target.value); }} value={field.to} />\n        </FormGroup>);\n    \n        if (field.type === 'DateField' || field.type === 'DateTimeField' || field.type === 'TimeField') {\n\n            if (date_fields_from_type_date.indexOf(field.selected_operator) > -1) {\n                let date_value = null;\n                try {\n                    if (field.equal_from) {\n                        if (isValidDate(field.equal_from)) {\n                            date_value = field.equal_from;\n                        } else {\n                            date_value = moment(field.equal_from).toDate();\n                        }\n                    }\n\n                } catch (error) { };\n\n                if (field.type === 'DateField') {\n                    equal_from = (<FormGroup>\n                        <Label for=\"equal_from\"><ResourceViewer resourceTag=\"BLFlex.Label.Equal/From\" /></Label><br></br>\n\n                        <DatePicker\n                            selected={date_value}\n                            onChange={(e) => { onHandleChange(\"equal_from\", e); }}\n                            dateFormat=\"dd/MM/yyyy\"\n                            className=\"form-control\"\n                            isClearable={true}\n                            disabled={filter_disabled}\n                        />\n                    </FormGroup>);\n                } else if (field.type === 'TimeField') {\n                    equal_from = (<FormGroup>\n                        <Label for=\"equal_from\"><ResourceViewer resourceTag=\"BLFlex.Label.Equal/From\" /></Label><br></br>\n\n                        <DatePicker\n                            selected={date_value}\n                            onChange={(e) => { onHandleChange(\"equal_from\", e); }}\n                            showTimeSelect\n                            showTimeSelectOnly\n                            timeFormat=\"HH:mm:ss\"\n                            timeIntervals={15}\n                            dateFormat=\"HH:mm:ss\"\n                            timeCaption=\"time\"\n                            className=\"form-control\"\n                            isClearable={true}\n                            disabled={filter_disabled}\n\n                        />\n                    </FormGroup>);\n                }else {\n                    equal_from = (<FormGroup>\n                        <Label for=\"equal_from\"><ResourceViewer resourceTag=\"BLFlex.Label.Equal/From\" /></Label><br></br>\n\n                        <DatePicker\n                            selected={date_value}\n                            onChange={(e) => { onHandleChange(\"equal_from\", e); }}\n                            showTimeSelect\n                            timeFormat=\"HH:mm\"\n                            timeIntervals={15}\n                            dateFormat=\"dd/MM/yyyy HH:mm\"\n                            //locale=\"es\"\n                            timeCaption=\"time\"\n\n                            className=\"form-control\"\n                            isClearable={true}\n                            disabled={filter_disabled}\n\n                        />\n                    </FormGroup>);\n                }\n\n                if (date_fields_to.indexOf(field.selected_operator) > -1) {\n                    let date_value_to = null;\n                    try {\n                        if (field.to) {\n                            if (isValidDate(field.to)) {\n                                date_value_to = field.to;\n                            } else {\n                                date_value_to = moment(field.to).toDate();\n                            }\n                        }\n\n                    } catch (error) { };\n\n                    if (field.type === 'DateField') {\n                        to = (<FormGroup>\n                            <Label for=\"to\"><ResourceViewer resourceTag=\"BLFlex.Label.To\" /></Label><br></br>\n\n                            <DatePicker\n                                selected={date_value_to}\n                                onChange={(e) => { onHandleChange(\"to\", e); }}\n                                dateFormat=\"dd/MM/yyyy\"\n                                className=\"form-control\"\n                                isClearable={true}\n                                disabled={filter_disabled}\n                            />\n                        </FormGroup>);\n                    } else if (field.type === 'TimeField') {\n                        equal_from = (<FormGroup>\n                            <Label for=\"equal_from\"><ResourceViewer resourceTag=\"BLFlex.Label.Equal/From\" /></Label><br></br>\n    \n                            <DatePicker\n                                selected={date_value_to}\n                                onChange={(e) => { onHandleChange(\"equal_from\", e); }}\n                                showTimeSelect\n                                showTimeSelectOnly\n                                timeFormat=\"HH:mm:ss\"\n                                timeIntervals={15}\n                                dateFormat=\"HH:mm:ss\"\n                                timeCaption=\"time\"\n                                className=\"form-control\"\n                                isClearable={true}\n                                disabled={filter_disabled}\n    \n                            />\n                        </FormGroup>);\n                    }else {\n                        to = (<FormGroup>\n                            <Label for=\"to\"><ResourceViewer resourceTag=\"BLFlex.Label.To\" /></Label><br></br>\n\n                            <DatePicker\n                                selected={date_value_to}\n                                onChange={(e) => { onHandleChange(\"to\", e); }}\n                                showTimeSelect\n                                timeFormat=\"HH:mm\"\n                                timeIntervals={15}\n                                dateFormat=\"dd/MM/yyyy HH:mm\"\n                                //locale=\"es\"\n                                timeCaption=\"time\"\n\n                                className=\"form-control\"\n                                isClearable={true}\n                                disabled={filter_disabled}\n                            />\n                        </FormGroup>);\n                    }\n                }\n            } else if (date_fields_from_type_input.indexOf(field.selected_operator) > -1) {\n                equal_from = (<FormGroup>\n                    <Label for=\"equal_from\"><ResourceViewer resourceTag=\"BLFlex.Label.Equal/From\" /></Label><br></br>\n                    <Input disabled={filter_disabled} className=\"input-sm\" bsSize=\"sm\" type=\"number\" name=\"equal_from\" onChange={(e) => { onHandleChange(\"equal_from\", e.target.value); }} value={field.equal_from} />\n                </FormGroup>);\n            }\n        } else if (field.type === 'BooleanField') {\n            if (!['fk_not_in', 'fk_in', 'null_or_empty', 'not_empty', 'empty', 'current_user_code', 'current_record'].includes(field.selected_operator)) {\n                equal_from = (<FormGroup>\n                    <Label for=\"equal_from\"><ResourceViewer resourceTag=\"BLFlex.Label.Equal/From\" /></Label>\n                    <Select isDisabled={filter_disabled} isMulti name=\"equal_from\" options={boolean_options} onChange={(items) => { onHandleChange('equal_from', (items ? items.map((item) => { return item.value }) : [])) }} value={(typeof field.equal_from !== \"undefined\" ? boolean_options.filter((item) => { return field.equal_from.indexOf(item.value) !== -1 }) : null)} />\n                </FormGroup>);\n            }\n        } else if (['SelectField', 'MultiSelectField'].includes(field.type)) {\n            if (!['fk_not_in', 'fk_in', 'null_or_empty', 'not_empty', 'empty', 'current_user_code', 'current_record'].includes(field.selected_operator)) {\n                \n                let choices = this.state.enum_options? this.state.enum_options.map(x => { return { value: x.key, label: x.label } }) : [];\n                equal_from = (<FormGroup>\n                    <Label for=\"equal_from\"><ResourceViewer resourceTag=\"BLFlex.Label.Equal/From\" /></Label>\n                    <Select isDisabled={filter_disabled} isMulti name=\"equal_from\" options={choices} onChange={(items) => { onHandleChange('equal_from', (items ? items.map((item) => { return item.value }) : [])) }} value={(typeof field.equal_from !== \"undefined\" ? choices.filter((item) => { return field.equal_from.indexOf(item.value) !== -1 }) : null)} />\n                </FormGroup>);\n            }\n\n        } else if (field.type === 'ForeignKey') {\n            if (['not_equal', 'equal', 'fk_in', 'fk_not_in'].includes(field.selected_operator)) {\n                const storeValue = field.equal_from;\n                equal_from =\n                    (<ForeignKey\n                        fieldDef={field}\n                        storeSection={section}\n                        property=\"equal_from\"\n                        index={index}\n                        name={field.name}\n                        storeValue={storeValue}\n                        selected_operator={field.selected_operator}\n                        onChange={(e) => { onHandleChange(\"equal_from\", e.target.value); }}\n                        isDisabled={filter_disabled}\n\n                    />)\n            } else if (!['null_or_empty', 'not_empty', 'empty', 'current_user_code', 'current_record', 'current_user'].includes(field.selected_operator)) {\n                equal_from = default_from_component;\n            }\n        } else {\n            //CharField, TextField, FloatField, CurrencyField, IntergerField, DecimalField, EmailField, SmallIntergerField, ImageField, Filefield\n            if (!['fk_not_in', 'fk_in', 'null_or_empty', 'not_empty', 'empty', 'current_user_code', 'current_record'].includes(field.selected_operator)) {\n                equal_from = default_from_component;\n            }\n            if (field.selected_operator === 'between') {\n                to = default_to_component;\n            }\n        }\n        return (<Form>\n            <FormGroup>\n                <Label for=\"module\"><ResourceViewer resourceTag=\"BLFlex.Label.Module\" /></Label>\n                <Input className=\"input-sm\" bsSize=\"sm\" type=\"text\" name=\"module\" disabled value={field.path} />\n            </FormGroup>\n            <FormGroup>\n                <Label for=\"name\"><ResourceViewer resourceTag=\"BLFlex.Label.Field\" /></Label>\n                <Input className=\"input-sm\" bsSize=\"sm\" type=\"text\" name=\"name\" disabled value={field.name} />\n            </FormGroup>\n            <FormGroup>\n                <Label for=\"label\"><ResourceViewer resourceTag=\"BLFlex.Label.Tag\" /></Label>\n                <Input disabled={!isCreateEdit} className=\"input-sm\" bsSize=\"sm\" type=\"text\" name=\"label\" onChange={(e) => { onHandleChange(\"label\", e.target.value); }} value={field.label} />\n            </FormGroup>\n            <FormGroup>\n                <Label for=\"type\"><ResourceViewer resourceTag=\"BLFlex.Label.Type\" /></Label>\n                <Input className=\"input-sm\" bsSize=\"sm\" type=\"text\" name=\"type\" disabled value={field.type} />\n            </FormGroup>\n            <FormGroup>\n                <Label for=\"aggregate\"><ResourceViewer resourceTag=\"BLFlex.Label.Operation\" /></Label>\n                <Select isDisabled={filter_disabled} options={filter_options} onChange={(e) => { onHandleChange(\"selected_operator\", e.value); }} value={filter_options.find((e) => { return e.value === field.selected_operator })} />\n            </FormGroup>\n            {field.selected_operator ? equal_from : null}\n            {field.selected_operator ? to : null}\n            <FormGroup check inline>\n                <Label check>\n                    Editable {' '}\n                    <Input disabled={!isCreateEdit} type=\"checkbox\" name=\"allow_edit\" onChange={(e) => { onHandleChange(\"allow_edit\", (e.target.checked ? 'True' : 'False')); }} checked={((field.allow_edit && typeof field.allow_edit === \"boolean\") || field.allow_edit === 'True') ? true : false} />\n                </Label>\n            </FormGroup>\n        </Form>);\n    }\n}\n\nexport default FieldOptions;","import React, { Component } from 'react';\nimport { connect } from 'react-redux'\nimport { setIsOpenModalFormula, setModeModalFormula, setIndexModalFormula, setEditModeDataModalFormula } from '../../../storage/actions'\nimport { Form, FormGroup, Input, Label, Badge } from 'reactstrap';\nimport cloneDeep from 'lodash/cloneDeep'\nimport SDKIcon from '../../Visualization/SDKIcon';\n\nimport {\n\temptyDesciptionObj\n} from '../../../constants'\n\nimport ResourceViewer from '../../Visualization/ResourceViewer';\n\nexport class FieldOptions extends Component {\n    render() {\n        const { onHandleChange, field, isCreateEdit } = this.props;\n        return (<Form>\n            <FormGroup>\n                <Label for=\"module\"><ResourceViewer resourceTag=\"BLFlex.Label.Module\" /></Label>\n                <Input className=\"input-sm\" bsSize=\"sm\" type=\"text\" name=\"module\" disabled value={field.path} />\n            </FormGroup>\n            <FormGroup>\n                <Label for=\"name\"><ResourceViewer resourceTag=\"BLFlex.Label.Field\" /></Label>\n                <Input className=\"input-sm\" bsSize=\"sm\" type=\"text\" name=\"name\" disabled value={field.name} />\n            </FormGroup>\n            { field.customFn ? <FormGroup>\n                <Label for=\"name\"><ResourceViewer resourceTag=\"BLFlex.Label.Formula\" /></Label>{isCreateEdit ? <Badge color=\"secondary\" className=\"edit-function-bagged-popover\" onClick={ async (e) => {\n                    this.props.dispatchSetModeModalFormula('edit')\n                    this.props.dispatchSetIndexModalFormula(this.props.index)\n                    this.props.dispatchSetEditModeDataModalFormula({\n                        label: field.label,\n                        name: field.name,\n                        formula: field.formula,\n                        description: cloneDeep(emptyDesciptionObj),\n                        section: 'groups',\n                    })\n                    document.getElementsByClassName(\"popover show bs-popover-auto\")[0].parentNode.classList.toggle(\"hidden\")\n                    this.props.dispatchSetIsOpen(true)\n                } }><SDKIcon iconStyle=\"fa-edit\" /></Badge> : null }\n                <Input className=\"input-sm\" bsSize=\"sm\" type=\"text\" name=\"name\" disabled value={field.formula} />\n            </FormGroup> : null }\n            <FormGroup>\n                <Label for=\"label\"><ResourceViewer resourceTag=\"BLFlex.Label.Tag\" /></Label>\n                <Input disabled={!isCreateEdit} className=\"input-sm\" bsSize=\"sm\" type=\"text\" name=\"label\" onChange={(e) => { onHandleChange(\"label\", e.target.value); }} value={field.label} />\n            </FormGroup>\n            {/* <FormGroup check inline>\n                <Label check>\n                    Enlace {' '}\n                    <Input type=\"checkbox\" name=\"link\" onChange={(e) => { onHandleChange(\"link\", (e.target.checked ? 'True' : 'False')); }} checked={((field.link && typeof field.link === \"boolean\") || field.link === 'True') ? true : false} />\n                </Label>\n            </FormGroup> */}\n        </Form>);\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n\treturn {\n        dispatchSetIsOpen: isOpen => dispatch(setIsOpenModalFormula(isOpen)),\n        dispatchSetModeModalFormula: mode => dispatch(setModeModalFormula(mode)),\n        dispatchSetIndexModalFormula: index => dispatch(setIndexModalFormula(index)),\n        dispatchSetEditModeDataModalFormula: data => dispatch(setEditModeDataModalFormula(data))\n\t}\n}\n\nexport default connect(undefined, mapDispatchToProps)(FieldOptions);","import React, { Component } from 'react';\nimport { Draggable } from \"react-beautiful-dnd\";\nimport { PopoverBody, UncontrolledPopover } from 'reactstrap';\nimport FieldOptionsColumns from './FieldOptions/FieldOptionsColumns';\nimport FieldOptionsFilters from './FieldOptions/FieldOptionsFilters';\nimport FieldOptionsGroups from './FieldOptions/FieldOptionsGroups';\nimport SDKIcon from '../Visualization/SDKIcon';\n\nconst modifiers = {\n  preventOverflow: {\n    enabled: false,\n  },\n  hide: {\n    enabled: false\n  },\n  flip: {\n    enabled: false,\n  },\n};\n\nexport class DraggableField extends Component {\n\n  render() {\n    const { field, onRemove, index, onHandleChange, section, isDragDisabled, isCreateEdit } = this.props;\n    let fld_options = null;\n    switch (section) {\n      case \"groups\":\n        fld_options = <FieldOptionsGroups field={field} onHandleChange={onHandleChange} index={index} section={section} isCreateEdit={isCreateEdit} />;\n        break;\n      case \"filters\":\n        fld_options = <FieldOptionsFilters field={field} onHandleChange={onHandleChange} index={index} section={section} isCreateEdit={isCreateEdit} />;\n        break;\n\n      default:\n        fld_options = <FieldOptionsColumns field={field} onHandleChange={onHandleChange} index={index} section={section} isCreateEdit={isCreateEdit} />;\n        break;\n    }\n    return (\n      <Draggable draggableId={field.key_name + \"_\" + index} index={index} isDragDisabled={isDragDisabled}>\n        {(provided, snapshot) => {\n          return (\n            <div  {...provided.draggableProps}\n              {...provided.dragHandleProps}\n              ref={provided.innerRef}\n              className=\"draggable-field-container\"\n            >\n              <div id={\"Popover-\" + field.key_name + \"_\" + index} className=\"draggable-field\">\n                <span className=\"draggable-field-label\">{field.label}</span>\n                {isCreateEdit ? <SDKIcon iconStyle=\"fa-xmark\" onClick={onRemove}/> : null}\n              </div>\n              <UncontrolledPopover\n                placement=\"right-start\"\n                target={\"Popover-\" + field.key_name + \"_\" + index}\n                trigger=\"legacy\"\n                modifiers={modifiers}\n                delay={0}\n                fade={false}\n              >\n                <PopoverBody className={\"oreports-popover\"}>\n                  {fld_options}\n                </PopoverBody>\n              </UncontrolledPopover>\n            </div>);\n        }}\n\n      </Draggable>\n    );\n  }\n}\n\nexport default DraggableField;","import React, { Component } from 'react';\nimport { Droppable } from \"react-beautiful-dnd\";\nimport { connect } from 'react-redux';\nimport Select from 'react-select';\nimport { Label, Button } from 'reactstrap';\nimport { addField, removeField, updateSectionItem } from '../../storage/actions';\nimport { fetchPreviewData as fetchPreviewDataAction } from '../../storage/thunkActions';\nimport DraggableField from './DraggableField';\nimport ResourceViewer from '../Visualization/ResourceViewer';\nimport { UtilManager } from '../../Utils';\nimport SDKIcon from '../Visualization/SDKIcon';\n\nlet Container = (props) => {\n  const { innerref, children } = props;\n  const cProps = { ...props };\n\n  let className = props.className;\n  // if (props.dragging) {\n  //   className += \" monitor-drop-in-container\";\n  // }\n\n  // if (props.snapshot.isDraggingOver) {\n  //   className += \" monitor-current-drop-container\";\n  // }\n  const bannedProps = ['innerref', 'dragging', 'dispatch', 'snapshot'];\n  for (let i of bannedProps) {\n    delete cProps[i];\n  }\n  return (\n    <div ref={innerref} {...cProps} className={className}>\n      {children}\n    </div>\n  );\n}\n\nexport class FieldsContainer extends Component {\n  state = {\n    selected_option: '',\n    title: ''\n  }\n\n  async getText(resourceTag) {\n    //conectar a la db indexeDB y retonar el texto\n    let result = await UtilManager.GetResource(resourceTag);\n    this.setState({ title: result });\n  }\n\n  async componentDidMount() {\n    await this.getText(this.props.title);\n  }\n\n  async componentDidUpdate(prevProps) {\n    if (this.props.title !== prevProps.title) {\n        await this.getText(this.props.title);\n    }\n  }\n\n  render() {\n    const { notitle, field_list, section, fields, is_create_edit, titleButton, is_list_view} = this.props;\n\n    let is_editing = false;\n    if(is_create_edit || is_list_view){\n      is_editing = true;\n    }\n\n    const drawField = (field, index) => {\n      if (is_list_view && field.key_name === 'rowid') {\n        return <></>;\n      }\n      return <DraggableField isCreateEdit={is_editing} isDragDisabled={!is_editing} section={section} field={field} index={index} key={field.key_name + \"_\" + index} onRemove={() => { this.props.removeField(section, index) }} onHandleChange={(property, value) => { this.props.updateSectionItem(section, index, property, value) }} />;\n    }\n    \n    return (\n      <div className=\"fields-main-container\">\n        <div className=\"fields-title-container\">\n          {!notitle ? <div className=\"fields-title-label-container\"><Label size=\"15\">{this.state.title}</Label></div> : null}\n        </div> \n\n        <div class=\"fields-selector-button-container d-flex justify-content-between align-items-center\">\n        {is_editing ? <Select placeholder={<ResourceViewer resourceTag=\"BLFlex.PlaceHolder.SelectField\" />} options={field_list} onChange={(e) => { this.props.addField(section, e); }} value={this.state.selected_option} />  : null} \n        {titleButton ? <div className=\"fields-title-action-container\"><Button className={titleButton.classes} onClick={ titleButton.click } size=\"sm\"><SDKIcon iconStyle={titleButton.classIcon} /></Button></div> : null}\n        \n        </div>\n\n\n         \n        <Droppable droppableId={section}>\n          {(provided, snapshot) => (\n\n            <Container className={\"fields-container\" + (this.props.dragging ? \" box-bordered\" : \"\")}\n              innerref={provided.innerRef}\n              {...provided.droppableProps}\n              snapshot={snapshot}\n            >\n              {fields.map((field, index) => (\n                drawField(field, index)\n              ))}\n              {provided.placeholder}\n            </Container>\n          )}\n        </Droppable>\n\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    'dragging': state.general.dragging,\n    'is_create_edit': state.general.is_create_edit,\n    'report_header_data': state.general.report_header_data,\n    'is_list_view': state.general.is_list_view,\n  };\n};\n\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    'addField': async (section, field) => {\n      await dispatch(addField(section, field));\n      dispatch(fetchPreviewDataAction());\n    },\n    'removeField': async (section, index) => {\n      await dispatch(removeField(section, index));\n      dispatch(fetchPreviewDataAction());\n    },\n    'updateSectionItem': async (section, index, property, value) => {\n      await dispatch(updateSectionItem(section, index, property, value));\n      dispatch(fetchPreviewDataAction());\n    }\n  };\n};\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FieldsContainer);\n","import \"ace-builds/src-noconflict/mode-javascript\";\nimport langTools from \"ace-builds/src-noconflict/ext-language_tools\";\n\nimport { formulaDescriptions } from \"../../constants\";\n\nconst DocCommentHighlightRules = window.ace.acequire(\"ace/mode/doc_comment_highlight_rules\").DocCommentHighlightRules;\n\nexport function setAutocomplete(functions, props) {\n  const staticWordCompleter = {\n    getCompletions: function(editor, session, pos, prefix, callback) {\n        const wordList = functions.concat(props);\n        callback(null, wordList.map(function(word) {\n          if (word.examples) {\n            return {\n              caption: word.name,\n              value: word.printFormula(),\n              meta: \"Funcin\",\n              obj: word\n            };\n          } else {\n            return {\n                caption: word.label,\n                value: \"props(\" + word.key_name + \")\",\n                meta: \"Columna\"\n            };\n          }\n        }));\n    }\n  }\n  langTools.setCompleters([staticWordCompleter]);\n}\n\nexport class CustomHighlightRules extends window.ace.acequire(\n  \"ace/mode/text_highlight_rules\"\n).TextHighlightRules {\n  constructor() {\n    super();\n    let keyword_regex = \"\";\n    for (let index = 0; index < formulaDescriptions.length; index++) {\n      let word = formulaDescriptions[index];\n      keyword_regex += word.name + \"|\"\n    }\n    const keywordMapper = this.createKeywordMapper({\n      \"variable.language\":\n          \"Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|\"  + // Constructors\n          \"Namespace|QName|XML|XMLList|\"                                             + // E4X\n          \"ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|\"   +\n          \"Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|\"                    +\n          \"Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|\"   + // Errors\n          \"SyntaxError|TypeError|URIError|\"                                          +\n          \"decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|\" + // Non-constructor functions\n          \"isNaN|parseFloat|parseInt|\"                                               +\n          \"JSON|Math|\"                                                               + // Other\n          \"this|arguments|prototype|window|document\"                                 , // Pseudo\n      \"keyword\":\n          \"const|yield|import|get|set|\" +\n          \"break|case|catch|continue|default|delete|do|else|finally|for|function|\" +\n          \"if|in|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|\" + keyword_regex +\n          // invalid or reserved\n          \"__parent__|__count__|escape|unescape|with|__proto__|\" +\n          \"class|enum|extends|super|export|implements|private|public|interface|package|protected|static\",\n      \"storage.type\":\n          \"const|let|var|function\",\n      \"constant.language\":\n          \"null|Infinity|NaN|undefined\",\n      \"support.function\":\n          \"alert\",\n      \"constant.language.boolean\": \"true|false\"\n  }, \"identifier\");\n  const escapedRe = \"\\\\\\\\(?:x[0-9a-fA-F]{2}|\" + // hex\n        \"u[0-9a-fA-F]{4}|\" + // unicode\n        \"[0-2][0-7]{0,2}|\" + // oct\n        \"3[0-6][0-7]?|\" + // oct\n        \"37[0-7]?|\" + // oct\n        \"[4-7][0-7]?|\" + //oct\n        \".)\";\n    const kwBeforeRe = \"case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void\";\n    const identifierRe = \"[a-zA-Z\\\\$_\\u00a1-\\uffff][a-zA-Z\\\\d\\\\$_\\u00a1-\\uffff]*\\\\b\";\n    this.$rules = {\n      \"no_regex\" : [\n          {\n              token : \"comment\",\n              regex : \"\\\\/\\\\/\",\n              next : \"line_comment\"\n          },\n          DocCommentHighlightRules.getStartRule(\"doc-start\"),\n          {\n              token : \"comment\", // multi line comment\n              regex : /\\/\\*/,\n              next : \"comment\"\n          }, {\n              token : \"string\",\n              regex : \"'(?=.)\",\n              next  : \"qstring\"\n          }, {\n              token : \"string\",\n              regex : '\"(?=.)',\n              next  : \"qqstring\"\n          }, {\n              token : \"constant.numeric\", // hex\n              regex : /0[xX][0-9a-fA-F]+\\b/\n          }, {\n              token : \"constant.numeric\", // float\n              regex : /[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b/\n          }, {\n              // Sound.prototype.play =\n              token : [\n                  \"storage.type\", \"punctuation.operator\", \"support.function\",\n                  \"punctuation.operator\", \"entity.name.function\", \"text\",\"keyword.operator\"\n              ],\n              regex : \"(\" + identifierRe + \")(\\\\.)(prototype)(\\\\.)(\" + identifierRe +\")(\\\\s*)(=)\",\n              next: \"function_arguments\"\n          }, {\n              // Sound.play = function() {  }\n              token : [\n                  \"storage.type\", \"punctuation.operator\", \"entity.name.function\", \"text\",\n                  \"keyword.operator\", \"text\", \"storage.type\", \"text\", \"paren.lparen\"\n              ],\n              regex : \"(\" + identifierRe + \")(\\\\.)(\" + identifierRe +\")(\\\\s*)(=)(\\\\s*)(function)(\\\\s*)(\\\\()\",\n              next: \"function_arguments\"\n          }, {\n              // play = function() {  }\n              token : [\n                  \"entity.name.function\", \"text\", \"keyword.operator\", \"text\", \"storage.type\",\n                  \"text\", \"paren.lparen\"\n              ],\n              regex : \"(\" + identifierRe +\")(\\\\s*)(=)(\\\\s*)(function)(\\\\s*)(\\\\()\",\n              next: \"function_arguments\"\n          }, {\n              // Sound.play = function play() {  }\n              token : [\n                  \"storage.type\", \"punctuation.operator\", \"entity.name.function\", \"text\",\n                  \"keyword.operator\", \"text\",\n                  \"storage.type\", \"text\", \"entity.name.function\", \"text\", \"paren.lparen\"\n              ],\n              regex : \"(\" + identifierRe + \")(\\\\.)(\" + identifierRe +\")(\\\\s*)(=)(\\\\s*)(function)(\\\\s+)(\\\\w+)(\\\\s*)(\\\\()\",\n              next: \"function_arguments\"\n          }, {\n              // function myFunc(arg) { }\n              token : [\n                  \"storage.type\", \"text\", \"entity.name.function\", \"text\", \"paren.lparen\"\n              ],\n              regex : \"(function)(\\\\s+)(\" + identifierRe + \")(\\\\s*)(\\\\()\",\n              next: \"function_arguments\"\n          }, {\n              // foobar: function() { }\n              token : [\n                  \"entity.name.function\", \"text\", \"punctuation.operator\",\n                  \"text\", \"storage.type\"\n              ],\n              regex : \"(\" + identifierRe + \")(\\\\s*)(\\\\s*)(\\\\s*)(\\\\()\",\n              next: \"function_arguments\"\n          }, {\n              // : function() { } (this is for issues with 'foo': function() { })\n              token : [\n                  \"text\", \"text\", \"storage.type\", \"text\", \"paren.lparen\"\n              ],\n              regex : \"(:)(\\\\s*)(function)(\\\\s*)(\\\\()\",\n              next: \"function_arguments\"\n          }, {\n              token : \"keyword\",\n              regex : \"(?:\" + kwBeforeRe + \")\\\\b\",\n              next : \"start\"\n          }, {\n              token : [\"punctuation.operator\", \"support.function\"],\n              regex : /(\\.)(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\\b(?=\\()/\n          }, {\n              token : [\"punctuation.operator\", \"support.function.dom\"],\n              regex : /(\\.)(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName|ClassName)|ById)|Attribute(?:Node)?)|blur)\\b(?=\\()/\n          }, {\n              token : [\"punctuation.operator\", \"support.constant\"],\n              regex : /(\\.)(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\\b/\n          }, {\n              token : [\"support.constant\"],\n              regex : /that\\b/\n          }, {\n              token : [\"storage.type\", \"punctuation.operator\", \"support.function.firebug\"],\n              regex : /(console)(\\.)(warn|info|log|error|time|trace|timeEnd|assert)\\b/\n          }, {\n              token : keywordMapper,\n              regex : identifierRe\n          }, {\n              token : \"keyword.operator\",\n              regex : /--|\\+\\+|===|==|=|!=|!==|<=|>=|<<=|>>=|>>>=|<>|<|>|!|&&|\\|\\||\\?\\:|[!$%&*+\\-~\\/^]=?/,\n              next  : \"start\"\n          }, {\n              token : \"punctuation.operator\",\n              regex : /[?:,;.]/,\n              next  : \"start\"\n          }, {\n              token : \"paren.lparen\",\n              regex : /[\\[({]/,\n              next  : \"start\"\n          }, {\n              token : \"paren.rparen\",\n              regex : /[\\])}]/\n          }, {\n              token: \"comment\",\n              regex: /^#!.*$/\n          }\n      ],\n      // regular expressions are only allowed after certain tokens. This\n      // makes sure we don't mix up regexps with the divison operator\n      \"start\": [\n          DocCommentHighlightRules.getStartRule(\"doc-start\"),\n          {\n              token : \"comment\", // multi line comment\n              regex : \"\\\\/\\\\*\",\n              next : \"comment_regex_allowed\"\n          }, {\n              token : \"comment\",\n              regex : \"\\\\/\\\\/\",\n              next : \"line_comment_regex_allowed\"\n          }, {\n              token: \"string.regexp\",\n              regex: \"\\\\/\",\n              next: \"regex\"\n          }, {\n              token : \"text\",\n              regex : \"\\\\s+|^$\",\n              next : \"start\"\n          }, {\n              // immediately return to the start mode without matching\n              // anything\n              token: \"empty\",\n              regex: \"\",\n              next: \"no_regex\"\n          }\n      ],\n      \"regex\": [\n          {\n              // escapes\n              token: \"regexp.keyword.operator\",\n              regex: \"\\\\\\\\(?:u[\\\\da-fA-F]{4}|x[\\\\da-fA-F]{2}|.)\"\n          }, {\n              // flag\n              token: \"string.regexp\",\n              regex: \"/[sxngimy]*\",\n              next: \"no_regex\"\n          }, {\n              // invalid operators\n              token : \"invalid\",\n              regex: /\\{\\d+\\b,?\\d*\\}[+*]|[+*$^?][+*]|[$^][?]|\\?{3,}/\n          }, {\n              // operators\n              token : \"constant.language.escape\",\n              regex: /\\(\\?[:=!]|\\)|\\{\\d+\\b,?\\d*\\}|[+*]\\?|[()$^+*?.]/\n          }, {\n              token : \"constant.language.delimiter\",\n              regex: /\\|/\n          }, {\n              token: \"constant.language.escape\",\n              regex: /\\[\\^?/,\n              next: \"regex_character_class\"\n          }, {\n              token: \"empty\",\n              regex: \"$\",\n              next: \"no_regex\"\n          }, {\n              defaultToken: \"string.regexp\"\n          }\n      ],\n      \"regex_character_class\": [\n          {\n              token: \"regexp.charclass.keyword.operator\",\n              regex: \"\\\\\\\\(?:u[\\\\da-fA-F]{4}|x[\\\\da-fA-F]{2}|.)\"\n          }, {\n              token: \"constant.language.escape\",\n              regex: \"]\",\n              next: \"regex\"\n          }, {\n              token: \"constant.language.escape\",\n              regex: \"-\"\n          }, {\n              token: \"empty\",\n              regex: \"$\",\n              next: \"no_regex\"\n          }, {\n              defaultToken: \"string.regexp.charachterclass\"\n          }\n      ],\n      \"function_arguments\": [\n          {\n              token: \"variable.parameter\",\n              regex: identifierRe\n          }, {\n              token: \"punctuation.operator\",\n              regex: \"[, ]+\"\n          }, {\n              token: \"punctuation.operator\",\n              regex: \"$\"\n          }, {\n              token: \"empty\",\n              regex: \"\",\n              next: \"no_regex\"\n          }\n      ],\n      \"comment_regex_allowed\" : [\n          DocCommentHighlightRules.getTagRule(),\n          {token : \"comment\", regex : \"\\\\*\\\\/\", next : \"start\"},\n          {defaultToken : \"comment\", caseInsensitive: true}\n      ],\n      \"comment\" : [\n          DocCommentHighlightRules.getTagRule(),\n          {token : \"comment\", regex : \"\\\\*\\\\/\", next : \"no_regex\"},\n          {defaultToken : \"comment\", caseInsensitive: true}\n      ],\n      \"line_comment_regex_allowed\" : [\n          DocCommentHighlightRules.getTagRule(),\n          {token : \"comment\", regex : \"$|^\", next : \"start\"},\n          {defaultToken : \"comment\", caseInsensitive: true}\n      ],\n      \"line_comment\" : [\n          DocCommentHighlightRules.getTagRule(),\n          {token : \"comment\", regex : \"$|^\", next : \"no_regex\"},\n          {defaultToken : \"comment\", caseInsensitive: true}\n      ],\n      \"qqstring\" : [\n          {\n              token : \"constant.language.escape\",\n              regex : escapedRe\n          }, {\n              token : \"string\",\n              regex : \"\\\\\\\\$\",\n              next  : \"qqstring\"\n          }, {\n              token : \"string\",\n              regex : '\"|$',\n              next  : \"no_regex\"\n          }, {\n              defaultToken: \"string\"\n          }\n      ],\n      \"qstring\" : [\n          {\n              token : \"constant.language.escape\",\n              regex : escapedRe\n          }, {\n              token : \"string\",\n              regex : \"\\\\\\\\$\",\n              next  : \"qstring\"\n          }, {\n              token : \"string\",\n              regex : \"'|$\",\n              next  : \"no_regex\"\n          }, {\n              defaultToken: \"string\"\n          }\n      ]\n  };\n\n  }\n}\n\nexport class CustomMode extends window.ace.acequire(\"ace/mode/javascript\")\n  .Mode {\n  constructor() {\n    super();\n    this.HighlightRules =  CustomHighlightRules;\n  }\n}\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport \"ace-builds\";\nimport \"ace-builds/src-noconflict/theme-monokai\";\nimport \"ace-builds/src-noconflict/ext-language_tools\";\nimport AceEditor from \"react-ace\";\nimport { CustomMode, setAutocomplete } from \"./Formula/CustomAceBehaveaurt\";\nimport Select from 'react-select'\nimport cloneDeep from 'lodash/cloneDeep'\nimport ResourceViewer from '../components/Visualization/ResourceViewer';\nimport SDKIcon from '../components/Visualization/SDKIcon';\n\nimport {\n\tAlert,\n\tButton, \n\tCol,\n\tFormGroup,\n\tInput,\n\tLabel,\n\tModal,\n\tModalHeader,\n\tModalBody,\n\tModalFooter,\n\tRow,\n\tBadge\n} from 'reactstrap'\n\nimport { \n\tsetIsOpenModalFormula, \n\taddField,\n\tupdateSectionItem\n} from '../storage/actions'\n\nimport { fetchPreviewData } from '../storage/thunkActions'\n\nimport { \n\tisEmptyObj, \n\treduceToObj,\n\tgenerateSample,\n\tgetType,\n\tbuildMeta,\n\tformulasLib,\n\tgenerateName,\n\tSDKNotification\n } from '../Utils'\n\nimport {\n\tformulaDescriptions,\n\temptyDesciptionObj,\n\tresetStateFormulaModal\n} from '../constants'\nimport { Variables } from 'devextreme-react/html-editor';\n\nclass FormulaModal extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\t'label': '',\n\t\t\t'name': '',\n\t\t\t'formula': '',\n\t\t\t'description': cloneDeep(emptyDesciptionObj),\n\t\t\t'section': 'columns',\n\t\t\t'formulaHelper': false,\n\t\t\t'formulaDescriptions': formulaDescriptions\n\t\t}\n\t\tthis.onHandleChange = this.onHandleChange.bind(this)\n\t\tthis.addToFormula = this.addToFormula.bind(this)\n\t\tthis.onAddField = this.onAddField.bind(this)\n\t\tthis.onHandleChangeFn = this.onHandleChangeFn.bind(this)\n\t\tthis.isOpen = false;\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tif (nextProps.modalFormulaMode === 'edit')  {\n\t\t\tthis.setState(cloneDeep(nextProps.modalFormulaEditModeData))\n\t\t} else {\n\t\t\tthis.setState({\n\t\t\t\t'label': '',\n\t\t\t\t'name': '',\n\t\t\t\t'formula': '',\n\t\t\t\t'description': cloneDeep(emptyDesciptionObj),\n\t\t\t\t'section': 'columns'\n\t\t\t})\n\t\t}\n\t}\n\n\tonHandleChange(e) {\n\t\tconst { target: { name, value } } = e\n\t\tthis.setState({ ...this.state, ...{ [name]: value } })\n\t}\n\t\n\tonHandleChangeEditor(e) {\n\t\tthis.setState({ ...this.state, ...{ [\"formula\"]: e } })\n\t}\n\n\tonHandleChangeFn(fnOption) {\n\t\tif (isEmptyObj(fnOption)) {\n\t\t\tthis.setState({...this.state, ...{ description: cloneDeep(emptyDesciptionObj) } })\n\t\t\treturn\n\t\t}\n\n\t\tthis.setState(\n\t\t\t{\n\t\t\t\t...this.state,\n\t\t\t\t...{ description: cloneDeep(fnOption) }\n\t\t\t}\n\t\t)\n\t}\n\n\taddToFormula(field) {\n\t\tif (!field) return\n\t\tconst { name } = field\n\t\tthis.setState({ ...this.state, ...{ formula: `${this.state.formula} props(${name}) ` } })\n\t}\n\n\tonAddField(e) {\n\n\t\tif (!this.state.label) {\n\t\t\t SDKNotification.ShowError(\"BLFlex.Notification.NameColumn\");\n\t\t\treturn\n\t\t}\n\n\t\tconst key_name = generateName(this.state.label)\n\n\t\tconst columnNames = this.props.columns.map(col => col.key_name).concat(this.props.groups.map(col => col.key_name))\n\n\t\tif (this.props.modalFormulaMode !== 'edit' && columnNames.indexOf(key_name) !== -1)\n\t\t{\n\t\t\tlet error = \"BLFlex.Notification.ChangeKey\";\n\t\t\t SDKNotification.ShowError(error, new Array(key_name));\n\t\t\treturn\n\t\t}\n\n\t\tif (!this.state.formula) {\n\t\t\t SDKNotification.ShowError(\"BLFlex.Notification.EnterFormula\");\t\t\t\n\t\t\treturn\n\t\t}\n\n\t\tlet formulaBuildError = {\n\t\t\t'error': false,\n\t\t\t'description': ''\n\t\t}\n\n\t\tconst formulaColumns = this.props.columns.filter(col => col.customFn).concat(this.props.groups.filter(col => col.customFn))\n\t\tconst regularColumns = this.props.columns.filter(col => !col.customFn).concat(this.props.groups.filter(col => !col.customFn))\n\n\t\tconst regularColumnsNames = regularColumns.map(col => col.key_name)\n\t\tconst calculatedColumnsNames = formulaColumns.map(col => col.key_name)\n\t\tconst calculatedColumnsFormulas = formulaColumns\n\t\t\t\t\t\t\t\t\t\t\t.map(col => Object.assign({}, { [col.key_name]: col.formula }))\n\t\t\t\t\t\t\t\t\t\t\t.reduce(reduceToObj, {})\n\n\t\tconst normalizeFormula = function (formula, regularColumnsNames, calculatedColumnsNames, calculatedColumnsFormulas) {\n\t\t\treturn formula.replace(/props\\((.*?)\\)/g, function (not_use, operand) {\n\t\t\t\tif (calculatedColumnsNames.indexOf(operand) === -1) {\n\n\t\t\t\t\tif(regularColumnsNames.indexOf(operand) !== -1) {\n\t\t\t\t\t\tconst typeOperand = regularColumns.find(col => col.key_name === operand).type\n\t\t\t\t\t\tconst sample = generateSample(typeOperand)\n\t\t\t\t\t\tif (typeOperand === 'CharField' || typeOperand === 'DateTimeField' || typeOperand === 'DateField')  {\n\t\t\t\t\t\t\treturn `'${sample}'`\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn sample\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tformulaBuildError.error = true\n\t\t\t\t\tformulaBuildError.description = `El operando ${operand} no pertenece a la lista de columnas seleccionadas`\n\t\t\t\t\treturn ''\n\t\t\t\t} else {\n\t\t\t\t\treturn `(${normalizeFormula(calculatedColumnsFormulas[operand], regularColumnsNames, calculatedColumnsNames, calculatedColumnsFormulas)})`\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\n\t\tconst normFormula = normalizeFormula(this.state.formula, regularColumnsNames, calculatedColumnsNames, calculatedColumnsFormulas)\n\n\t\tif (formulaBuildError.error) {\n\t\t\tlet error = \"BLFlex.Notification.InvalidFormula\";\n\t\t\tSDKNotification.ShowError(error, new Array(normFormula));\n\t\t\treturn\n\t\t}\n\n\t\t//Evaluar la formula\n\t\tlet resultFormula = undefined\n\t\ttry {\n\t\t\tresultFormula = (\n\t\t\t\tnew Function(...Object.keys(formulasLib), `try {\n\t\t\t\t\treturn ${normFormula}\n\t\t\t\t} catch (err)  {\n\t\t\t\t\treturn err\n\t\t\t\t}`)\n\t\t\t)(...Object.values(formulasLib))\n\t\t} catch (err)  {\n\t\t\tconsole.error(err);\n\t\t\t SDKNotification.ShowError(\"BLFlex.Notification.ErrorEvaluateFormulate\");\n\t\t\treturn\n\t\t}\n\n\t\tif (resultFormula instanceof Error) {\n\t\t\tconsole.error(resultFormula);\n\t\t\t//resultFormula.message\n\t\t\tSDKNotification.ShowError(\"Custom.Generic.Message.Error\");\n\t\t\treturn\n\t\t}\n\n\t\tlet resultType\n\n\t\tif (normFormula.indexOf('changeFormat') !== -1) {\n\t\t\tresultType = 'CharField'\n\t\t} else {\n\t\t\tresultType = getType(resultFormula)\n\t\t}\n\n\t\tif (!resultType) {\n\t\t\t//no permitir cerrar el modal, el resultado no es string ni number ni date ni boolean\n\t\t\tlet error = \"BLFlex.Notification.UnexpectedData\";\n\t\t\tSDKNotification.ShowError(error, new Array(normFormula));\n\t\t\treturn\n\t\t}\n\n\t\tconst metaType = buildMeta(resultType)\n\n\t\tif (this.props.modalFormulaMode === 'edit') {\n\t\t\tthis.props.dispatchUpdateSectionItem(this.state.section, this.props.index, 'formula', this.state.formula)\n\t\t\tthis.props.dispatchUpdateSectionItem(this.state.section, this.props.index, 'label', this.state.label)\n\t\t\tthis.props.dispatchUpdateSectionItem(this.state.section, this.props.index, 'type', metaType.type)\n\t\t\tthis.props.dispatchUpdateSectionItem(this.state.section, this.props.index, 'filter_options', metaType.filter_options)\n\t\t} else {\n\t\t\tconst fieldMeta = {\n\t\t\t\t\"name\": key_name,\n\t\t\t\t\"label\": this.state.label,\n\t\t\t\t...metaType,\n\t\t\t\t\"path\": this.props.selected_class,\n\t\t\t\t\"key_name\": key_name,\n\t\t\t\t\"customFn\": true,\n\t\t\t\t\"formula\": this.state.formula\n\t\t\t}\n\t\t\tthis.props.dispatchAddField('columns', fieldMeta)\n\t\t}\n\n\t\tthis.props.dispatchFetchPreviewData()\n\t\tthis.setState(cloneDeep(resetStateFormulaModal))\n\t\tthis.props.dispatchSetIsOpen(false)\n\t}\n\n\tdetectFunctions (e) {\n\t\ttry {\n\t\t\tconst selection = e;\n\t\t\tconst cursorPosition = {column:selection.cursor.column, row:selection.cursor.row};\n\t\t\tconst textBeforeCursor = selection.doc.$lines[cursorPosition.row].slice(0, cursorPosition.column+1);\n\t\t\tif (textBeforeCursor.slice(-1) === '(') {\n\t\t\t\tconst lastName = textBeforeCursor.slice(0, textBeforeCursor.length - 1)\n\t\t\t\t.split(/\\(|\\)|--|\\+\\+|===|==|=|!=|!==|<=|>=|<<=|>>=|>>>=|<>|<|>|!|&&|\\|\\||\\?\\:|[!$%&*+\\-~\\/^]=?/)\n\t\t\t\t.pop().replaceAll(' ', '');\n\t\t\t\tformulaDescriptions.forEach(fnOption => {\n\t\t\t\t\tif (fnOption.name === lastName) {\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t...this.state,\n\t\t\t\t\t\t\t...{ description: cloneDeep(fnOption) }\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t} else {\n\t\t\t\tif (!this.state.formulaHelper) {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t...this.state,\n\t\t\t\t\t\t...{ description: cloneDeep(emptyDesciptionObj) }\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (error)  {\n\t\t\tconsole.log(\"detectFunctions\", error)\n\t\t}\n\t}\n\n\trender() {\n\t\treturn <Modal\n\t\t\t\tscrollable={false}\n\t\t\t\tcentered={true}\n\t\t\t\tsize=\"lg\"\n\t\t\t\tisOpen={ this.props.modalFormulaisOpen }\n\t\t\t\ttoggle={ () => this.props.dispatchSetIsOpen(false) }\n\t\t\t\tclassName=\"config-modal\">\n\t\t\t\t\t<ModalHeader\n\t\t\t\t\t\ttoggle={ () => this.props.dispatchSetIsOpen(false) }>\n\t\t\t\t\t\t<ResourceViewer resourceTag=\"BLFlex.Label.Formula\" />\n\t\t\t\t\t</ModalHeader>\n\t\t\t\t\t<ModalBody>\n\t\t\t\t\t\t<div className=\"formula-modal-edit-container\">\n\t\t\t\t\t\t<div className=\"formula-modal-row\">\n\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t\t\t\t<Label for=\"label\"><ResourceViewer resourceTag=\"BLFlex.Label.NameColumn\" /></Label>\n\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\tname=\"label\"\n\t\t\t\t\t\t\t\t\t\tid=\"label\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"input-sm\"\n\t\t\t\t\t\t\t\t\t\tbsSize=\"sm\"\n\t\t\t\t\t\t\t\t\t\tvalue={ this.state.label }\n\t\t\t\t\t\t\t\t\t\tonChange={ e => this.onHandleChange(e) } />\n\t\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"formula-modal-row\">\n\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t\t\t\t<Label for=\"name\">\n\t\t\t\t\t\t\t\t\t\t<ResourceViewer resourceTag=\"BLFlex.Label.Formula\" />\n\t\t\t\t\t\t\t\t\t\t<Badge color=\"secondary\" className={!this.state.formulaHelper ? \"formula-edit-help\": \"active-option-button\"}\n\t\t\t\t\t\t\t\t\t\t\tonClick={ async (e) => { this.setState({\n\t\t\t\t\t\t\t\t\t\t\t\t...this.state,\n\t\t\t\t\t\t\t\t\t\t\t\t...{ formulaHelper: !this.state.formulaHelper }\n\t\t\t\t\t\t\t\t\t\t\t});} }>\n\t\t\t\t\t\t\t\t\t\t\t<SDKIcon iconStyle=\"fa-question-circle\" />\n\t\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t\t</Label>\n\t\t\t\t\t\t\t\t\t<AceEditor\n\t\t\t\t\t\t\t\t\t\tref=\"aceEditor\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"year(props(creation_date)) ...\"\n\t\t\t\t\t\t\t\t\t\tmode=\"text\"\n\t\t\t\t\t\t\t\t\t\ttheme=\"monokai\"\n\t\t\t\t\t\t\t\t\t\tname=\"formula\"\n\t\t\t\t\t\t\t\t\t\tonLoad={editor => {setTimeout(() => {\n\t\t\t\t\t\t\t\t\t\t\tconst customMode = new CustomMode();\n\t\t\t\t\t\t\t\t\t\t\teditor.session.setMode(customMode);\n\t\t\t\t\t\t\t\t\t\t\tsetAutocomplete(formulaDescriptions, this.props.columns.concat(this.props.groups));\n\t\t\t\t\t\t\t\t\t\t}, 100);}}\n\t\t\t\t\t\t\t\t\t\tonChange={ e => {this.onHandleChangeEditor(e);}  }\n\t\t\t\t\t\t\t\t\t\tonCursorChange = { e => this.detectFunctions(e) }\n\t\t\t\t\t\t\t\t\t\tvalue={ this.state.formula }\n\t\t\t\t\t\t\t\t\t\tfontSize={14}\n\t\t\t\t\t\t\t\t\t\tsetOptions={{\n\t\t\t\t\t\t\t\t\t\t\tenableBasicAutocompletion: true,\n\t\t\t\t\t\t\t\t\t\t\tshowLineNumbers: true,\n    \t\t\t\t\t\t\t\t\t\tenableLiveAutocompletion: true\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tshowPrintMargin={true}\n\t\t\t\t\t\t\t\t\t\tshowGutter={true}\n\t\t\t\t\t\t\t\t\t\thighlightActiveLine={true}\n\t\t\t\t\t\t\t\t\t\tstyle={{width: \"100%\", height: \"100px\"}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t{(this.state.description && this.state.description.label !== '') || this.state.formulaHelper ?\n\t\t\t\t\t\t\t\t<ul className=\"formula-helper-container\">\n\t\t\t\t\t\t\t\t\t<li className=\"formula-helper\">\n\t\t\t\t\t\t\t\t\t<div style={{display:'flex'}}>\n\t\t\t\t\t\t\t\t\t\t<div className=\"helper-option-list\" style={{width: '30%', marginRight: '5%'}}>\n\t\t\t\t\t\t\t\t\t\t\t\t<h5><ResourceViewer resourceTag=\"Custom.BLFlex.GuideFormula.Functions\" /></h5>\n\t\t\t\t\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{ formulaDescriptions.map((option, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li style={{listStyle: 'none'}}  key={index}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button color=\"secondary\" \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={!(this.state.description.name === option.name) ? \"helper-funtion-option\" : \"helper-funtion-option active-option-button\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.onHandleChangeFn(option)}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ResourceViewer resourceTag= {option.label} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)) }\n\t\t\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t{(this.state.description && this.state.description.label !== '') ?\n\t\t\t\t\t\t\t\t\t\t<div className=\"helper-option-detail\" style={{width: '65%'}}>\n\t\t\t\t\t\t\t\t\t\t\t<h4>{<ResourceViewer resourceTag= {this.state.description.label} />  } <span style={{fontSize: '12px', fontFamily: 'Avenir-Book,Arial,Helvetica,sans-serif'}}>(<i>{this.state.description.name}</i>)</span></h4>\n\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t{<ResourceViewer resourceTag= {this.state.description.description} />  }\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t<h5>\n\t\t\t\t\t\t\t\t\t\t\t\t{ this.state.description.syntax && <ResourceViewer resourceTag=\"BLFlex.Label.Formula.Syntax\" /> }\n\t\t\t\t\t\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t\t\t\t\t\t{ this.state.description.syntax && <Alert color=\"dark\"><i>{ this.state.description.syntax }</i></Alert> }\n\t\t\t\t\t\t\t\t\t\t\t<h5>\n\t\t\t\t\t\t\t\t\t\t\t\t{ !!this.state.description.examples.length && <ResourceViewer resourceTag=\"BLFlex.Label.Formula.Examples\" /> }\n\t\t\t\t\t\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t\t\t\t\t\t{ this.state.description.examples.map((example, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<Alert key={ index } color=\"dark\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i>{ example }</i>\n\t\t\t\t\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t\t\t\t\t)) }\n\t\t\t\t\t\t\t\t\t\t</div> : null}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t</ul> : null\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</ModalBody>\n\t\t\t\t\t<ModalFooter>\n\t\t\t\t\t\t<Button color=\"primary\" className=\"btn_primary_def_1\" onClick={ this.onAddField }>{ this.props.modalFormulaMode === 'edit' ? 'Aceptar' : 'Agregar' }</Button>\n\t\t\t\t\t\t<Button color=\"secondary\" className=\"btn_secondary_def_1\" onClick={ e => {\n\t\t\t\t\t\t\tthis.props.dispatchSetIsOpen(false)\n\t\t\t\t\t\t\tthis.setState(cloneDeep(resetStateFormulaModal))\n\t\t\t\t\t\t}}>Cancelar</Button>\n\t\t\t\t\t</ModalFooter>\n\t\t\t\t</Modal>\n\t}\n}\n\nconst mapStateToProps = ({ modalFormula, general }) => {\n\treturn {\n\t\tmodalFormulaisOpen: modalFormula.isOpen,\n\t\tmodalFormulaMode: modalFormula.mode,\n\t\tmodalFormulaEditModeData: modalFormula.edit_mode_data,\n\t\tselected_class: general.report_header_data.selected_class,\n\t\tcolumns: general.columns,\n\t\tgroups: general.groups,\n\t\tindex: modalFormula.index,\n\t}\n}\n\nconst mapDispatchToProps = dispatch => {\n\treturn {\n\t\tdispatchSetIsOpen: isOpen => dispatch(setIsOpenModalFormula(isOpen)),\n\t\tdispatchAddField: (section, field) => dispatch(addField(section, field)),\n\t\tdispatchFetchPreviewData: () => dispatch(fetchPreviewData()),\n\t\tdispatchUpdateSectionItem: (section, index, property, value) => {\n\t\t\tdispatch(updateSectionItem(section, index, property, value))\n\t\t}\n\t}\n}\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(FormulaModal)","import cloneDeep from 'lodash/cloneDeep';\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport FieldsContainer from './FieldsContainer';\nimport FormulaModal from '../FormulaModal';\nimport { setIsOpenModalFormula, setModeModalFormula, setEditListFlex} from '../../storage/actions'\nimport ResourceViewer from '../Visualization/ResourceViewer';\nimport {save} from '../../storage/thunkActions'\nimport SDKIcon from '../Visualization/SDKIcon';\n\nexport class Sidebar extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      current_tab: 0,\n      collapse: (props.is_create_edit ? false : true),\n      change_tab: false\n    }\n  }\n\n  changeTab(index) {\n    this.setState({ current_tab: index });\n  }\n\n  onClickIcon() {\n    let new_index = Math.abs(this.state.current_tab - 1);\n    this.setState({ current_tab: new_index, change_tab: true });\n  }\n\n  toggleCollapse = () => {\n    if(this.props.is_list_view){\n      this.props.setEditListFlex();\n    }\n    this.setState(prevState => ({\n      collapse: !prevState.collapse      \n    }));\n  }\n\n  openEditFormula = () => {\n    this.props.dispatchSetModeModalFormula('add')\n    this.props.dispatchSetIsOpen(true)\n  }\n\n  actionSaveFlex = () => {\n    this.props.dispatchSave()\n  }\n\n  filterFieldList = (excluded_keys) => {\n    let result = [];\n    this.props.field_list.forEach(element => {\n      let tmp = cloneDeep(element);\n      if (tmp.options) {\n        let new_options = [];\n        for (let index = 0; index < tmp.options.length; index++) {\n          const option = tmp.options[index];\n          if (excluded_keys.indexOf(option.key_name) === -1) {\n            new_options.push(option);\n          }\n        }\n        tmp.options = new_options;\n        result.push(tmp);\n      }\n    });\n    return result;\n  }\n\n  render() {\n    const { columns, groups, filters, is_create_edit, is_list_view } = this.props;\n    // this.state.current_tab = (is_list_view && !this.state.change_tab) ? 0 : this.state.current_tab;\n    // this.state.change_tab = false;\n    let added_fields = columns.map(field => { return field.key_name }).concat(groups.map(field => { return field.key_name }));\n    if (this.state.collapse) {\n      return (\n        <div className=\"oreports-sidebar collapsed d-flex align-items-center\" onClick={this.toggleCollapse}>\n          <div className=\"sidebar-header\">            \n            <div className=\"sidebar-icon\" ><SDKIcon iconStyle=\"fa-chevron-right\" /></div>\n          </div>\n          <div class=\"table-edit-title\">\n            <ResourceViewer resourceTag=\"BLFlex.Label.TableEdition\" />\n          </div>\n        </div>\n      );\n    }\n    return (\n      <div className=\"oreports-sidebar\">\n        {is_list_view? <div class=\"boton_guardar_edicion p-3\">\n          <button class=\" btn btn-primary btn_primary_def_1 btn-sm px-3\" onClick={()=>{this.actionSaveFlex();}}>\n            <ResourceViewer resourceTag=\"BLFlex.Label.SaveEdit\" />\n          </button>\n        </div>: null}\n        <div className=\"sidebar-header pl-3 pr-3\">\n          {this.state.current_tab === (is_create_edit ? 0 : 1) ? <div className=\"sidebar-title\">\n            <SDKIcon iconStyle=\"fa-table\" />\n            <ResourceViewer resourceTag=\"BLFlex.Label.BaseTable\" /></div> : null} \n          <div className=\"sidebar-icon\" id=\"sidebar-icon-filter\" onClick={() => { this.onClickIcon(); }}>{this.state.current_tab === (is_create_edit ? 0 : 1) ? <SDKIcon iconStyle=\"fa-filter\" /> : <SDKIcon iconStyle=\"fa-th\" />}</div>\n          {this.state.current_tab === (is_create_edit ? 1 : 0) ? <div className=\"sidebar-title\"><SDKIcon iconStyle=\"fa-filter\" /><ResourceViewer resourceTag=\"BLFlex.Label.Filters\" /></div> : null}\n        </div>\n        <hr class=\"table-separator\"></hr>\n        <div className=\"pl-3 pr-3 pb-3\">\n          {this.state.current_tab === (is_create_edit ? 0 : 1) ? <>\n            <FormulaModal /> \n            \n            <FieldsContainer title=\"BLFlex.Label.Columns\" section=\"columns\" fields={columns} field_list={this.filterFieldList(added_fields)}\n              titleButton={(is_create_edit ? { classes: 'btn btn-default oreports-primary-button outlined custom-columns-function', click: this.openEditFormula, classIcon: 'fa-sigma' } : null)} />\n              \n            <hr></hr> \n            <FieldsContainer title=\"BLFlex.Label.Groups\" section=\"groups\" fields={groups} field_list={this.filterFieldList(added_fields)} />\n            \n          </> : <FieldsContainer title=\"BLFlex.Label.Filters\" notitle={true} section=\"filters\" fields={filters} field_list={this.filterFieldList([])} />}\n        </div>\n        <div class=\"sidebar-extra\" onClick={this.toggleCollapse}>\n        <div className=\"sidebar-collapse d-flex flex-column align-items-center\">\n          <div class=\"sidebar-header\"><SDKIcon iconStyle=\"fa-chevron-left\" /></div>\n          <div class=\"table-edit-title\">\n            <ResourceViewer resourceTag=\"BLFlex.Label.TableEdition\" />\n          </div>\n          </div>\n        </div>\n      </div>\n     \n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    'field_list': state.general.field_list,\n    'columns': state.general.columns,\n    'groups': state.general.groups,\n    'filters': state.general.filters,\n    'is_create_edit': state.general.is_create_edit,\n    'is_list_view': state.general.is_list_view,\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    dispatchSetIsOpen: isOpen => dispatch(setIsOpenModalFormula(isOpen)),\n    dispatchSetModeModalFormula: mode => dispatch(setModeModalFormula(mode)),\n    dispatchSave: () => dispatch(save()),\n    setEditListFlex: () => dispatch(setEditListFlex())\n  }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Sidebar);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Col, Modal, ModalBody, Row } from 'reactstrap';\nimport { zoomChart } from '../storage/actions';\n\nimport Table from '../components/Table';\nimport Sidebar from '../components/Sidebar/Sidebar';\n\nimport OpalChart from './Chart';\nimport SDKIcon from './Visualization/SDKIcon';\n\n\nclass ZoomChartModal extends Component {\n\n  render() {\n\n    const { zoomed_chart_def, toggleZoomChartModal } = this.props;\n\n    if (!zoomed_chart_def || !zoomed_chart_def.type) {\n      return null;\n    }\n\n    return (<Modal scrollable={false} centered={true} size=\"lg\" isOpen={true} toggle={toggleZoomChartModal} className=\"config-modal full-screen-modal modal-chart\">\n      <ModalBody>\n        <OpalChart chart_def={{ ...zoomed_chart_def }} isZoomed={true} />\n        <div className=\"chart-button-container\">\n          <SDKIcon iconStyle=\"fa-times\" onClick={toggleZoomChartModal}/>\n        </div>\n\n        {this.props.show_table ?\n\n          <Row>\n            <Col>\n              <div className=\"oreports-container\">\n                <div className=\"oreports-body\">\n                  <Sidebar />\n                  <div className=\"oreports-table\">\n                    <Table in_modal={true} />\n                  </div>\n                </div>\n              </div>\n            </Col>\n          </Row>\n          : null}\n      </ModalBody>\n\n    </Modal>);\n  }\n}\n\n\nconst mapStateToProps = state => {\n  return {\n    'zoomed_chart_def': state.general.zoomed_chart_def,\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    'toggleZoomChartModal': () => {\n      dispatch(zoomChart({}));\n    },\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ZoomChartModal);","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Col } from 'reactstrap';\nimport { Button } from 'devextreme-react/button';\n\nimport OpalChart from './Chart';\n\nimport { removeChart, zoomChart, applyTableFilter, setEditChartIndex, toggleChartsModal } from '../storage/actions';\n\n\nclass ChartContainer extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      chartGuid: this.getGuid()\n    }\n  }\n\n  getGuid() {\n    return Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if(prevProps.size != this.props.size) {\n      //this.forceUpdate();\n      this.setState({chartGuid: this.getGuid()});\n    }\n  }\n\n  render() {\n\n    const { chart_def, chart_index, is_create_edit, size, table_filters } = this.props;\n\n    let show_undo = false;\n    let undo_field = null;\n    for (let index = 0; index < table_filters.length; index++) {\n      const element = table_filters[index];\n      if ((element[0] === chart_def.xaxis || (chart_def.yaxis  && chart_def.yaxis.length > 0 && element[0] === chart_def.yaxis[0])) && element.length === 3 && element[2]) {\n        show_undo = true;\n        undo_field = (element[0] === chart_def.xaxis ? chart_def.xaxis: chart_def.yaxis[0]);\n        break;\n      }\n\n    }\n    \n    return (\n      <Col md={size} className=\"chart-card\" style={{\n        padding: chart_def.type === \"numeric\" ? 0 : 'inherit'\n      }}>\n        <OpalChart chart_def={{ ...chart_def }} key={this.state.chartGuid} />\n        <div className=\"chart-button-container\">\n          {chart_def.type !== \"numeric\" ? <Button\n            icon=\"search\"\n            onClick={() => {\n              this.props.zoomChart({ ...chart_def });\n            }} /> : null}\n          {show_undo ?\n            <Button\n              icon=\"undo\"\n              onClick={() => {\n                this.props.applyFilter(undo_field, undefined);\n              }}\n            /> : null}\n          {is_create_edit ?\n          <>\n          <Button\n            icon=\"edit\"\n            onClick={() => {\n              this.props.editChart(chart_index);\n            }} />\n            <Button\n              icon=\"close\"\n              onClick={() => {\n                this.props.removeChart(chart_index);\n              }}\n            /> </>: null}\n        </div>\n      </Col>);\n  }\n}\n\n\nconst mapStateToProps = state => {\n  return {\n    'is_create_edit': state.general.is_create_edit,\n    'table_filters': state.general.table_filters,\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    'removeChart': (index) => {\n      dispatch(removeChart(index));\n    },\n    'editChart': async (chart_index) => {\n      await dispatch(setEditChartIndex(chart_index));\n      dispatch(toggleChartsModal());\n    },\n    'zoomChart': (chart_def) => {\n      dispatch(zoomChart(chart_def));\n    },\n    'applyFilter': (column, value) => {\n      dispatch(applyTableFilter(column, value));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ChartContainer);","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  id: \"Group_2638\",\n  \"data-name\": \"Group 2638\",\n  transform: \"translate(18875 1576.005)\",\n  opacity: 0.5\n}, React.createElement(\"path\", {\n  id: \"Union_1\",\n  \"data-name\": \"Union 1\",\n  d: \"M16.385,36.808V24.457H4.035a4.035,4.035,0,0,1,0-8.07H16.385V4.036a4.035,4.035,0,1,1,8.07,0V16.386H36.806a4.035,4.035,0,1,1,0,8.07H24.456V36.808a4.035,4.035,0,0,1-8.07,0Z\",\n  transform: \"translate(-18774.404 -1547.535) rotate(-16)\",\n  fill: \"#909090\",\n  opacity: 0.5\n}), React.createElement(\"path\", {\n  id: \"Union_2\",\n  \"data-name\": \"Union 2\",\n  d: \"M16.385,36.808V24.458H4.035a4.036,4.036,0,0,1,0-8.071H16.385V4.036a4.035,4.035,0,1,1,8.07,0V16.386H36.806a4.036,4.036,0,0,1,0,8.071H24.456V36.808a4.035,4.035,0,0,1-8.07,0Z\",\n  transform: \"translate(-18632.051 -1576.005) rotate(28)\",\n  fill: \"#909090\",\n  opacity: 0.5\n}), React.createElement(\"path\", {\n  id: \"Union_4\",\n  \"data-name\": \"Union 4\",\n  d: \"M16.385,36.808V24.458H4.035a4.036,4.036,0,0,1,0-8.071H16.385V4.036a4.035,4.035,0,1,1,8.07,0V16.386H36.806a4.036,4.036,0,0,1,0,8.071H24.456V36.808a4.035,4.035,0,0,1-8.07,0Z\",\n  transform: \"translate(-18555.348 -1278.321) rotate(9)\",\n  fill: \"#909090\",\n  opacity: 0.5\n}), React.createElement(\"path\", {\n  id: \"Union_6\",\n  \"data-name\": \"Union 6\",\n  d: \"M16.385,36.808V24.458H4.035a4.036,4.036,0,0,1,0-8.071H16.385V4.036a4.035,4.035,0,1,1,8.07,0V16.386H36.806a4.036,4.036,0,0,1,0,8.071H24.456V36.808a4.035,4.035,0,0,1-8.07,0Z\",\n  transform: \"translate(-18847.463 -1282.31) rotate(-18)\",\n  fill: \"#909090\",\n  opacity: 0.5\n}), React.createElement(\"path\", {\n  id: \"Union_3\",\n  \"data-name\": \"Union 3\",\n  d: \"M10.427,23.423v-7.86H2.568a2.568,2.568,0,0,1,0-5.136h7.859V2.568a2.568,2.568,0,0,1,5.136,0v7.86h7.859a2.568,2.568,0,0,1,0,5.136H15.563v7.86a2.568,2.568,0,0,1-5.136,0Z\",\n  transform: \"translate(-18473.324 -1431.001) rotate(13)\",\n  fill: \"#909090\",\n  opacity: 0.5\n}), React.createElement(\"path\", {\n  id: \"Union_7\",\n  \"data-name\": \"Union 7\",\n  d: \"M10.427,23.423v-7.86H2.568a2.568,2.568,0,0,1,0-5.136h7.859V2.568a2.568,2.568,0,0,1,5.136,0v7.86h7.859a2.568,2.568,0,0,1,0,5.136H15.563v7.86a2.568,2.568,0,0,1-5.136,0Z\",\n  transform: \"translate(-18809.58 -1469.026) rotate(-15)\",\n  fill: \"#909090\",\n  opacity: 0.5\n}), React.createElement(\"path\", {\n  id: \"Union_5\",\n  \"data-name\": \"Union 5\",\n  d: \"M10.427,23.423v-7.86H2.568a2.568,2.568,0,0,1,0-5.136h7.859V2.568a2.568,2.568,0,0,1,5.136,0v7.86h7.859a2.568,2.568,0,0,1,0,5.136H15.563v7.86a2.568,2.568,0,0,1-5.136,0Z\",\n  transform: \"translate(-18690.037 -1227.109) rotate(-11)\",\n  fill: \"#909090\",\n  opacity: 0.5\n}), React.createElement(\"path\", {\n  id: \"Exclusion_1\",\n  \"data-name\": \"Exclusion 1\",\n  d: \"M14,28a14.1,14.1,0,0,1-2.822-.284,13.921,13.921,0,0,1-5.006-2.106A14.039,14.039,0,0,1,1.1,19.449a13.926,13.926,0,0,1-.816-2.628,14.135,14.135,0,0,1,0-5.643A13.924,13.924,0,0,1,2.391,6.172,14.041,14.041,0,0,1,8.551,1.1,13.9,13.9,0,0,1,11.179.284a14.134,14.134,0,0,1,5.643,0,13.921,13.921,0,0,1,5.006,2.106A14.04,14.04,0,0,1,26.9,8.551a13.932,13.932,0,0,1,.816,2.628,14.137,14.137,0,0,1,0,5.643,13.925,13.925,0,0,1-2.107,5.006A14.041,14.041,0,0,1,19.45,26.9a13.914,13.914,0,0,1-2.628.816A14.1,14.1,0,0,1,14,28ZM14,4.359A9.6,9.6,0,0,0,8.61,6.006a9.669,9.669,0,0,0-3.493,4.242,9.628,9.628,0,0,0,.889,9.143,9.667,9.667,0,0,0,4.241,3.493,9.628,9.628,0,0,0,9.143-.889,9.671,9.671,0,0,0,3.493-4.241,9.628,9.628,0,0,0-.889-9.143,9.668,9.668,0,0,0-4.242-3.493A9.582,9.582,0,0,0,14,4.359Z\",\n  transform: \"translate(-18544 -1516)\",\n  fill: \"#909090\",\n  opacity: 0.5\n}), React.createElement(\"path\", {\n  id: \"Exclusion_6\",\n  \"data-name\": \"Exclusion 6\",\n  d: \"M14,28a14.1,14.1,0,0,1-2.822-.284,13.921,13.921,0,0,1-5.006-2.106A14.039,14.039,0,0,1,1.1,19.449a13.926,13.926,0,0,1-.816-2.628,14.135,14.135,0,0,1,0-5.643A13.924,13.924,0,0,1,2.391,6.172,14.041,14.041,0,0,1,8.551,1.1,13.9,13.9,0,0,1,11.179.284a14.134,14.134,0,0,1,5.643,0,13.921,13.921,0,0,1,5.006,2.106A14.04,14.04,0,0,1,26.9,8.551a13.932,13.932,0,0,1,.816,2.628,14.137,14.137,0,0,1,0,5.643,13.925,13.925,0,0,1-2.107,5.006A14.041,14.041,0,0,1,19.45,26.9a13.914,13.914,0,0,1-2.628.816A14.1,14.1,0,0,1,14,28ZM14,4.359A9.6,9.6,0,0,0,8.61,6.006a9.669,9.669,0,0,0-3.493,4.242,9.628,9.628,0,0,0,.889,9.143,9.667,9.667,0,0,0,4.241,3.493,9.628,9.628,0,0,0,9.143-.889,9.671,9.671,0,0,0,3.493-4.241,9.628,9.628,0,0,0-.889-9.143,9.668,9.668,0,0,0-4.242-3.493A9.582,9.582,0,0,0,14,4.359Z\",\n  transform: \"translate(-18875 -1416)\",\n  fill: \"#909090\",\n  opacity: 0.5\n}), React.createElement(\"path\", {\n  id: \"Exclusion_4\",\n  \"data-name\": \"Exclusion 4\",\n  d: \"M14,28a14.1,14.1,0,0,1-2.822-.284,13.921,13.921,0,0,1-5.006-2.106A14.039,14.039,0,0,1,1.1,19.449a13.926,13.926,0,0,1-.816-2.628,14.135,14.135,0,0,1,0-5.643A13.924,13.924,0,0,1,2.391,6.172,14.041,14.041,0,0,1,8.551,1.1,13.9,13.9,0,0,1,11.179.284a14.134,14.134,0,0,1,5.643,0,13.921,13.921,0,0,1,5.006,2.106A14.04,14.04,0,0,1,26.9,8.551a13.932,13.932,0,0,1,.816,2.628,14.137,14.137,0,0,1,0,5.643,13.925,13.925,0,0,1-2.107,5.006A14.041,14.041,0,0,1,19.45,26.9a13.914,13.914,0,0,1-2.628.816A14.1,14.1,0,0,1,14,28ZM14,4.359A9.6,9.6,0,0,0,8.61,6.006a9.669,9.669,0,0,0-3.493,4.242,9.628,9.628,0,0,0,.889,9.143,9.667,9.667,0,0,0,4.241,3.493,9.628,9.628,0,0,0,9.143-.889,9.671,9.671,0,0,0,3.493-4.241,9.628,9.628,0,0,0-.889-9.143,9.668,9.668,0,0,0-4.242-3.493A9.582,9.582,0,0,0,14,4.359Z\",\n  transform: \"translate(-18612 -1206)\",\n  fill: \"#909090\",\n  opacity: 0.5\n}), React.createElement(\"path\", {\n  id: \"Exclusion_8\",\n  \"data-name\": \"Exclusion 8\",\n  d: \"M14,28a14.1,14.1,0,0,1-2.822-.284,13.921,13.921,0,0,1-5.006-2.106A14.039,14.039,0,0,1,1.1,19.449a13.926,13.926,0,0,1-.816-2.628,14.135,14.135,0,0,1,0-5.643A13.924,13.924,0,0,1,2.391,6.172,14.041,14.041,0,0,1,8.551,1.1,13.9,13.9,0,0,1,11.179.284a14.134,14.134,0,0,1,5.643,0,13.921,13.921,0,0,1,5.006,2.106A14.04,14.04,0,0,1,26.9,8.551a13.932,13.932,0,0,1,.816,2.628,14.137,14.137,0,0,1,0,5.643,13.925,13.925,0,0,1-2.107,5.006A14.041,14.041,0,0,1,19.45,26.9a13.914,13.914,0,0,1-2.628.816A14.1,14.1,0,0,1,14,28ZM14,4.359A9.6,9.6,0,0,0,8.61,6.006a9.669,9.669,0,0,0-3.493,4.242,9.628,9.628,0,0,0,.889,9.143,9.667,9.667,0,0,0,4.241,3.493,9.628,9.628,0,0,0,9.143-.889,9.671,9.671,0,0,0,3.493-4.241,9.628,9.628,0,0,0-.889-9.143,9.668,9.668,0,0,0-4.242-3.493A9.582,9.582,0,0,0,14,4.359Z\",\n  transform: \"translate(-18494 -1302)\",\n  fill: \"#909090\",\n  opacity: 0.5\n}), React.createElement(\"path\", {\n  id: \"Exclusion_2\",\n  \"data-name\": \"Exclusion 2\",\n  d: \"M8.5,17a8.559,8.559,0,0,1-1.713-.173,8.452,8.452,0,0,1-3.039-1.279,8.524,8.524,0,0,1-3.08-3.74,8.455,8.455,0,0,1-.5-1.6,8.582,8.582,0,0,1,0-3.426,8.454,8.454,0,0,1,1.279-3.04A8.525,8.525,0,0,1,5.192.668a8.441,8.441,0,0,1,1.6-.5,8.582,8.582,0,0,1,3.426,0,8.452,8.452,0,0,1,3.039,1.279,8.524,8.524,0,0,1,3.08,3.74,8.459,8.459,0,0,1,.5,1.6,8.583,8.583,0,0,1,0,3.426,8.455,8.455,0,0,1-1.279,3.04,8.525,8.525,0,0,1-3.74,3.079,8.448,8.448,0,0,1-1.6.5A8.558,8.558,0,0,1,8.5,17Zm0-14.353a5.826,5.826,0,0,0-3.273,1A5.871,5.871,0,0,0,3.107,6.222a5.845,5.845,0,0,0,.54,5.551,5.869,5.869,0,0,0,2.575,2.121,5.846,5.846,0,0,0,5.551-.54,5.872,5.872,0,0,0,2.121-2.575,5.846,5.846,0,0,0-.54-5.551,5.87,5.87,0,0,0-2.575-2.121A5.818,5.818,0,0,0,8.5,2.647Z\",\n  transform: \"translate(-18539 -1374)\",\n  fill: \"#909090\",\n  opacity: 0.5\n}), React.createElement(\"path\", {\n  id: \"Exclusion_5\",\n  \"data-name\": \"Exclusion 5\",\n  d: \"M8.5,17a8.559,8.559,0,0,1-1.713-.173,8.452,8.452,0,0,1-3.039-1.279,8.524,8.524,0,0,1-3.08-3.74,8.455,8.455,0,0,1-.5-1.6,8.582,8.582,0,0,1,0-3.426,8.454,8.454,0,0,1,1.279-3.04A8.525,8.525,0,0,1,5.192.668a8.441,8.441,0,0,1,1.6-.5,8.582,8.582,0,0,1,3.426,0,8.452,8.452,0,0,1,3.039,1.279,8.524,8.524,0,0,1,3.08,3.74,8.459,8.459,0,0,1,.5,1.6,8.583,8.583,0,0,1,0,3.426,8.455,8.455,0,0,1-1.279,3.04,8.525,8.525,0,0,1-3.74,3.079,8.448,8.448,0,0,1-1.6.5A8.558,8.558,0,0,1,8.5,17Zm0-14.353a5.826,5.826,0,0,0-3.273,1A5.871,5.871,0,0,0,3.107,6.222a5.845,5.845,0,0,0,.54,5.551,5.869,5.869,0,0,0,2.575,2.121,5.846,5.846,0,0,0,5.551-.54,5.872,5.872,0,0,0,2.121-2.575,5.846,5.846,0,0,0-.54-5.551,5.87,5.87,0,0,0-2.575-2.121A5.818,5.818,0,0,0,8.5,2.647Z\",\n  transform: \"translate(-18765 -1215)\",\n  fill: \"#909090\",\n  opacity: 0.5\n}), React.createElement(\"path\", {\n  id: \"Exclusion_3\",\n  \"data-name\": \"Exclusion 3\",\n  d: \"M8.5,17a8.559,8.559,0,0,1-1.713-.173,8.452,8.452,0,0,1-3.039-1.279,8.524,8.524,0,0,1-3.08-3.74,8.455,8.455,0,0,1-.5-1.6,8.582,8.582,0,0,1,0-3.426,8.454,8.454,0,0,1,1.279-3.04A8.525,8.525,0,0,1,5.192.668a8.441,8.441,0,0,1,1.6-.5,8.582,8.582,0,0,1,3.426,0,8.452,8.452,0,0,1,3.039,1.279,8.524,8.524,0,0,1,3.08,3.74,8.459,8.459,0,0,1,.5,1.6,8.583,8.583,0,0,1,0,3.426,8.455,8.455,0,0,1-1.279,3.04,8.525,8.525,0,0,1-3.74,3.079,8.448,8.448,0,0,1-1.6.5A8.558,8.558,0,0,1,8.5,17Zm0-14.353a5.826,5.826,0,0,0-3.273,1A5.871,5.871,0,0,0,3.107,6.222a5.845,5.845,0,0,0,.54,5.551,5.869,5.869,0,0,0,2.575,2.121,5.846,5.846,0,0,0,5.551-.54,5.872,5.872,0,0,0,2.121-2.575,5.846,5.846,0,0,0-.54-5.551,5.87,5.87,0,0,0-2.575-2.121A5.818,5.818,0,0,0,8.5,2.647Z\",\n  transform: \"translate(-18683 -1502)\",\n  fill: \"#909090\",\n  opacity: 0.5\n}), React.createElement(\"path\", {\n  id: \"Exclusion_7\",\n  \"data-name\": \"Exclusion 7\",\n  d: \"M8.5,17a8.559,8.559,0,0,1-1.713-.173,8.452,8.452,0,0,1-3.039-1.279,8.524,8.524,0,0,1-3.08-3.74,8.455,8.455,0,0,1-.5-1.6,8.582,8.582,0,0,1,0-3.426,8.454,8.454,0,0,1,1.279-3.04A8.525,8.525,0,0,1,5.192.668a8.441,8.441,0,0,1,1.6-.5,8.582,8.582,0,0,1,3.426,0,8.452,8.452,0,0,1,3.039,1.279,8.524,8.524,0,0,1,3.08,3.74,8.459,8.459,0,0,1,.5,1.6,8.583,8.583,0,0,1,0,3.426,8.455,8.455,0,0,1-1.279,3.04,8.525,8.525,0,0,1-3.74,3.079,8.448,8.448,0,0,1-1.6.5A8.558,8.558,0,0,1,8.5,17Zm0-14.353a5.826,5.826,0,0,0-3.273,1A5.871,5.871,0,0,0,3.107,6.222a5.845,5.845,0,0,0,.54,5.551,5.869,5.869,0,0,0,2.575,2.121,5.846,5.846,0,0,0,5.551-.54,5.872,5.872,0,0,0,2.121-2.575,5.846,5.846,0,0,0-.54-5.551,5.87,5.87,0,0,0-2.575-2.121A5.818,5.818,0,0,0,8.5,2.647Z\",\n  transform: \"translate(-18788 -1411)\",\n  fill: \"#909090\",\n  opacity: 0.5\n}), React.createElement(\"g\", {\n  id: \"Group_2635\",\n  \"data-name\": \"Group 2635\",\n  transform: \"translate(-19752.715 -1958)\"\n}, React.createElement(\"g\", {\n  id: \"Rectangle_1657\",\n  \"data-name\": \"Rectangle 1657\",\n  transform: \"translate(1007.715 527)\",\n  fill: \"#c1c1c1\",\n  stroke: \"#c1c1c1\",\n  strokeWidth: 1\n}, React.createElement(\"rect\", {\n  width: 171,\n  height: 31,\n  rx: 5,\n  stroke: \"none\"\n}), React.createElement(\"rect\", {\n  x: 0.5,\n  y: 0.5,\n  width: 170,\n  height: 30,\n  rx: 4.5,\n  fill: \"none\"\n})), React.createElement(\"g\", {\n  id: \"Rectangle_1658\",\n  \"data-name\": \"Rectangle 1658\",\n  transform: \"translate(1007.715 570)\",\n  fill: \"#c1c1c1\",\n  stroke: \"#c1c1c1\",\n  strokeWidth: 1\n}, React.createElement(\"rect\", {\n  width: 171,\n  height: 15,\n  rx: 5,\n  stroke: \"none\"\n}), React.createElement(\"rect\", {\n  x: 0.5,\n  y: 0.5,\n  width: 170,\n  height: 14,\n  rx: 4.5,\n  fill: \"none\"\n})), React.createElement(\"g\", {\n  id: \"Rectangle_1658-2\",\n  \"data-name\": \"Rectangle 1658\",\n  transform: \"translate(1007.715 596)\",\n  fill: \"#c1c1c1\",\n  stroke: \"#c1c1c1\",\n  strokeWidth: 1\n}, React.createElement(\"rect\", {\n  width: 171,\n  height: 15,\n  rx: 5,\n  stroke: \"none\"\n}), React.createElement(\"rect\", {\n  x: 0.5,\n  y: 0.5,\n  width: 170,\n  height: 14,\n  rx: 4.5,\n  fill: \"none\"\n})), React.createElement(\"g\", {\n  id: \"Rectangle_1658-3\",\n  \"data-name\": \"Rectangle 1658\",\n  transform: \"translate(1007.715 623)\",\n  fill: \"#c1c1c1\",\n  stroke: \"#c1c1c1\",\n  strokeWidth: 1\n}, React.createElement(\"rect\", {\n  width: 171,\n  height: 15,\n  rx: 5,\n  stroke: \"none\"\n}), React.createElement(\"rect\", {\n  x: 0.5,\n  y: 0.5,\n  width: 170,\n  height: 14,\n  rx: 4.5,\n  fill: \"none\"\n})), React.createElement(\"g\", {\n  id: \"Rectangle_1658-4\",\n  \"data-name\": \"Rectangle 1658\",\n  transform: \"translate(1007.715 649)\",\n  fill: \"#c1c1c1\",\n  stroke: \"#c1c1c1\",\n  strokeWidth: 1\n}, React.createElement(\"rect\", {\n  width: 171,\n  height: 15,\n  rx: 5,\n  stroke: \"none\"\n}), React.createElement(\"rect\", {\n  x: 0.5,\n  y: 0.5,\n  width: 170,\n  height: 14,\n  rx: 4.5,\n  fill: \"none\"\n}))));\n\nvar SvgEmptyReport = function SvgEmptyReport(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 426.998,\n    height: 398.005,\n    viewBox: \"0 0 426.998 398.005\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgEmptyReport, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/empty_report.svg\";\nexport { ForwardRef as ReactComponent };","import React, { Component } from 'react';\nimport { ReactComponent as EmptyImage } from '../images/empty_report.svg';\nimport ResourceViewer from './Visualization/ResourceViewer';\n\nexport class EmptyState extends Component {\n    constructor(props) {\n\t\tsuper(props)\n        this.state = {\n            is_list_view: props.isListView\n        }\n\n    }\n\n    render() {\n        return (\n                <div className=\"table-empty-placeholder\">\n                    {this.state.is_list_view ? (<></>) : (\n                        <>\n                            <EmptyImage />\n                            <span><ResourceViewer resourceTag=\"BLFlex.Span.SelectColumn\" /></span>\n                        </>\n                    )}\n                </div>\n            \n        )\n    }\n}\n\nexport default EmptyState\n","import React, { Component } from 'react';\nimport OpalChart from './Chart';\nimport Table from './Table';\n\nclass Dashlet extends Component {\n  render() {\n    return (\n      <div className=\"oreport-dashlet\">\n        <OpalChart chart_def={this.props.chart_def} />\n        <Table hidden={true} />\n      </div>\n    )\n  }\n}\n\nexport default Dashlet;\n","import 'devextreme/dist/css/dx.common.css';\nimport 'devextreme/dist/css/dx.light.css';\n//import 'bootstrap/dist/css/bootstrap.css';\nimport './index.scss';\n\nimport React, { Component } from 'react';\nimport { DragDropContext } from \"react-beautiful-dnd\";\nimport { connect } from 'react-redux';\nimport { Col, Container, Row, Modal, ModalBody, ModalHeader, Button } from 'reactstrap';\nimport ConfigModal from './components/ConfigModal';\nimport ChartsModal from './components/ChartsModal';\nimport ZoomChartModal from './components/ZoomChartModal';\nimport ChartContainer from './components/ChartContainer';\nimport EmptyState from './components/EmptyState';\nimport Sidebar from './components/Sidebar/Sidebar';\nimport Table from './components/Table';\nimport './sass/mixins.scss';\nimport { moveField, setDraggingField, toggleConfigModal, toggleChartsModal, setCurrentView, setEditListFlex, setSearchListFlex, updateFieldsHide, updateFilters } from './storage/actions';\nimport { fetchPreviewData as fetchPreviewDataAction, save as saveAction, fetchMainConfig as fetchMainConfigAction } from './storage/thunkActions';\nimport Dashlet from './components/Dashlet';\nimport SDKIcon from './components/Visualization/SDKIcon';\n\n\n\nexport class App extends Component {\n  state = {\n    show_modal_dashlet: false\n  }\n\n  initialize = async () => {\n    const { fetchPreviewData, fetchMainConfig } = this.props;\n    await fetchMainConfig();\n  }\n\n  componentDidMount() {\n    const { fetchPreviewData, fetchMainConfig } = this.props;\n    this.initialize();\n    window[\"oreports_app_\" + this.props.app_id] = this;\n  }\n\n  toggleZoomDashlet = async () => {\n    if (this.props.is_create_edit) {\n      await this.props.setCurrentView('detail');\n      this.props.fetchPreviewData();\n    }\n    this.setState(prevState => ({\n      show_modal_dashlet: !prevState.show_modal_dashlet\n    }));\n  }\n\n  render() {\n    const { chart_list, is_ajax, ajax_show_all, is_list_view } = this.props;\n\n    let charts = null;\n    if (chart_list && chart_list.length > 0) {\n      let size = Math.floor(12 / chart_list.length);\n      charts = chart_list.map((chart_item, index) => {\n        return (<ChartContainer key={index} size={size < 4 ? 4 : size} chart_index={index} chart_def={chart_item} />);\n      });\n    }\n\n    if (is_ajax) {\n      this.zoomChart = () => {\n        this.toggleZoomDashlet();\n      }\n\n      this.editFromDashlet = async (dashlet_id) => {\n        await this.props.setCurrentView('edit');\n        this.props.fetchPreviewData();\n        this.setState(prevState => ({\n          show_modal_dashlet: !prevState.show_modal_dashlet\n        }));\n      }\n    }\n    const render_component = (\n      <div>\n        {this.props.is_list_view ? (<></>) : (\n            <ConfigModal />\n          )}\n        <ChartsModal />\n        <ZoomChartModal />\n        <DragDropContext onDragEnd={this.props.moveField} onDragStart={this.props.startDragging}>\n          <Container fluid={true}>\n            {charts && charts.length > 0 ?\n              <Row className=\"row-chart-container\">\n                <div className=\"chart-container row\">\n                  {charts}\n                </div>\n              </Row> : null}\n            <Row>\n              <Col>\n                <div className=\"oreports-container\">\n\n                  <div className=\"oreports-body\">\n                    <Sidebar />\n                    <div className=\"oreports-table\">\n                      {this.props.columns && this.props.columns.length > 0 ?\n                        <Table />\n                        : <EmptyState isListView={this.props.is_list_view}/>}\n                    </div>\n                  </div>\n                </div>\n              </Col>\n            </Row>\n          </Container>\n        </DragDropContext>\n      </div>\n    );\n    if (is_ajax) {\n      const dashlet_title = (this.props.detail_name  ? ' - ' + this.props.detail_name: '');\n      let modal_header = (<ModalHeader toggle={this.toggleZoomDashlet}><SDKIcon iconStyle=\"fa-cog\"/>Detalle{dashlet_title}</ModalHeader>);\n      if (this.props.is_create_edit) {\n        modal_header = (\n          <ModalHeader close={<></>} toggle={this.toggleZoomDashlet}>\n            <div className=\"dashlet-modal-header\">\n              <div className=\"self-center\"><SDKIcon iconStyle=\"fa-cog\" /> Edicin{dashlet_title}</div>\n              <div className=\"modal-header-buttons\">\n                <Button className=\"btn-icon\" onClick={() => { this.props.toggleChartsModal() }}><SDKIcon iconStyle=\"fa-pie-chart\" /></Button>\n                <Button color=\"primary\" className=\"oreports-primary-button\" onClick={() => { this.props.save() }}>Guardar</Button>\n                <Button color=\"primary\" onClick={() => { this.toggleZoomDashlet() }}>Cerrar</Button>\n              </div>\n            </div>\n          </ModalHeader>);\n      }\n      return (<div>\n        {(!ajax_show_all && chart_list && chart_list.length > 0) ? <Dashlet chart_def={chart_list[0]} /> : render_component}\n        <Modal scrollable={false} centered={true} size=\"lg\" isOpen={this.state.show_modal_dashlet} toggle={this.toggleZoomDashlet} className=\"root_oreports config-modal full-screen-modal\">\n          {modal_header}\n          <ModalBody>\n            {render_component}\n          </ModalBody>\n        </Modal>\n      </div>);\n    }\n\n    return render_component;\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    'columns': state.general.columns,\n    'saving': state.general.saving,\n    'chart_list': state.general.chart_list,\n    'is_ajax': state.general.is_ajax,\n    'ajax_show_all': state.general.ajax_show_all,\n    'app_id': state.general.app_id,\n    'is_create_edit': state.general.is_create_edit,\n    'detail_name': state.general.detail_name,\n    'is_list_view': state.general.is_list_view,\n    'current_view': state.general.current_view,\n    'guid': state.general.guid\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    'moveField': async (result) => {\n      dispatch(setDraggingField(false));\n      dispatch(moveField(result));\n      //dispatch(fetchPreviewDataAction());\n    },\n    'startDragging': () => {\n      dispatch(setDraggingField(true));\n    },\n    'fetchPreviewData': () => {\n      dispatch(fetchPreviewDataAction());\n    },\n    'fetchMainConfig': () => {\n      dispatch(fetchMainConfigAction());\n    },\n    'save': (close_window = false) => {\n      dispatch(saveAction(close_window));\n    },\n    'setEditListFlex':() => {\n      dispatch(setEditListFlex());\n    },\n    'setSearchListFlex':(filter) => {\n      dispatch(setSearchListFlex(filter));\n    },\n    'toggleConfigModal': () => {\n      dispatch(toggleConfigModal());\n    },\n    'toggleChartsModal': (dashlet_id) => {\n      dispatch(toggleChartsModal(dashlet_id));\n    },\n    'setCurrentView': (current_view) => {\n      dispatch(setCurrentView(current_view));\n    },\n    'updateFieldsHide': (fieldsHiddenListString) => {\n      dispatch(updateFieldsHide(fieldsHiddenListString));\n    },\n    'updateFilters': (flex_filters, filter_search) => {\n      dispatch(updateFilters(flex_filters, filter_search));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import cloneDeep from 'lodash/cloneDeep';\nimport { combineReducers } from 'redux';\nimport { \n  ADD_FIELD, \n  FETCH_PREVIEW_DATA_ERROR, \n  FETCH_PREVIEW_DATA_PENDING, \n  FETCH_PREVIEW_DATA_SUCCESS,\n  UPDATE_PREVIEW_DATA,\n  GET_CONFIG_ERROR,\n  GET_CONFIG_PENDING,\n  GET_CONFIG_SUCCESS,\n  MOVE_FIELD, \n  REMOVE_FIELD, \n  SAVE_DATA_ERROR, \n  SAVE_DATA_PENDING, \n  SAVE_DATA_SUCCESS, \n  SET_DRAGGING_FIELD, \n  TOGGLE_CONFIG_MODAL, \n  TOGGLE_CHARTS_MODAL, \n  UPDATE_FIELD_LIST, \n  UPDATE_OBJECT_PROPERTY, \n  UPDATE_SECTION_ITEM, \n  ADD_CHART, \n  REMOVE_CHART, \n  APPLY_TABLE_FILTER, \n  SET_CHARTS_DATA, \n  ZOOM_CHART, \n  SET_CURRENT_VIEW, \n  SET_EDIT_CHART_INDEX, \n  SET_ORDER_COLUMNS, \n  EDIT_CHART, \n  SET_IS_OPEN_MODAL_FORMULA,\n  SET_MODE_MODAL_FORMULA,\n  SET_EDIT_MODE_DATA_MODAL_FORMULA,\n  SET_INDEX_MODAL_FORMULA,\n  SET_EDIT_LIST_FLEX,\n  SET_SEARCH_LIST_FLEX,\n  GET_DEV_CUSTOM_STORE,\n  UPDATE_FIELDS_HIDE,\n  UPDATE_FILTERS\n} from './actions';\n\nconst onMoveField = (state, result) => {\n  const { destination, source } = result;\n\n  if (!destination) {\n    return state;\n  }\n\n  if (\n    destination.droppableId === source.droppableId &&\n    destination.index === source.index\n  ) {\n    return state;\n  }\n\n  const newState = cloneDeep(state);\n  const start = newState[source.droppableId];\n  const finish = (source.droppableId === destination.droppableId ? start : newState[destination.droppableId]);\n  const field_obj = start[source.index];\n\n  start.splice(source.index, 1);\n  finish.splice(destination.index, 0, field_obj);\n\n  let indexColumn = newState.columns_changed.map(column => column.column.key_name).indexOf(field_obj.key_name);\n\n  if(destination.droppableId === 'columns' && source.droppableId === 'columns'){\n    if(newState.columns_changed.length > 0){\n      newState.columns_changed.forEach(column => {\n        let newPosition = column.position;\n        if(column.position > source.index){\n          newPosition -= 1;\n        }\n        if(column.position > destination.index){\n          newPosition += 1;\n        }\n        column.position = newPosition;\n      });\n    }\n\n    if(indexColumn > -1){\n      newState.columns_changed[indexColumn].position = destination.index;\n    }else{\n      newState.columns_changed.push({\n        column: field_obj,\n        formula_changed: false,\n        action: 'move',\n        position: destination.index\n      });\n    }\n  }else if(destination.droppableId === 'groups' && source.droppableId === 'columns'){\n    if(indexColumn>-1){\n      newState.columns_changed[indexColumn].action = 'remove';\n      newState.columns_changed[indexColumn].position = -1;\n    }else{\n      newState.columns_changed.push({\n        column: field_obj,\n        formula_changed: false,\n        action: 'remove',\n        position: -1\n      });\n    }\n  }else if(destination.droppableId === 'columns' && source.droppableId === 'groups'){\n    if(indexColumn>-1){\n      newState.columns_changed[indexColumn].action = 'add';\n      newState.columns_changed[indexColumn].position = destination.index;\n    }else{\n      newState.columns_changed.push({\n        column: field_obj,\n        formula_changed: false,\n        action: 'add',\n        position: destination.index\n      });\n    }\n  }\n\n  return newState;\n}\n\nconst ReducerGeneral = (state = {}, action) => {\n  let tmp_list = [];\n  let column = {};\n  let columnsChanged = state.columns_changed || [];\n  let new_state = {};\n  switch (action.type) {\n    case ADD_FIELD:\n      tmp_list = [...state[action.section]];\n      tmp_list.push(action.field);\n      column = action.field;\n      new_state = { ...state };\n      new_state[action.section] = tmp_list;\n      var removeIndex = columnsChanged.map(column => column.column.key_name).indexOf(column.key_name);\n      let indexPosition = tmp_list.map(column => column.key_name).indexOf(column.key_name);\n      if(removeIndex > -1){\n        let formula_changed = false;\n        if(columnsChanged[removeIndex].column.customFn){\n          formula_changed = true;          \n        }\n        columnsChanged[removeIndex].formula_changed = formula_changed;\n        columnsChanged[removeIndex].action = 'add';        \n        columnsChanged[removeIndex].position = indexPosition;\n      }else{\n        columnsChanged.push({column, formula_changed: false, action: 'add', position: indexPosition});\n      }\n      new_state.columns_changed = columnsChanged;\n      new_state.report_header_data.select_list = new_state.columns;\n      return new_state;\n\n    case REMOVE_FIELD:\n      tmp_list = [...state[action.section]];\n      column = tmp_list[action.index];\n      tmp_list.splice(action.index, 1)\n      new_state = { ...state };\n      new_state[action.section] = tmp_list;\n      var removeIndex = columnsChanged.map(column => column.column.key_name).indexOf(column.key_name);\n      if(removeIndex > -1){\n        columnsChanged[removeIndex].formula_changed = false;\n        columnsChanged[removeIndex].action = 'remove';\n        columnsChanged[removeIndex].position = -1;\n      }else{\n        columnsChanged.push({column, formula_changed: false, action: 'remove', position: -1});\n      }\n      if(columnsChanged.length > 0){\n        columnsChanged.forEach(column => {\n          if(column.position > action.index){\n            column.position -= 1;\n          }\n        });\n      }\n      new_state.columns_changed = columnsChanged;\n      new_state.report_header_data.select_list = new_state.columns;\n      return new_state;\n\n    case ADD_CHART:\n      new_state = cloneDeep(state);\n      new_state.chart_list.push(action.chart_def);\n      return new_state;\n\n    case REMOVE_CHART:\n      tmp_list = [...state.chart_list];\n      tmp_list.splice(action.index, 1)\n      new_state = { ...state };\n      new_state.chart_list = tmp_list;\n      return new_state;\n\n    case UPDATE_SECTION_ITEM:\n      new_state = cloneDeep(state);\n      new_state[action.section][action.item_index][action.property] = action.value;\n      column = new_state[action.section][action.item_index];\n      var removeIndex = columnsChanged.map(column => column.column.key_name).indexOf(column.key_name);\n      if(removeIndex > -1){\n        columnsChanged[removeIndex].column = column;\n        columnsChanged[removeIndex].formula_changed = true;\n        columnsChanged[removeIndex].action = 'update';\n        columnsChanged[removeIndex].position = action.item_index;\n      }else{\n        columnsChanged.push({column, formula_changed: true, action: 'update', position: action.item_index});\n      }\n      new_state.columns_changed = columnsChanged;\n      return new_state;\n\n    case SET_DRAGGING_FIELD:\n      return { ...state, dragging: action.dragging };\n\n    case MOVE_FIELD:\n      return onMoveField(state, action.result);\n    case FETCH_PREVIEW_DATA_PENDING:\n      return {\n        ...state,\n        loading: true,\n        timeout_data_id: action.timeout_id\n      }\n    case FETCH_PREVIEW_DATA_SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        preview_data: action.data\n      }\n    case FETCH_PREVIEW_DATA_ERROR:\n      return {\n        ...state,\n        loading: false,\n        error: action.error\n      }\n    case UPDATE_PREVIEW_DATA:\n      new_state = cloneDeep(state);\n      if(action.data){\n        let intexData = new_state.preview_data.findIndex(item => item.rowid === action.data.rowid);\n        if(intexData > -1){\n          new_state.preview_data[intexData] = action.data;        \n        }\n      }\n      return {\n        ...new_state,\n        loading: false\n      }\n    case GET_CONFIG_PENDING:\n      return {\n        ...state,\n        loading: true,\n      }\n    case GET_CONFIG_SUCCESS:      \n      return {\n        ...state,\n        loading: false,\n        modules_list: action.data.modules_list,\n        report_header_data: action.data.report_header_data,\n        field_list: (action.data.report_header_data.metadata && action.data.report_header_data.metadata.field_list ? action.data.report_header_data.metadata.field_list  : []),\n        detail_name: (action.data.report_header_data.name && action.data.report_header_data.name ? action.data.report_header_data.name  : ''),\n        columns: (action.data.report_header_data.select_list && action.data.report_header_data.select_list ? action.data.report_header_data.select_list  : []),\n        filters: (action.data.report_header_data.filter_list && action.data.report_header_data.filter_list ? action.data.report_header_data.filter_list  : []),\n        groups: (action.data.report_header_data.group_list && action.data.report_header_data.group_list ? action.data.report_header_data.group_list  : []),\n        chart_list: (action.data.report_header_data.chart_list && action.data.report_header_data.chart_list ? action.data.report_header_data.chart_list  : []),\n        delta: action.data.report_header_data.delta,\n      }\n    case GET_CONFIG_ERROR:\n      return {\n        ...state,\n        loading: false,\n        error: action.error\n      }\n    case SAVE_DATA_PENDING:\n      return {\n        ...state,\n        saving: true\n      }\n    case SAVE_DATA_SUCCESS:\n      return {\n        ...state,\n        saving: false,\n        id: action.data.id\n      }\n    case GET_DEV_CUSTOM_STORE:\n      return {\n        ...state,\n        dev_custom_store: action.data\n      }\n    case SAVE_DATA_ERROR:\n      return {\n        ...state,\n        saving: false,\n        error: action.error\n      }\n    case SET_EDIT_LIST_FLEX:\n      return {\n        ...state,\n        current_view: state.is_create_edit? 'detail': 'edit',\n        is_create_edit: !state.is_create_edit,\n      }\n    case SET_SEARCH_LIST_FLEX:\n      return {\n          ...state,\n          change_filter_search: true,\n          filter_search: action.filter,\n        }\n    case UPDATE_FIELDS_HIDE:\n      let fieldsHiddenList = action.fieldsHiddenList;\n      return {\n        ...state,\n        fields_hidden_list: fieldsHiddenList,\n      }\n    case UPDATE_FILTERS:\n      let flex_filters = action.flex_filters;\n      let filter_search = action.filter_search;\n      return {\n        ...state,\n        flex_filters: flex_filters,\n        filter_search: filter_search\n      }\n    case TOGGLE_CONFIG_MODAL:\n      return {\n        ...state,\n        show_config_modal: !state.show_config_modal\n      }\n    case TOGGLE_CHARTS_MODAL:\n      return {\n        ...state,\n        show_charts_modal: !state.show_charts_modal,\n        dashlet_id: (action.dashlet_id ? action.dashlet_id : state.dashlet_id)\n      }\n\n    case UPDATE_OBJECT_PROPERTY:\n      new_state = cloneDeep(state);\n      new_state[action.object_name][action.property] = action.value;\n      return new_state;\n\n    case UPDATE_FIELD_LIST:\n      new_state = { ...state };\n      new_state.field_list = action.field_list;\n      return new_state;\n\n    case APPLY_TABLE_FILTER:\n      tmp_list = cloneDeep(state.table_filters);\n      let current_filter = tmp_list.find(item => {\n        if (Array.isArray(item) && item.length > 0) {\n          return item[0] === action.column;\n        }\n        return false;\n      });\n\n      if (current_filter && current_filter.length === 3) {\n        current_filter[1] = \"=\";\n        current_filter[2] = action.value;\n      } else {\n        tmp_list.push([action.column, \"=\", action.value]);\n      }\n\n      new_state = { ...state };\n      new_state.table_filters = tmp_list;\n      return new_state;\n\n\n    case SET_CHARTS_DATA:\n      new_state = { ...state };\n      new_state.charts_data = action.data;\n      return new_state;\n\n    case ZOOM_CHART:\n      new_state = { ...state };\n      new_state.zoomed_chart_def = action.chart_def;\n      return new_state;\n\n    case SET_EDIT_CHART_INDEX:\n      new_state = { ...state };\n      new_state.edit_chart_index = action.chart_index;\n      return new_state;\n\n    case EDIT_CHART:\n      tmp_list = [...state.chart_list];\n      tmp_list[action.index] = action.chart_def;\n      new_state = { ...state };\n      new_state.chart_list = tmp_list;\n      return new_state;\n      \n    case SET_CURRENT_VIEW:\n      new_state = { ...state };\n      new_state.current_view = action.current_view;\n      new_state.is_create_edit = ['edit', 'create'].indexOf(action.current_view) !== -1;\n      new_state.preview_data = [];\n      new_state.table_filters = [];\n      return new_state;\n\n    case SET_ORDER_COLUMNS:\n      return { ...state, columns: state.columns.map(e=> {\n          let newE = {...e, ...{isSorter:false, sortType:null}};\n          if(action.column.name === newE.name){\n            return {...newE,...action.values}\n          }\n          return newE;\n        })\n      }\n\n    default:\n      return state;\n  }\n};\n\nconst reducerModalFormula = (state = {\n  isOpen:false,\n  mode: 'add',\n  edit_mode_data: {},\n  index: undefined,\n}, action) => {\n  const { type, payload } = action\n\n  switch (type) {\n    case SET_IS_OPEN_MODAL_FORMULA:\n      return { ...state, isOpen: payload.isOpen }\n    case SET_MODE_MODAL_FORMULA:\n      return { ...state, mode: payload.mode }\n    case SET_EDIT_MODE_DATA_MODAL_FORMULA:\n      return { ...state, edit_mode_data: payload.edit_mode_data }\n    case SET_INDEX_MODAL_FORMULA:\n      return { ...state, index: payload.index }\n    default:\n      return state\n  }\n}\n\nconst reducers = combineReducers({\n  'general': ReducerGeneral,\n  'modalFormula': reducerModalFormula\n});\n\nexport default reducers;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { applyMiddleware, createStore } from 'redux';\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport thunk from 'redux-thunk';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport reducers from './storage/reducers';\nimport { arrayEval, getJSONAttribute, updateFieldKeyName, defaultJSONParse } from './Utils';\nimport Dexie from 'dexie';\n\nexport let store;\n\nwindow.mountOReportsReact = function (id) {\n\n  new Dexie(\"IndexDb\").open().then(async db => {\n    window.sdkFlexCulture = await db.table(\"Cultures\").toCollection().first();\n    let culture = window.sdkFlexCulture;\n    const rowidCulture = culture.id;\n    let resources = {};\n    window.ResourceFlex[rowidCulture] = resources;\n\n    const result = await db.table(\"ResourcesDetail\").where({ idCulture: rowidCulture}).toArray();\n    if(result){\n      result.forEach(item => {\n        resources[item.idResource] = item.description;\n      });\n    }\n  });\n\n  const ELEMENT = document.getElementById(id);\n  const columns = getJSONAttribute(ELEMENT, 'select_list', []);\n  const chart_list = getJSONAttribute(ELEMENT, 'chart_list', []);\n  const filters = getJSONAttribute(ELEMENT, 'filter_list', []);\n  const base_obj_id = ELEMENT.getAttribute(\"base_obj_id\") || '';\n  const current_user_id = ELEMENT.getAttribute(\"current_user_id\") || '';\n  const current_view = ELEMENT.getAttribute(\"current_view\") || '';\n  const groups = getJSONAttribute(ELEMENT, 'groups', []);\n  const modules_list = getJSONAttribute(ELEMENT, 'modules', []);\n  const teams_list = getJSONAttribute(ELEMENT, 'teams', []); //TODO: Crear campo relacionado\n  const users_list = getJSONAttribute(ELEMENT, 'users', []);\n  const roles_list = getJSONAttribute(ELEMENT, 'roles', []);\n  const operator_list = getJSONAttribute(ELEMENT, 'operator_list', []);\n  const report_header_data = getJSONAttribute(ELEMENT, 'report_header_data', {});\n  const chart_error = getJSONAttribute(ELEMENT, 'chart_error', {});\n  const is_ajax = getJSONAttribute(ELEMENT, 'is_ajax', false);\n  const ajax_show_all = getJSONAttribute(ELEMENT, 'ajax_show_all', false);\n  const current_record = ELEMENT.getAttribute(\"current_record\") || '';\n  const is_list_view = ELEMENT.getAttribute(\"is_list_view\")\n  const has_search = ELEMENT.getAttribute(\"has_search\")\n  const bl_name_list = ELEMENT.getAttribute(\"bl_name_list\")\n  const viewdef_name = ELEMENT.getAttribute(\"viewdef_name\")\n  //const guid_list_view = ELEMENT.getAttribute(\"guid_list_view\")\n  const can_edit_list_view = ELEMENT.getAttribute(\"can_edit_list_view\")\n  const can_delete_list_view = ELEMENT.getAttribute(\"can_delete_list_view\")  \n  const can_detail_list_view = ELEMENT.getAttribute(\"can_detail_list_view\")\n  const columns_changed = getJSONAttribute(ELEMENT, 'columns_changed', []);\n  const skip = getJSONAttribute(ELEMENT, 'skip', '0');\n  const take = getJSONAttribute(ELEMENT, 'take', '100');\n  const server_pagination = ELEMENT.getAttribute(\"server_pagination\");\n  const filter_search = ELEMENT.getAttribute(\"filter_search\");\n  const change_filter_search = ELEMENT.getAttribute(\"change_filter_search\");\n  const guid = ELEMENT.getAttribute(\"guid\");\n  const action_icons = ELEMENT.getAttribute(\"action_icons\");\n  const is_multiple = ELEMENT.getAttribute(\"is_multiple\");\n  const flex_filters = ELEMENT.getAttribute(\"flex_filters\");\n  const preference_style = ELEMENT.getAttribute(\"preference_style\");\n  const fields_hidden_list = ELEMENT.getAttribute(\"fields_hidden_list\");\n  const show_actions = ELEMENT.getAttribute(\"show_actions\");\n\n  report_header_data.visible_users = arrayEval(report_header_data.visible_users);\n  report_header_data.visible_roles = arrayEval(report_header_data.visible_roles);\n  report_header_data.metadata = defaultJSONParse(report_header_data.metadata, {});\n\n  if (!report_header_data.owner_id) {\n    report_header_data.owner_id = current_user_id;\n  }\n\n  updateFieldKeyName(columns);\n  updateFieldKeyName(filters);\n  updateFieldKeyName(groups);\n\n  let generalState = {\n    id: base_obj_id,\n    app_id: id,\n    columns,\n    groups,\n    filters,\n    modules_list,\n    teams_list,\n    users_list,\n    roles_list,\n    operator_list,\n    report_header_data,\n    field_list: (report_header_data.metadata && report_header_data.metadata.field_list ? report_header_data.metadata.field_list  : []),\n    dragging: false,\n    loading: false,\n    preview_data: [],\n    saving: false,\n    show_config_modal: (base_obj_id ? false : true),\n    current_view,\n    is_create_edit: ['edit', 'create'].indexOf(current_view) !== -1,\n    chart_list,\n    table_filters: [],\n    charts_data: [],\n    chart_error,\n    is_ajax,\n    ajax_show_all,\n    zoomed_chart_def: {},\n    current_record,\n    detail_name: (report_header_data.name && report_header_data.name ? report_header_data.name  : ''),\n    is_list_view: (is_list_view === 'True' ? true : false),    \n    has_search: (has_search === 'True' ? true : false),\n    bl_name_list: bl_name_list,\n    viewdef_name: viewdef_name,\n    //guid_list_view: guid_list_view,\n    can_edit_list_view: (can_edit_list_view === 'True' ? true : false),\n    can_delete_list_view: (can_delete_list_view === 'True' ? true : false),\n    can_detail_list_view: (can_detail_list_view === 'True' ? true : false),\n    columns_changed,\n    skip: parseInt(skip),\n    take: parseInt(take),\n    server_pagination: (server_pagination === 'True' ? true : false),\n    filter_search,\n    change_filter_search: (change_filter_search === 'True' ? true : false),\n    guid,\n    action_icons: JSON.parse(action_icons),\n    is_multiple: (is_multiple === 'True' ? true : false),\n    flex_filters,\n    dev_custom_store: null,\n    preference_style,\n    fields_hidden_list: JSON.parse(fields_hidden_list),\n    show_actions: (show_actions === 'True' ? true : false)\n  };\n  \n  let initialState = {\n    general: generalState\n  }\n  const middlewares = [thunk];\n\n  store = createStore(reducers, initialState, composeWithDevTools(applyMiddleware(...middlewares)));\n  ReactDOM.render((\n    <Provider store={store}>\n      <App />      \n    </Provider>), ELEMENT);\n}\n\nwindow.unmountOReportsReact = function (id) {\n  const ELEMENT = document.getElementById(id);\n  //ReactDOM.unmountComponentAtNode(ELEMENT);\n  window.oreports_app_flexdebug = null;\n  \n}\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}