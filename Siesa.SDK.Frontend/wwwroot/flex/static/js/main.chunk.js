(this.webpackJsonporeports=this.webpackJsonporeports||[]).push([[0],{436:function(e,t,a){e.exports=a(779)},449:function(e,t,a){},777:function(e,t,a){},779:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),o=a(79),l=a.n(o),i=a(66),c=a(89),s=a(125),u=a(423),d=a(424),p=a(44),m=a.n(p),f=a(63),h=a(14),_=a(16),g=a(21),b=a(11),y=a(20),v=(a(446),a(447),a(448),a(449),a(216)),E=a(802),O=a(792),x=a(793),k=a(789),C=a(798),j=a(804),w=a(790),D=a(32),A=a(131),F=a.n(A),S=a(106),M=a(791),T=a(794),N=a(795),P=a(796),I=a(797),R=function(e,t){return function(a){return a({type:"SET_ORDER_COLUMNS",column:e,values:t}),Promise.resolve()}},H=function(e){return{type:"FETCH_PREVIEW_DATA_SUCCESS",data:e}},L=function(e,t){return{type:"ADD_FIELD",section:e,field:t}},q=function(e,t){return{type:"REMOVE_FIELD",section:e,index:t}},V=function(e){return{type:"ZOOM_CHART",chart_def:e}},U=function(e){return{type:"SET_DRAGGING_FIELD",dragging:e}},z=function(e){return{type:"MOVE_FIELD",result:e}},G=function(e){return{type:"TOGGLE_CHARTS_MODAL",dashlet_id:e}},Y=function(e,t,a,n){return{type:"UPDATE_SECTION_ITEM",section:e,item_index:t,property:a,value:n}},B=function(e){return{type:"SAVE_DATA_SUCCESS",data:e}},Z=function(e){return{type:"SAVE_DATA_ERROR",error:e}},W=function(e,t,a){return{type:"UPDATE_OBJECT_PROPERTY",object_name:e,property:t,value:a}},X=function(e,t){return{type:"APPLY_TABLE_FILTER",column:e,value:t}},K=function(e){return{type:"SET_EDIT_CHART_INDEX",chart_index:e}},$=function(e){return{type:"SET_IS_OPEN_MODAL_FORMULA",payload:{isOpen:e}}},J=function(e){return{type:"SET_MODE_MODAL_FORMULA",payload:{mode:e}}},Q=function(e){return{type:"SET_EDIT_MODE_DATA_MODAL_FORMULA",payload:{edit_mode_data:e}}},ee=function(e){return{type:"SET_INDEX_MODAL_FORMULA",payload:{index:e}}},te=a(27),ae=a(116),ne=a.n(ae),re=a(74),oe=a.n(re),le={name:"",label:"",title:"",description:"",syntax:"",examples:[]},ie=[{name:"year",label:"A\xf1o",title:"year",description:"Devuelve un n\xfamero correspondiente al a\xf1o de una fecha dada",syntax:"year(props(campo_fecha)) || year(props(campo_fecha_hora))",examples:["year(props(campo_fecha_hora)) -> year('2021-02-05T14:51:54-05:00') = 2021","year(props(campo_fecha)) -> year('2021-09-05') = 2021"],printFormula:function(){return"year("}},{name:"month",label:"Mes",title:"Month",description:"Devuelve un n\xfamero correspondiente al mes de una fecha dada. 0 Corresponde a Enero, 1 a Febrero, etc",syntax:"month(props(campo_fecha)) || month(props(campo_fecha_hora))",examples:["month(props(campo_fecha_hora)) -> month('2021-02-05T14:51:54-05:00') = 1","month(props(campo_fecha)) -> month('2021-09-05') = 8","month(props(campo_fecha)) -> month('2021-12-25') = 11"],printFormula:function(){return"month("}},{name:"getMonthLabel",label:"Obtener Etiqueta Mes",title:"getMonthLabel",description:"Devuelve la etiqueta de mes a partir de un numero dado",syntax:"getMonthLabel(numero)",examples:["getMonthLabel(numero)) -> getMonthLabel(1) = 'Enero'","getMonthLabel(numero)) -> getMonthLabel(3) = 'Marzo'","getMonthLabel(numero)) -> getMonthLabel(33) = '33'","getMonthLabel(getMonth(props(creation_date))) -> getMonthLabel(getMonth('2021-12-03')) -> getMonthLabel(12)= 'Diciembre'"],printFormula:function(){return"getMonthLabel("}},{name:"date",label:"Fecha",title:"date",description:"Devuelve un n\xfamero, entre 1 y 31 correspondiente al d\xeda del mes de la fecha dada",syntax:"date(props(campo_fecha)) || date(props(campo_fecha_hora))",examples:["date(props(campo_fecha_hora)) -> date('2021-02-05T14:51:54-05:00') = 5","date(props(campo_fecha)) -> date('2021-09-11') = 11"],printFormula:function(){return"date("}},{name:"day",label:"D\xeda",title:"day",description:"Devuelve un n\xfamero correspondiente al d\xeda de la semana de la fecha dada. 0 para lunes, 1 para martes, etc",syntax:"day(props(campo_fecha)) || day(props(campo_fecha_hora))",examples:["day(props(campo_fecha_hora)) -> day('2021-02-05T14:51:54-05:00') = 5","day(props(campo_fecha)) -> day('2021-09-11') = 11"],printFormula:function(){return"day("}},{name:"hour",label:"Hora",title:"hour",description:"Devuelve un n\xfamero, entre 0 y 23, correspondiente a la fecha dada",syntax:"hour(props(campo_fecha_hora))",examples:["hour(props(campo_fecha_hora)) -> hour('2021-02-05T14:51:54-05:00') = 14"],printFormula:function(){return"hour("}},{name:"minute",label:"Minuto",title:"minute",description:"Devuelve un n\xfamero, entre 0 y 59, correspondiente a la fecha dada",syntax:"minute(props(campo_fecha_hora))",examples:["minute(props(campo_fecha_hora)) -> minute('2021-02-05T14:51:54-05:00') = 51"],printFormula:function(){return"minute("}},{name:"period",label:"Periodo",title:"period",description:"Devuelve una cadena que representa el a\xf1o y mes de una fecha dada",syntax:"period(props(campo_fecha_hora)) || period(props(campo_fecha))",examples:["period(props(campo_fecha_hora)) -> period('2021-02-05T14:51:54-05:00') = 202102","period(props(campo_fecha)) -> period('2021-08-15') = 201808"],printFormula:function(){return"period("}},{name:"getDatePart",label:"Obtener Fecha",title:"getDatePart",description:"Devuelve la fecha de un campo fecha hora",syntax:"getDatePart(props(campo_fecha_hora))",examples:["getDatePart(props(campo_fecha_hora)) -> getDatePart('2021-02-05T14:51:54-05:00') = '2012-02-05'"],printFormula:function(){return"getDatePart("}},{name:"dateAdd",label:"Sumar a fecha",title:"dateAdd",description:'Adiciona a una fecha. el \xfaltimo argumento, "unidad", puede ser uno de los siguientes: "years", "quarters", "months", "weeks", "days", "hours", "minutes", "seconds" o "miliseconds"',syntax:"dateAdd(props(campo_fecha_hora), cantidad, unidad)",examples:["dateAdd(props(campo_fecha_hora), 7, 'years') -> dateAdd('2021-01-12T11:50:14-05:00', 7, 'years') = '2028-01-12T11:50:14-05:00'","dateAdd(props(campo_fecha_hora), 2, 'quarters') -> dateAdd('2021-01-12T11:50:58-05:00', 2, 'quarters') = '2021-10-12T11:50:58-05:00'","dateAdd(props(campo_fecha_hora), 2, 'months') -> dateAdd('2021-01-12T11:51:22-05:00', 2, 'months') = '2021-03-12T11:51:22-05:00'","dateAdd(props(campo_fecha_hora), 3, 'weeks') -> dateAdd('2021-01-12T11:51:22-05:00', 3, 'weeks') = '2021-02-02T11:51:22-05:00'","dateAdd(props(campo_fecha_hora), 4, 'days') -> dateAdd('2021-01-12T11:51:22-05:00', 4, 'days') = '2021-01-16T11:51:22-05:00'","dateAdd(props(campo_fecha_hora), 8, 'hours') -> dateAdd('2021-01-12T11:51:22-05:00', 8, 'hours') = '2021-01-16T19:51:22-05:00'","dateAdd(props(campo_fecha_hora), 1, 'minutes') -> dateAdd('2021-01-12T11:51:22-05:00', 1, 'minutes') = '2021-01-16T11:52:22-05:00'","dateAdd(props(campo_fecha_hora), 1, 'seconds') -> dateAdd('2021-01-12T11:51:22-05:00', 1, 'seconds') = '2021-01-16T11:51:23-05:00'","dateAdd(props(campo_fecha_hora), 5, 'milliseconds') -> dateAdd('2021-01-12T11:51:22-05:00', 1000, 'milliseconds') = '2021-01-16T11:51:23-05:00'"],printFormula:function(){return"dateAdd("}},{name:"addDay",label:"Sumar d\xedas",description:'suma una cantidad de d\xedas a la fecha dada. Atajo para la funcion dateAdd(props(campo_fecha_hora), cantidad, "days")',syntax:"addDay(props(campo_fecha_hora), cantidad) || addDay(props(campo_fecha), cantidad)",examples:["addDay(props(campo_fecha_hora), 9) -> addDay('2021-01-05T14:51:54-05:00', 9) = '2021-01-14T14:51:54-05:00'","addDay(props(campo_fecha), 3) -> addDay('2021-02-05', 3) = '2021-02-08'"],printFormula:function(){return"addDay("}},{name:"addMonth",label:"Sumar meses",title:"addMonth",description:'suma una cantidad de meses a la fecha dada. Atajo para la funcion dateAdd(props(campo_fecha_hora), cantidad, "months")',syntax:"addMonth(props(campo_fecha_hora), cantidad) || addMonth(props(campo_fecha), cantidad)",examples:["addMonth(props(campo_fecha_hora), 5) -> addMonth('2021-01-12T14:34:26-05:00', 5) = '2021-06-12T14:34:26-05:00'","addMonth(props(campo_fecha), 5) -> addMonth('2021-01-12', 5) = '2021-06-12'"],printFormula:function(){return"addMonth("}},{name:"addYear",label:"Sumar a\xf1os",title:"addYear",description:'suma una cantidad de a\xf1os a la fecha dada. Atajo para la funcion dateAdd(props(campo_fecha_hora), cantidad, "years")',syntax:"addYear(props(campo_fecha_hora), cantidad) || addYear(props(campo_fecha), cantidad)",examples:["addYear(props(campo_fecha_hora), 5) -> addYear('2021-01-12T14:34:26-05:00', 1) = '2022-06-12T14:34:26-05:00'","addYear(props(campo_fecha), 5) -> addYear('2021-01-12', 1) = '2022-06-12'"],printFormula:function(){return"addYear("}},{name:"substractDay",label:"Restar d\xedas",title:"substractDay",description:"resta una cantidad de d\xedas a la fecha dada",syntax:"substractDay(props(campo_fecha_hora), cantidad) || substractDay(props(campo_fecha), cantidad)",examples:["substractDay(props(campo_fecha_hora), 5) -> substractDay('2021-01-12T14:34:26-05:00', 1) = '2022-01-11T14:34:26-05:00'","substractDay(props(campo_fecha), 5) -> substractDay('2021-01-12', 1) = '2022-01-11'"],printFormula:function(){return"substractDay("}},{name:"substractMonth",label:"Restar meses",title:"substractMonth",description:"resta una cantidad de meses a la fecha dada",syntax:"substractMonth(props(campo_fecha_hora), cantidad) || substractMonth(props(campo_fecha), cantidad)",examples:["substractMonth(props(campo_fecha_hora), 5) -> substractMonth('2021-01-12T15:11:34-05:00', 5) = '2020-08-12T15:11:34-05:00'","substractMonth(props(campo_fecha), 5) -> substractMonth('2021-01-12', 5) = '2020-08-12'"],printFormula:function(){return"substractMonth("}},{name:"substractYear",label:"Restar a\xf1os",title:"substractYear",description:"resta una cantidad de a\xf1os a la fecha dada",syntax:"substractYear(props(campo_fecha_hora), cantidad) || substractYear(props(campo_fecha), cantidad)",examples:["substractYear(props(campo_fecha_hora), 5) -> substractYear('2021-01-12T15:19:15-05:00', 1) = '2020-01-12T15:19:15-05:00'","substractYear(props(campo_fecha), 5) -> substractYear('2021-01-12', 1) = '2020-01-12'"],printFormula:function(){return"substractYear("}},{name:"now",label:"Fecha actual",title:"now",description:"Genera la fecha actual con formato fecha hora",syntax:"now()",examples:["now() = '2020-01-12T15:19:15-05:00'"],printFormula:function(){return"now("}},{name:"diffDays",label:"Diferencia d\xedas",title:"diffDays",description:"Devuelve un n\xfamero que representa la diferenc\xeda en d\xedas entre 2 fechas",syntax:"diffDays(props(campo_fecha_hora1), props(campo_fecha_hora2))",examples:["diffDays(props(campo_fecha_hora1), props(campo_fecha_hora2)) -> diffDays('2021-01-14T15:19:15-05:00'), props('2021-01-11T15:19:15-05:00')) = 3","diffDays(props(campo_fecha1), props(campo_fecha2)) -> diffDays('2021-01-15'), props('2021-01-19')) = -4"],printFormula:function(){return"diffDays("}},{name:"diffMonths",label:"Diferencia meses",title:"diffMonths",description:"Devuelve un n\xfamero que representa la diferenc\xeda en meses entre 2 fechas",syntax:"diffMonths(props(campo_fecha_hora1), props(campo_fecha_hora2))",examples:["diffMonths(props(campo_fecha_hora1), props(campo_fecha_hora2)) -> diffMonths('2021-08-13T08:52:02-05:00'), props('2021-01-13T09:52:02-05:00')) = 6","diffMonths(props(campo_fecha1), props(campo_fecha2)) -> diffMonths('2020-08-15'), props('2021-01-13')) = -4"],printFormula:function(){return"diffMonths("}},{name:"diffYears",label:"Diferencia a\xf1os",title:"diffYears",description:"Devuelve un n\xfamero que representa la diferenc\xeda en a\xf1os entre 2 fechas",syntax:"diffYears(props(campo_fecha_hora1), props(campo_fecha_hora2))",examples:["diffYears(props(campo_fecha_hora1), props(campo_fecha_hora2)) -> diffYears('2026-08-13T08:52:02-05:00'), props('2021-01-13T09:52:02-05:00')) = 5","diffYears(props(campo_fecha1), props(campo_fecha2)) -> diffYears('2026-08-13'), props('2021-01-13')) = 5"],printFormula:function(){return"diffYears("}},{name:"changeFormat",label:"Cambiar formato",title:"changeFormat",description:"cambia el formato de una fecha. ",syntax:'changeFormat(props(campo_fecha_hora), "formato")',examples:["changeFormat(props(campo_fecha_hora), 'YYYY') -> changeFormat('2021-01-13T10:14:58-05:00', 'YYYY') = '2021'","changeFormat(props(campo_fecha_hora), 'DD') -> changeFormat('2021-01-13T10:14:58-05:00', 'DD') = '13'","changeFormat(props(campo_fecha_hora), 'MM') -> changeFormat('2021-01-13T10:14:58-05:00', 'MM') = '01'","changeFormat(props(campo_fecha_hora), 'MM-DD-YYYY') -> changeFormat('2021-01-13T10:14:58-05:00', 'MM-DD-YYYY') = '01-13-2021'","changeFormat(props(campo_fecha_hora), 'DD MM YYYY hh:mm:ss') -> changeFormat('2021-01-13T10:14:58-05:00', 'DD MM YYYY hh:mm:ss')= '13 01 2021 10:16:14'"],printFormula:function(){return"changeFormat("}}],ce={type:"CharField",filter_options:[{key:"current_record",label:"Registro Actual"},{key:"equal",label:"Igual"},{key:"not_equal",label:"No es igual"},{key:"starts_width",label:"Empieza con"},{key:"end_width",label:"Termina con"},{key:"contains",label:"Contiene"},{key:"null_or_empty",label:"Es vacio o nulo"},{key:"empty",label:"Es vacio"},{key:"not_empty",label:"No es vacio"},{key:"current_user_code",label:"C\xf3digo Usuario actual"}]},se={type:"IntegerField",filter_options:[{key:"equal",label:"Igual"},{key:"not_equal",label:"No es igual"},{key:"gt",label:"Mayor que"},{key:"lt",label:"Menor que"},{key:"gte",label:"Mayor o igual que"},{key:"between",label:"Entre"},{key:"current_user_code",label:"C\xf3digo Usuario actual"}]},ue={type:"FloatField",filter_options:[{key:"equal",label:"Igual"},{key:"not_equal",label:"No es igual"},{key:"gt",label:"Mayor que"},{key:"lt",label:"Menor que"},{key:"gte",label:"Mayor o igual que"},{key:"between",label:"Entre"},{key:"current_user_code",label:"C\xf3digo Usuario actual"}]},de={type:"DateTimeField",filter_options:[{key:"equal",label:"Igual"},{key:"not_equal",label:"No es igual"},{key:"before",label:"Antes de"},{key:"after",label:"Despu\xe9s de"},{key:"between",label:"Entre"},{key:"in_past",label:"En el pasado"},{key:"in_future",label:"En el futuro"},{key:"current_month",label:"Mes actual"},{key:"current_week",label:"Semana actual"},{key:"last_month",label:"Mes pasado"},{key:"today",label:"Hoy"},{key:"last_n_days",label:"\xdaltimos N d\xedas"},{key:"next_n_days",label:"Proximos N d\xedas"},{key:"this_year",label:"Este a\xf1o"},{key:"last_year",label:"A\xf1o pasado"},{key:"next_year",label:"Proximo a\xf1o"},{key:"null_or_empty",label:"Es vacio o nulo"},{key:"empty",label:"Es vacio"},{key:"not_empty",label:"No es vacio"}]},pe={type:"DateField",filter_options:[{key:"equal",label:"Igual"},{key:"not_equal",label:"No es igual"},{key:"before",label:"Antes de"},{key:"after",label:"Despu\xe9s de"},{key:"between",label:"Entre"},{key:"in_past",label:"En el pasado"},{key:"in_future",label:"En el futuro"},{key:"current_month",label:"Mes actual"},{key:"current_week",label:"Semana actual"},{key:"last_month",label:"Mes pasado"},{key:"today",label:"Hoy"},{key:"last_n_days",label:"\xdaltimos N d\xedas"},{key:"next_n_days",label:"Proximos N d\xedas"},{key:"this_year",label:"Este a\xf1o"},{key:"last_year",label:"A\xf1o pasado"},{key:"next_year",label:"Proximo a\xf1o"},{key:"null_or_empty",label:"Es vacio o nulo"},{key:"empty",label:"Es vacio"},{key:"not_empty",label:"No es vacio"}]},me={type:"BooleanField",filter_options:[{key:"equal",label:"Igual"},{key:"not_equal",label:"No es igual"},{key:"starts_width",label:"Empieza con"},{key:"end_width",label:"Termina con"},{key:"contains",label:"Contiene"},{key:"null_or_empty",label:"Es vacio o nulo"},{key:"empty",label:"Es vacio"},{key:"not_empty",label:"No es vacio"},{key:"current_user_code",label:"C\xf3digo Usuario actual"}]},fe={label:"",name:"",formula:"",description:Object(re.cloneDeep)(le)},he={1:"Enero",2:"Febrero",3:"Marzo",4:"Abril",5:"Mayo",6:"Junio",7:"Julio",8:"Agosto",9:"Septiembre",10:"Octubre",11:"Noviembre",12:"Diciembre"};function _e(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ge(e,t,a){try{return JSON.parse(e.getAttribute(t))||a}catch(n){return a}}function be(e,t){t=t.toLowerCase();var a=(e=e.toLowerCase()).split("::");return a.length<=1?t:(a.shift(),a.join("__")+"__"+t)}function ye(e){for(var t=0;t<e.length;t++){var a=e[t];a.key_name=be(a.path,a.name)}}function ve(e){try{return"string"===typeof e?JSON.parse(e)||[]:e||[]}catch(t){return console.log("error"),[]}}function Ee(e,t){if(!e)return null;for(var a=0;a<e.length;a++){var n=e[a];if(n.options&&n.options.length>0){var r=n.options.find((function(e){return e.value===t}));if(r)return r}}return null}function Oe(e){return e instanceof Date&&!isNaN(e)}function xe(e,t,a){var n,r=[{value:1,symbol:""},{value:1e3,symbol:"k"},{value:1e6,symbol:"M"},{value:1e9,symbol:"G"},{value:1e12,symbol:"T"},{value:1e15,symbol:"P"},{value:1e18,symbol:"E"}];for(n=r.length-1;n>0&&!(e>=r[n].value);n--);if(a)try{return e.toFixed(t).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}catch(o){return""}return(e/r[n].value).toFixed(t).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+r[n].symbol}var ke;ke="";function Ce(e){return!!e&&ne()(e).isValid()}function je(e){if(!Ce(e))return"";try{return new Date(e).getMonth()+1}catch(t){return""}}function we(e){if(!Ce(e))return"";try{return new Date(e).getFullYear()}catch(t){return""}}function De(e){return function(t,a){return Ce(t)?ne()(t).add(a,e).format():""}}var Ae=De("day"),Fe=De("month"),Se=De("year");function Me(e){return function(t,a){return Ce(t)?ne()(t).subtract(a,e).format():""}}var Te=Me("day"),Ne=Me("month"),Pe=Me("year");function Ie(e){return function(t,a){return Ce(t)&&Ce(a)?ne()(t).diff(ne()(a),e):""}}var Re=Ie("days"),He=Ie("months"),Le=Ie("years");var qe,Ve=(qe=function(e){return!Object.keys(e).length},function(e){return!!qe(e)});function Ue(e,t){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_e(a,!0).forEach((function(t){Object(te.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_e(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{},t)}function ze(){var e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";return Array(5).join().split(",").map((function(){return e.charAt(Math.floor(Math.random()*e.length))})).join("")}function Ge(e){switch(e){case"CharField":return ze();case"IntegerField":case"PositiveIntegerField":return Object(re.random)(1,1e3);case"FloatField":case"CurrencyField":case"DecimalField":return 9999.9*Math.random()+.1;case"DateTimeField":return ne()().format();case"DateField":return ne()().format("YYYY-mm-DD");case"BooleanField":return Object(re.sample)([!0,!1]);default:return ze()}}var Ye={props:function(e){return e},year:we,month:je,getMonthLabel:function(e){return Object(re.get)(he,e+"",e+"")},date:function(e){if(!Ce(e))return"";try{return new Date(e).getDate()}catch(t){return""}},day:function(e){if(!Ce(e))return"";try{return new Date(e).getDay()}catch(t){return""}},hour:function(e){if(!Ce(e))return"";try{return new Date(e).getHours()}catch(t){return""}},minute:function(e){if(!Ce(e))return"";try{return new Date(e).getMinutes()}catch(t){return""}},period:function(e){return"".concat(we(e)).concat(je(e).toString().padStart(2,"0"))},getDatePart:function(e){return Ce(e)?ne()(e).startOf("day").format():""},getTimePart:function(e){return Ce(e)?ne()(e).startOf("day").format("hh:mm:ss"):""},dateAdd:function(e,t,a){return Ce(e)?ne()(e).add(t,a).format():""},addDay:Ae,addMonth:Fe,addYear:Se,substractDay:Te,substractMonth:Ne,substractYear:Pe,now:function(){return ne()().format()},diffDays:Re,diffMonths:He,diffYears:Le,changeFormat:function(e,t){return Ce(e)?ne()(e).format(t):""}},Be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e=(e=e.replace(/^\s+|\s+$/g,"")).toLowerCase();for(var t="\xe3\xe0\xe1\xe4\xe2\u1ebd\xe8\xe9\xeb\xea\xec\xed\xef\xee\xf5\xf2\xf3\xf6\xf4\xf9\xfa\xfc\xfb\xf1\xe7\xb7/_,:;",a="aaaaaeeeeeiiiiooooouuuunc------",n=0,r=t.length;n<r;n++)e=e.replace(new RegExp(t.charAt(n),"g"),a.charAt(n));return e=e.replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"_").replace(/-+/g,"_")},Ze=function(){return localStorage.getItem("usertoken")},We=a(41),Xe=a(351),Ke=(a(547),a(230),function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).getInitialStateBaseSource=function(e,t){if(t&&e.report_header_data&&e.report_header_data.metadata&&e.report_header_data.metadata.treeData&&e.report_header_data.metadata.treeData.length>0&&e.report_header_data.metadata.checkedKeys&&e.report_header_data.metadata.checkedKeys.checked.length>0)return{treeData:e.report_header_data.metadata.treeData,checkedKeys:e.report_header_data.metadata.checkedKeys,expandedKeys:e.report_header_data.metadata.expandedKeys};for(var a=null,n=[],r={checked:[],halfChecked:[]},o=[],l=0;l<e.modules_list.length;l++){var i=e.modules_list[l];if(i.options&&i.options.length>0){var c=i.options.find((function(t){return t.class_name===e.report_header_data.selected_class}));if(c){(a=c).path=a.class_name,n.push(a),-1===r.checked.indexOf(a.path)&&r.checked.push(a.path),o=r.checked;break}}}return{treeData:n,checkedKeys:r,expandedKeys:o}},a.getFieldList=function(){var e=Object(f.a)(m.a.mark((function e(t){var n,r,o=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=o.length>1&&void 0!==o[1]&&o[1],r=a.findPathInTree(a.state.treeData,t)){e.next=4;break}return e.abrupt("return",null);case 4:if(r.field_list&&!n){e.next=7;break}return e.next=7,a.loadBranch(r).catch((function(e){console.log(e),r.field_list=[]}));case 7:return e.abrupt("return",{label:r.breadcrumbs_label||r.label,options:r.field_list});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onCheck=function(){var e=Object(f.a)(m.a.mark((function e(t){var n,r,o,l,i,c,s=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=s.length>1&&void 0!==s[1]&&s[1],r=[],o=[],n&&t&&t.checked?(t.checked.forEach((function(e){for(var t=[];e.lastIndexOf("::")>-1;)t.push(e),e=e.substr(0,e.lastIndexOf("::"));t.forEach((function(e){-1===o.indexOf(e)&&o.push(e)}))})),o.length>0&&o.push(o[0].split("::")[0]),0===(o=o.sort()).length&&o.push(a.props.report_header_data.selected_class)):o=t.checked,l=0;case 5:if(!(l<o.length)){e.next=14;break}return i=o[l],e.next=9,a.getFieldList(i,n);case 9:(c=e.sent)&&t.checked.indexOf(i)>-1&&r.push(c);case 11:l++,e.next=5;break;case 14:a.setState({checkedKeys:t}),a.props.updateFieldList(r);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onExpand=function(e){a.setState({expandedKeys:e})},a.findPathInTree=function(e,t,n){for(var r=0;r<e.length;r++){var o=e[r];if(o.breadcrumbs_label=(n?n.breadcrumbs_label+" > ":"")+o.label,o.path===t)return o;if(o.children&&o.children.length>0){var l=a.findPathInTree(o.children,t,o);if(l)return l}}return null},a.onClickLoad=function(){var e=Object(f.a)(m.a.mark((function e(t,n,r,o,l){var i,c,s,u;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(We.a)(a.state.treeData),c=a.findPathInTree(i,t.props.eventKey),s=c.label,c.label+=" cargando...",c.fetchingData=!0,a.setState({treeData:i}),e.next=8,a.loadBranch(c).finally((function(){c.label=s,delete c.fetchingData}));case 8:a.setState({treeData:i}),(u=Object(We.a)(a.state.expandedKeys)).push(t.props.eventKey),a.setState({treeData:i,expandedKeys:u});case 12:case"end":return e.stop()}}),e)})));return function(t,a,n,r,o){return e.apply(this,arguments)}}(),a.loadBranch=function(){var e=Object(f.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.children=[],e.abrupt("return",fetch("/api/BLFlex/GetClassInfo/",{method:"POST",credentials:"same-origin",headers:{Accept:"application/json","X-Auth-Token":Ze(),"X-Requested-With":"XMLHttpRequest"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){if(!1===e.status)throw e.message;t.children=[];var a=e.data.relationships;t.field_list=e.data.fields||[];for(var n=0;n<t.field_list.length;n++){var r=t.field_list[n];r.path=t.path,r.key_name=be(t.path,r.name)}a.many_to_many.forEach((function(e,a){e.path=t.path+"::"+e.fk_name,t.children.push(e)})),a.many_to_one.forEach((function(e,a){e.path=t.path+"::"+e.fk_name,t.children.push(e)})),a.one_to_many.forEach((function(e,a){e.path=t.path+"::"+e.class_name,t.children.push(e)}))})).catch((function(e){console.log(e);try{c.b.error(e)}catch(t){c.b.error("Ocurri\xf3 un error al guardar")}})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state=a.getInitialStateBaseSource(e,!0),a}return Object(y.a)(t,e),Object(_.a)(t,[{key:"componentWillReceiveProps",value:function(){var e=Object(f.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.report_header_data||!this.props.report_header_data||t.report_header_data.selected_class===this.props.report_header_data.selected_class){e.next=4;break}return e.next=3,this.setState(this.getInitialStateBaseSource(t));case 3:this.onCheck(this.state.checkedKeys);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.onCheck(this.state.checkedKeys,!0)}},{key:"componentWillUnmount",value:function(){this.props.is_create_edit&&this.props.updateObjectProperty("report_header_data","metadata",this.state)}},{key:"render",value:function(){var e=!1,t=this.props.is_create_edit,a=function a(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return n.map((function(n,l){var i=!1===e&&0===l;e=!0;var c,s=!0;o&&n.label.startsWith("(m2m)")&&n.label===o.label&&(s=!1),c=s&&n.children?a(n.children,n):null;var u=!1;return"fetchingData"in n&&n.fetchingData&&(u=!0),r.a.createElement(Xe.a,{disabled:u,disableCheckbox:i||!t,title:n.label,key:n.path,isLeaf:!1,module_info:n},c)}))}(this.state.treeData);return r.a.createElement("div",null,r.a.createElement(Xe.b,{checkable:!0,showIcon:!1,selectable:!1,onCheck:this.onCheck,checkedKeys:this.state.checkedKeys,expandedKeys:this.state.expandedKeys,onExpand:this.onExpand,autoExpandParent:!0,loadData:this.onClickLoad,checkStrictly:!0},a))}}]),t}(n.Component)),$e=Object(i.b)((function(e){return{report_header_data:e.general.report_header_data,modules_list:F()(e.general.modules_list),is_create_edit:e.general.is_create_edit}}),(function(e){return{updateObjectProperty:function(t,a,n){e(W(t,a,n))},updateFieldList:function(t){e(function(e){return{type:"UPDATE_FIELD_LIST",field_list:e}}(t))}}}))(Ke),Je=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).onChangeSource=function(){var e=Object(f.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.onHandleChange("selected_class",t.value);case 2:return e.next=4,a.onHandleChange("module_path",t.class_path);case 4:return e.next=6,a.onHandleChange("module",t.module);case 6:a.props.cleanPreviewData();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onHandleChange=a.onHandleChange.bind(Object(D.a)(a)),a}return Object(y.a)(t,e),Object(_.a)(t,[{key:"onHandleChange",value:function(){var e=Object(f.a)(m.a.mark((function e(t,a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.updateObjectProperty("report_header_data",t,a);case 2:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,a=t.report_header_data,n=(t.users_list,t.toggleConfigModal),o=t.show_config_modal,l=t.modules_list,i=(t.roles_list,t.groups),c=t.filters,s=t.columns,u=t.is_create_edit,d=(t.teams_list,F()(l));return d.map((function(e){return e.options?(e.options.map((function(e){return e.value=e.class_name,e})),e):e})),r.a.createElement(j.a,{scrollable:!1,centered:!0,size:"lg",isOpen:o,toggle:n,className:"config-modal"},r.a.createElement(k.a,{toggle:n},r.a.createElement("i",{className:"fa fa-cog","aria-hidden":"true"})," Configuraci\xf3n"),r.a.createElement(w.a,null,r.a.createElement(M.a,null,r.a.createElement(O.a,{form:!0},r.a.createElement(x.a,{md:12},r.a.createElement(T.a,null,r.a.createElement(N.a,{for:"name"},"Nombre del reporte"),r.a.createElement(P.a,{type:"text",disabled:!u,name:"name",id:"name",onChange:function(t){e.onHandleChange("name",t.target.value)},value:a.name})))),r.a.createElement(O.a,{form:!0},r.a.createElement(x.a,{md:12},r.a.createElement(T.a,null,r.a.createElement(N.a,{for:"description"},"Descripci\xf3n"),r.a.createElement(P.a,{disabled:!u,type:"textarea",name:"description",id:"description",onChange:function(t){e.onHandleChange("description",t.target.value)},value:a.description})))),r.a.createElement(O.a,{form:!0},r.a.createElement(x.a,{md:12},r.a.createElement(T.a,null,r.a.createElement(N.a,{for:"module_path"},"Fuente"),r.a.createElement("div",{className:"source-tree"},r.a.createElement(x.a,{md:6},r.a.createElement(S.a,{isDisabled:!u||i&&i.length>0||c&&c.length>0||s&&s.length>0,name:"module_path",options:d,onChange:function(t){e.onChangeSource(t)},value:Ee(d,a.selected_class)})),r.a.createElement(x.a,{className:"tree-container",md:12},r.a.createElement($e,null)))))))),r.a.createElement(I.a,null,r.a.createElement(C.a,{color:"primary",className:"btn_primary_def_1",onClick:n},"Continuar")))}}]),t}(n.Component),Qe=Object(i.b)((function(e){return{report_header_data:e.general.report_header_data,users_list:e.general.users_list,show_config_modal:e.general.show_config_modal,modules_list:e.general.modules_list,roles_list:e.general.roles_list,groups:e.general.groups,filters:e.general.filters,columns:e.general.columns,is_create_edit:e.general.is_create_edit,teams_list:e.general.teams_list}}),(function(e){return{toggleConfigModal:function(){e({type:"TOGGLE_CONFIG_MODAL"})},updateObjectProperty:function(){var t=Object(f.a)(m.a.mark((function t(a,n,r){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(W(a,n,r));case 2:case"end":return t.stop()}}),t)})));return function(e,a,n){return t.apply(this,arguments)}}(),cleanPreviewData:function(){e(H([]))}}}))(Je),et=a(425),tt=a(427),at=a.n(tt),nt=a(160),rt=a.n(nt),ot=a(193),lt=a.n(ot),it=["#80c9a7","#bada8c","#326fac","#32b9b0","#56bd8d","#d1e5b1","#ffd690","#5ac5d9","#6691c0","#00a89d","#addfea","#f27c93","#84d1e0","#134b95","#a8d9c4","#a3cf66","#f9a94b","#f9bca5","#69c7c2","#ffe3b5","#8cc640","#f5a6b7","#f9be77","#f05a26","#ed294e","#f69c7b","#2fb6d0","#f79420","#ef5370","#f37a50","#ffca6d","#9bd7d5","#1eb473","#fcbb48","#fcd4a4","#98b7d5"],ct=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).groupData=function(){var e=Object(f.a)(m.a.mark((function e(t,n){var r,o,l,i,s,u,d,p,f,h,_;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.data,o=t.chart_def,!(r.length<=0||t.is_preview&&r.length>300&&!o.operator)){e.next=4;break}return e.abrupt("return",a.setState({data:[],line_series:[]}));case 4:if("undefined"===typeof n&&(n={}),l={},i=o.xaxis,"numeric"===o.type&&(i="oreports_all"),s=o.operator,o.operator){e.next=11;break}return e.abrupt("return",a.setState({data:r,line_series:[]}));case 11:return u=i+"_oreports_key",d=-1!==["line","area","stacked_bar","grouped_bar","horizontal_stacked_bar","horizontal_grouped_bar"].indexOf(o.type),p=!(!d||!o.value_field),f=[],e.next=17,o.yaxis.forEach((function(e){for(var t=0;t<r.length;t++)try{var a=r[t],c=a[i]in n?n[a[i]]:a[i],d=a[u]in n?n[a[u]]:a[u],m=p?Number(a[o.value_field]):Number(a[e]);if(!(c in l)){l[c]={},l[c][i]=c,l[c][u]=d;var h=t;h>it.length-1&&(h%=it.length),l[c].color=it[h]}var _=p?a[e]:e;p&&-1===f.indexOf(_)&&f.push(_),"numeric"===o.type&&"count"===s&&null!==a[e]&&-1===f.indexOf(a[e])&&f.push(a[e]),_ in l[c]?(l[c][_+"__counter"]+=1,"sum"===s?l[c][_]+=m:"count"===s?l[c][_]+=1:"min"===s?l[c][_]=Math.min(l[c][_],m):"max"===s?l[c][_]=Math.max(l[c][_],m):"avg"===s&&l[c][_].push(m)):(l[c][_+"__counter"]=1,l[c][_]="avg"===s?[m]:"count"===s?1:m)}catch(y){console.log("error for",y)}if("avg"===s)for(var g in l)if(p)for(var b in l[g])l[g].hasOwnProperty(b)&&Array.isArray(l[g][b])&&(l[g][b]=l[g][b].reduce((function(e,t){return e+t}),0)/l[g][b].length);else l[g][e]=l[g][e].reduce((function(e,t){return e+t}),0)/l[g][e].length;else"numeric"===o.type&&"count"===s&&(l[void 0][e]=f.length,f=[])}));case 17:if(h=Object.values(l),o&&o.order_options_value&&o.order_options_value.length>0&&h.length>0&&(_=o.order_options_value.map((function(e){return e.value})),(h=h.filter((function(e){return-1!==_.indexOf(e[u])}))).sort((function(e,t){var a=_.indexOf(e[u]),n=_.indexOf(t[u]);return(a>-1?a:1/0)-(n>-1?n:1/0)}))),!(h.length>300)){e.next=22;break}return c.b.error("Muchos datos para graficar, pruebe cambiando los filtros."),e.abrupt("return",a.setState({data:[],line_series:f}));case 22:return e.abrupt("return",a.setState({data:h,line_series:f}));case 23:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),a.onPointClick=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.item&&t&&a.props.applyFilter(t,e.item.argument),e.target&&e.target.series&&a.props.applyFilter(e.target.series.getArgumentField(),e.target.argument)},a.onLegendClick=function(e){return function(t){if(e&&t.target){var n=t.target;n.name&&(n=n.name),-1!==["line","area","stacked_bar","grouped_bar","horizontal_stacked_bar","horizontal_grouped_bar"].indexOf(a.props.chart_def.type)&&a.props.chart_def.yaxis&&a.props.chart_def.yaxis.length>0?a.props.applyFilter(a.props.chart_def.yaxis[0],n):a.props.applyFilter(e,n)}}},a.compareValues=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";return function(a,n){if(!a.hasOwnProperty(e)||!n.hasOwnProperty(e))return 0;var r="string"===typeof a[e]?a[e].toUpperCase():a[e],o="string"===typeof n[e]?n[e].toUpperCase():n[e],l=0;return r>o?l=1:r<o&&(l=-1),"desc"===t?-1*l:l}},a.state={data:[],line_series:[]},a}return Object(y.a)(t,e),Object(_.a)(t,[{key:"componentWillMount",value:function(){this.props.data.length>0&&this.groupData(this.props)}},{key:"componentWillReceiveProps",value:function(e){rt()(e.data,this.props.data)&&e.chart_def.xaxis===this.props.chart_def.xaxis&&e.chart_def.value_field===this.props.chart_def.value_field&&rt()(e.chart_def.yaxis,this.props.chart_def.yaxis)&&e.chart_def.type===this.props.chart_def.type&&e.chart_def.operator===this.props.chart_def.operator&&e.loading===this.props.loading&&rt()(e.chart_def.order_options_value,this.props.chart_def.order_options_value)||this.groupData(e)}},{key:"render",value:function(){var e=this,t=this.props,a=t.chart_def,n=t.groups,o=t.columns,l=t.isZoomed,i=o.map((function(e){return{value:e.key_name,label:e.label,field_type:e.type}})).concat(n.map((function(e){return{value:e.key_name,label:e.label,field_type:e.type}}))),c=a.type,s=-1!==["line","area","stacked_bar","grouped_bar","horizontal_stacked_bar","horizontal_grouped_bar"].indexOf(a.type),u={title:a.title,dataSource:this.state.data,tooltip:{enabled:!0,format:function(e){return xe(e,2)}},legend:{visible:!0},onPointClick:this.onPointClick,onLegendClick:this.onLegendClick(a.xaxis)};switch(a.type){case"stacked_bar":c="stackedBar";break;case"grouped_bar":c="bar";break;case"horizontal_bar":c="bar",u.rotated=!0;break;case"horizontal_stacked_bar":c="stackedBar",u.rotated=!0;break;case"horizontal_grouped_bar":c="bar",u.rotated=!0}var d=[];d=s?this.state.line_series.map((function(e){return{valueField:e,argumentField:a.xaxis,type:c,ignoreEmptyPoints:!1,name:e}})):a.yaxis.map((function(e){var t=i.find((function(t){return t.value===e}));return{valueField:e,argumentField:a.xaxis,type:c,ignoreEmptyPoints:!0,name:t?t.label:""}})),u.tooltip={enabled:!0,format:function(e){return xe(e,2)},customizeTooltip:function(e){var t=xe(e.originalValue,2,!0),a=e.argumentText;return e.argumentText!==e.seriesName&&(a+="\n"+e.seriesName),{text:a+="\n"+t}}};var p=null;if("donut"===c)u.commonSeriesSettings={label:{visible:!0,font:{size:16,color:"black"},connector:{visible:!0,width:.5}},argumentField:a.xaxis,type:""},u.tooltip={enabled:!0,format:function(e){return xe(e,2)},customizeTooltip:function(e){var t=xe(e.originalValue,2,!0);return{text:"".concat(e.argumentText,"\n").concat(t," - ").concat((100*e.percent).toFixed(2),"%")}}},u.legend={margin:0,horizontalAlignment:"right",verticalAlignment:"top"},d.forEach((function(e){e.label={format:function(e){return xe(e,2)}}})),u.series=d,u.resolveLabelOverlapping="hide",p=r.a.createElement(at.a,Object.assign({},u,{ref:function(t){return e.chartRef=t}}));else if("funnel"===c)u.argumentField=a.xaxis,u.valueField=d.length>0?d[0].valueField:"",u.tooltip={enabled:!0,format:function(e){return xe(e,2)},customizeTooltip:function(e){var t=xe(e.value,2,!0);return{text:"".concat(e.item.argument,"\n").concat(t)}}},u.onItemClick=function(t){return e.onPointClick(t,a.xaxis)},p=r.a.createElement(lt.a,Object.assign({},u,{ref:function(t){return e.chartRef=t},sortData:!(a.order_options_value&&a.order_options_value.length>0),algorithm:"dynamicHeight"}),r.a.createElement(ot.Legend,{visible:!!l}),r.a.createElement(ot.Item,null,r.a.createElement(ot.Border,{visible:!0})),r.a.createElement(ot.Label,{visible:!!l,horizontalAlignment:"left",backgroundColor:"none",customizeText:function(e){var t=xe(e.value,2);return"".concat(e.item.argument," - ").concat(t)}},r.a.createElement(ot.Font,{size:16,color:"#000"})));else if("numeric"===c){var m=0,f=d.length>0?d[0].valueField:"";(this.state.data||[]).forEach((function(e){m+=e[f]||0}));var h=i.find((function(e){return e.value===f})),_=0;if(h)switch(h.field_type){case"CurrencyField":_="$"+xe(m,2,!0),m="$"+xe(m,2);break;default:_=xe(m,2,!0),m=xe(m,2)}p=r.a.createElement("div",{className:"numeric-chart",title:_,style:{backgroundColor:a.background_color||"inherit",color:a.text_color||"inherit"}},r.a.createElement("span",{className:"numeric-chart-title"},a.title||""),r.a.createElement("span",{className:"numeric-chart-body"},m))}else{d.length>1||s?u.series=d:(u.seriesTemplate={nameField:a.xaxis},u.commonSeriesSettings={argumentField:a.xaxis,valueField:d.length>0?d[0].valueField:"",type:c,ignoreEmptyPoints:!0});var g=i.find((function(e){return e.value===a.xaxis}));g&&"IntegerField"===g.field_type&&(u.argumentAxis={type:"discrete"});var b=o.find((function(e){return e.isSorter}));if(b){var y=b.sortType?b.sortType:"desc",v=oe.a.cloneDeep(u.dataSource);u.dataSource=v.sort(this.compareValues(b.name,y))}p=r.a.createElement(et.Chart,Object.assign({ref:function(t){return e.chartRef=t}},u))}return p}}]),t}(n.Component),st=Object(i.b)((function(e){return{groups:e.general.groups,columns:e.general.columns,is_create_edit:e.general.is_create_edit,data:e.general.charts_data}}),(function(e){return{applyFilter:function(t,a){e(X(t,a))}}}))(ct);function ut(){return(ut=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function dt(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var pt=r.a.createElement("g",{id:"Group_2639","data-name":"Group 2639",transform:"translate(19395 1576.005)",opacity:.5},r.a.createElement("g",{id:"Group_2637","data-name":"Group 2637",transform:"translate(-19394.824 -1576.005)"},r.a.createElement("path",{id:"Union_1","data-name":"Union 1",d:"M16.385,36.808V24.457H4.035a4.035,4.035,0,0,1,0-8.07H16.385V4.036a4.035,4.035,0,1,1,8.07,0V16.386H36.806a4.035,4.035,0,1,1,0,8.07H24.456V36.808a4.035,4.035,0,0,1-8.07,0Z",transform:"translate(100.419 28.47) rotate(-16)",fill:"#909090",opacity:.5}),r.a.createElement("path",{id:"Union_2","data-name":"Union 2",d:"M16.385,36.808V24.458H4.035a4.036,4.036,0,0,1,0-8.071H16.385V4.036a4.035,4.035,0,1,1,8.07,0V16.386H36.806a4.036,4.036,0,0,1,0,8.071H24.456V36.808a4.035,4.035,0,0,1-8.07,0Z",transform:"translate(242.773 0) rotate(28)",fill:"#909090",opacity:.5}),r.a.createElement("path",{id:"Union_4","data-name":"Union 4",d:"M16.385,36.808V24.458H4.035a4.036,4.036,0,0,1,0-8.071H16.385V4.036a4.035,4.035,0,1,1,8.07,0V16.386H36.806a4.036,4.036,0,0,1,0,8.071H24.456V36.808a4.035,4.035,0,0,1-8.07,0Z",transform:"translate(319.476 297.683) rotate(9)",fill:"#909090",opacity:.5}),r.a.createElement("path",{id:"Union_6","data-name":"Union 6",d:"M16.385,36.808V24.458H4.035a4.036,4.036,0,0,1,0-8.071H16.385V4.036a4.035,4.035,0,1,1,8.07,0V16.386H36.806a4.036,4.036,0,0,1,0,8.071H24.456V36.808a4.035,4.035,0,0,1-8.07,0Z",transform:"translate(27.361 293.694) rotate(-18)",fill:"#909090",opacity:.5}),r.a.createElement("path",{id:"Union_3","data-name":"Union 3",d:"M10.427,23.423v-7.86H2.568a2.568,2.568,0,0,1,0-5.136h7.859V2.568a2.568,2.568,0,0,1,5.136,0v7.86h7.859a2.568,2.568,0,0,1,0,5.136H15.563v7.86a2.568,2.568,0,0,1-5.136,0Z",transform:"translate(401.501 145.003) rotate(13)",fill:"#909090",opacity:.5}),r.a.createElement("path",{id:"Union_7","data-name":"Union 7",d:"M10.427,23.423v-7.86H2.568a2.568,2.568,0,0,1,0-5.136h7.859V2.568a2.568,2.568,0,0,1,5.136,0v7.86h7.859a2.568,2.568,0,0,1,0,5.136H15.563v7.86a2.568,2.568,0,0,1-5.136,0Z",transform:"translate(65.244 106.978) rotate(-15)",fill:"#909090",opacity:.5}),r.a.createElement("path",{id:"Union_5","data-name":"Union 5",d:"M10.427,23.423v-7.86H2.568a2.568,2.568,0,0,1,0-5.136h7.859V2.568a2.568,2.568,0,0,1,5.136,0v7.86h7.859a2.568,2.568,0,0,1,0,5.136H15.563v7.86a2.568,2.568,0,0,1-5.136,0Z",transform:"translate(184.787 348.896) rotate(-11)",fill:"#909090",opacity:.5}),r.a.createElement("path",{id:"Exclusion_1","data-name":"Exclusion 1",d:"M14,28a14.1,14.1,0,0,1-2.822-.284,13.921,13.921,0,0,1-5.006-2.106A14.039,14.039,0,0,1,1.1,19.449a13.926,13.926,0,0,1-.816-2.628,14.135,14.135,0,0,1,0-5.643A13.924,13.924,0,0,1,2.391,6.172,14.041,14.041,0,0,1,8.551,1.1,13.9,13.9,0,0,1,11.179.284a14.134,14.134,0,0,1,5.643,0,13.921,13.921,0,0,1,5.006,2.106A14.04,14.04,0,0,1,26.9,8.551a13.932,13.932,0,0,1,.816,2.628,14.137,14.137,0,0,1,0,5.643,13.925,13.925,0,0,1-2.107,5.006A14.041,14.041,0,0,1,19.45,26.9a13.914,13.914,0,0,1-2.628.816A14.1,14.1,0,0,1,14,28ZM14,4.359A9.6,9.6,0,0,0,8.61,6.006a9.669,9.669,0,0,0-3.493,4.242,9.628,9.628,0,0,0,.889,9.143,9.667,9.667,0,0,0,4.241,3.493,9.628,9.628,0,0,0,9.143-.889,9.671,9.671,0,0,0,3.493-4.241,9.628,9.628,0,0,0-.889-9.143,9.668,9.668,0,0,0-4.242-3.493A9.582,9.582,0,0,0,14,4.359Z",transform:"translate(330.824 60.005)",fill:"#909090",opacity:.5}),r.a.createElement("path",{id:"Exclusion_6","data-name":"Exclusion 6",d:"M14,28a14.1,14.1,0,0,1-2.822-.284,13.921,13.921,0,0,1-5.006-2.106A14.039,14.039,0,0,1,1.1,19.449a13.926,13.926,0,0,1-.816-2.628,14.135,14.135,0,0,1,0-5.643A13.924,13.924,0,0,1,2.391,6.172,14.041,14.041,0,0,1,8.551,1.1,13.9,13.9,0,0,1,11.179.284a14.134,14.134,0,0,1,5.643,0,13.921,13.921,0,0,1,5.006,2.106A14.04,14.04,0,0,1,26.9,8.551a13.932,13.932,0,0,1,.816,2.628,14.137,14.137,0,0,1,0,5.643,13.925,13.925,0,0,1-2.107,5.006A14.041,14.041,0,0,1,19.45,26.9a13.914,13.914,0,0,1-2.628.816A14.1,14.1,0,0,1,14,28ZM14,4.359A9.6,9.6,0,0,0,8.61,6.006a9.669,9.669,0,0,0-3.493,4.242,9.628,9.628,0,0,0,.889,9.143,9.667,9.667,0,0,0,4.241,3.493,9.628,9.628,0,0,0,9.143-.889,9.671,9.671,0,0,0,3.493-4.241,9.628,9.628,0,0,0-.889-9.143,9.668,9.668,0,0,0-4.242-3.493A9.582,9.582,0,0,0,14,4.359Z",transform:"translate(-0.176 160.005)",fill:"#909090",opacity:.5}),r.a.createElement("path",{id:"Exclusion_4","data-name":"Exclusion 4",d:"M14,28a14.1,14.1,0,0,1-2.822-.284,13.921,13.921,0,0,1-5.006-2.106A14.039,14.039,0,0,1,1.1,19.449a13.926,13.926,0,0,1-.816-2.628,14.135,14.135,0,0,1,0-5.643A13.924,13.924,0,0,1,2.391,6.172,14.041,14.041,0,0,1,8.551,1.1,13.9,13.9,0,0,1,11.179.284a14.134,14.134,0,0,1,5.643,0,13.921,13.921,0,0,1,5.006,2.106A14.04,14.04,0,0,1,26.9,8.551a13.932,13.932,0,0,1,.816,2.628,14.137,14.137,0,0,1,0,5.643,13.925,13.925,0,0,1-2.107,5.006A14.041,14.041,0,0,1,19.45,26.9a13.914,13.914,0,0,1-2.628.816A14.1,14.1,0,0,1,14,28ZM14,4.359A9.6,9.6,0,0,0,8.61,6.006a9.669,9.669,0,0,0-3.493,4.242,9.628,9.628,0,0,0,.889,9.143,9.667,9.667,0,0,0,4.241,3.493,9.628,9.628,0,0,0,9.143-.889,9.671,9.671,0,0,0,3.493-4.241,9.628,9.628,0,0,0-.889-9.143,9.668,9.668,0,0,0-4.242-3.493A9.582,9.582,0,0,0,14,4.359Z",transform:"translate(262.824 370.005)",fill:"#909090",opacity:.5}),r.a.createElement("path",{id:"Exclusion_8","data-name":"Exclusion 8",d:"M14,28a14.1,14.1,0,0,1-2.822-.284,13.921,13.921,0,0,1-5.006-2.106A14.039,14.039,0,0,1,1.1,19.449a13.926,13.926,0,0,1-.816-2.628,14.135,14.135,0,0,1,0-5.643A13.924,13.924,0,0,1,2.391,6.172,14.041,14.041,0,0,1,8.551,1.1,13.9,13.9,0,0,1,11.179.284a14.134,14.134,0,0,1,5.643,0,13.921,13.921,0,0,1,5.006,2.106A14.04,14.04,0,0,1,26.9,8.551a13.932,13.932,0,0,1,.816,2.628,14.137,14.137,0,0,1,0,5.643,13.925,13.925,0,0,1-2.107,5.006A14.041,14.041,0,0,1,19.45,26.9a13.914,13.914,0,0,1-2.628.816A14.1,14.1,0,0,1,14,28ZM14,4.359A9.6,9.6,0,0,0,8.61,6.006a9.669,9.669,0,0,0-3.493,4.242,9.628,9.628,0,0,0,.889,9.143,9.667,9.667,0,0,0,4.241,3.493,9.628,9.628,0,0,0,9.143-.889,9.671,9.671,0,0,0,3.493-4.241,9.628,9.628,0,0,0-.889-9.143,9.668,9.668,0,0,0-4.242-3.493A9.582,9.582,0,0,0,14,4.359Z",transform:"translate(380.824 274.005)",fill:"#909090",opacity:.5}),r.a.createElement("path",{id:"Exclusion_2","data-name":"Exclusion 2",d:"M8.5,17a8.559,8.559,0,0,1-1.713-.173,8.452,8.452,0,0,1-3.039-1.279,8.524,8.524,0,0,1-3.08-3.74,8.455,8.455,0,0,1-.5-1.6,8.582,8.582,0,0,1,0-3.426,8.454,8.454,0,0,1,1.279-3.04A8.525,8.525,0,0,1,5.192.668a8.441,8.441,0,0,1,1.6-.5,8.582,8.582,0,0,1,3.426,0,8.452,8.452,0,0,1,3.039,1.279,8.524,8.524,0,0,1,3.08,3.74,8.459,8.459,0,0,1,.5,1.6,8.583,8.583,0,0,1,0,3.426,8.455,8.455,0,0,1-1.279,3.04,8.525,8.525,0,0,1-3.74,3.079,8.448,8.448,0,0,1-1.6.5A8.558,8.558,0,0,1,8.5,17Zm0-14.353a5.826,5.826,0,0,0-3.273,1A5.871,5.871,0,0,0,3.107,6.222a5.845,5.845,0,0,0,.54,5.551,5.869,5.869,0,0,0,2.575,2.121,5.846,5.846,0,0,0,5.551-.54,5.872,5.872,0,0,0,2.121-2.575,5.846,5.846,0,0,0-.54-5.551,5.87,5.87,0,0,0-2.575-2.121A5.818,5.818,0,0,0,8.5,2.647Z",transform:"translate(335.824 202.005)",fill:"#909090",opacity:.5}),r.a.createElement("path",{id:"Exclusion_5","data-name":"Exclusion 5",d:"M8.5,17a8.559,8.559,0,0,1-1.713-.173,8.452,8.452,0,0,1-3.039-1.279,8.524,8.524,0,0,1-3.08-3.74,8.455,8.455,0,0,1-.5-1.6,8.582,8.582,0,0,1,0-3.426,8.454,8.454,0,0,1,1.279-3.04A8.525,8.525,0,0,1,5.192.668a8.441,8.441,0,0,1,1.6-.5,8.582,8.582,0,0,1,3.426,0,8.452,8.452,0,0,1,3.039,1.279,8.524,8.524,0,0,1,3.08,3.74,8.459,8.459,0,0,1,.5,1.6,8.583,8.583,0,0,1,0,3.426,8.455,8.455,0,0,1-1.279,3.04,8.525,8.525,0,0,1-3.74,3.079,8.448,8.448,0,0,1-1.6.5A8.558,8.558,0,0,1,8.5,17Zm0-14.353a5.826,5.826,0,0,0-3.273,1A5.871,5.871,0,0,0,3.107,6.222a5.845,5.845,0,0,0,.54,5.551,5.869,5.869,0,0,0,2.575,2.121,5.846,5.846,0,0,0,5.551-.54,5.872,5.872,0,0,0,2.121-2.575,5.846,5.846,0,0,0-.54-5.551,5.87,5.87,0,0,0-2.575-2.121A5.818,5.818,0,0,0,8.5,2.647Z",transform:"translate(109.824 361.005)",fill:"#909090",opacity:.5}),r.a.createElement("path",{id:"Exclusion_3","data-name":"Exclusion 3",d:"M8.5,17a8.559,8.559,0,0,1-1.713-.173,8.452,8.452,0,0,1-3.039-1.279,8.524,8.524,0,0,1-3.08-3.74,8.455,8.455,0,0,1-.5-1.6,8.582,8.582,0,0,1,0-3.426,8.454,8.454,0,0,1,1.279-3.04A8.525,8.525,0,0,1,5.192.668a8.441,8.441,0,0,1,1.6-.5,8.582,8.582,0,0,1,3.426,0,8.452,8.452,0,0,1,3.039,1.279,8.524,8.524,0,0,1,3.08,3.74,8.459,8.459,0,0,1,.5,1.6,8.583,8.583,0,0,1,0,3.426,8.455,8.455,0,0,1-1.279,3.04,8.525,8.525,0,0,1-3.74,3.079,8.448,8.448,0,0,1-1.6.5A8.558,8.558,0,0,1,8.5,17Zm0-14.353a5.826,5.826,0,0,0-3.273,1A5.871,5.871,0,0,0,3.107,6.222a5.845,5.845,0,0,0,.54,5.551,5.869,5.869,0,0,0,2.575,2.121,5.846,5.846,0,0,0,5.551-.54,5.872,5.872,0,0,0,2.121-2.575,5.846,5.846,0,0,0-.54-5.551,5.87,5.87,0,0,0-2.575-2.121A5.818,5.818,0,0,0,8.5,2.647Z",transform:"translate(191.824 74.005)",fill:"#909090",opacity:.5}),r.a.createElement("path",{id:"Exclusion_7","data-name":"Exclusion 7",d:"M8.5,17a8.559,8.559,0,0,1-1.713-.173,8.452,8.452,0,0,1-3.039-1.279,8.524,8.524,0,0,1-3.08-3.74,8.455,8.455,0,0,1-.5-1.6,8.582,8.582,0,0,1,0-3.426,8.454,8.454,0,0,1,1.279-3.04A8.525,8.525,0,0,1,5.192.668a8.441,8.441,0,0,1,1.6-.5,8.582,8.582,0,0,1,3.426,0,8.452,8.452,0,0,1,3.039,1.279,8.524,8.524,0,0,1,3.08,3.74,8.459,8.459,0,0,1,.5,1.6,8.583,8.583,0,0,1,0,3.426,8.455,8.455,0,0,1-1.279,3.04,8.525,8.525,0,0,1-3.74,3.079,8.448,8.448,0,0,1-1.6.5A8.558,8.558,0,0,1,8.5,17Zm0-14.353a5.826,5.826,0,0,0-3.273,1A5.871,5.871,0,0,0,3.107,6.222a5.845,5.845,0,0,0,.54,5.551,5.869,5.869,0,0,0,2.575,2.121,5.846,5.846,0,0,0,5.551-.54,5.872,5.872,0,0,0,2.121-2.575,5.846,5.846,0,0,0-.54-5.551,5.87,5.87,0,0,0-2.575-2.121A5.818,5.818,0,0,0,8.5,2.647Z",transform:"translate(86.824 165.005)",fill:"#909090",opacity:.5}),r.a.createElement("g",{id:"statistics",transform:"translate(120.064 106.425)",opacity:.5},r.a.createElement("path",{id:"Path_1074","data-name":"Path 1074",d:"M47.522,88.116A16.439,16.439,0,0,0,58.958,83.47l16.3,8.15a16.182,16.182,0,0,0-.2,2,16.522,16.522,0,1,0,33.043,0,16.321,16.321,0,0,0-1.656-7.078L128.56,64.43a16.321,16.321,0,0,0,7.078,1.656,16.541,16.541,0,0,0,16.522-16.522,16.274,16.274,0,0,0-.825-4.893l19.215-14.408a16.511,16.511,0,1,0-7.376-13.742A16.274,16.274,0,0,0,164,21.415L144.783,35.823a16.45,16.45,0,0,0-24.011,20.82L98.657,78.758a16.235,16.235,0,0,0-18.514,2.989l-16.3-8.15a16.182,16.182,0,0,0,.2-2A16.522,16.522,0,1,0,47.522,88.116Zm0,0",transform:"translate(-19.618)",fill:"#909090"}),r.a.createElement("path",{id:"Path_1075","data-name":"Path 1075",d:"M182.473,271.893H176.6V155.507A5.5,5.5,0,0,0,171.091,150H149.062a5.5,5.5,0,0,0-5.507,5.507V271.893H132.541V188.551a5.5,5.5,0,0,0-5.507-5.507H105a5.5,5.5,0,0,0-5.507,5.507v83.343H88.483V232.608a5.5,5.5,0,0,0-5.507-5.507H60.947a5.5,5.5,0,0,0-5.507,5.507v39.285H44.425V210.58a5.505,5.505,0,0,0-5.507-5.507H16.889a5.505,5.505,0,0,0-5.507,5.507v61.314H5.507a5.507,5.507,0,1,0,0,11.014H182.473a5.507,5.507,0,1,0,0-11.014Zm0,0",transform:"translate(0 -94.928)",fill:"#909090"})))),mt=function(e){var t=e.svgRef,a=e.title,n=dt(e,["svgRef","title"]);return r.a.createElement("svg",ut({width:426.998,height:398.005,viewBox:"0 0 426.998 398.005",ref:t},n),a?r.a.createElement("title",null,a):null,pt)},ft=r.a.forwardRef((function(e,t){return r.a.createElement(mt,ut({svgRef:t},e))})),ht=(a.p,a(58)),_t=a.n(ht),gt=a(428),bt=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).handleClick=function(){a.setState({displayColorPicker:!a.state.displayColorPicker})},a.handleClose=function(){a.setState({displayColorPicker:!1})},a.handleChange=function(e){a.setState({color:e.hex}),a.props.onChange(e.hex)},a.state={displayColorPicker:!1,color:e.defaultColor||"#fff"},a}return Object(y.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e=this.props.value,t=e||this.state.color,a=_t()({default:{color:{width:"36px",height:"14px",borderRadius:"2px",background:"".concat(t)},swatch:{padding:"5px",background:"#fff",borderRadius:"5px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",display:"inline-block",cursor:"pointer"},popover:{position:"absolute",zIndex:"2"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}}});return r.a.createElement("div",null,r.a.createElement("div",{style:a.swatch,onClick:this.handleClick},r.a.createElement("div",{style:a.color})),this.state.displayColorPicker?r.a.createElement("div",{style:a.popover},r.a.createElement("div",{style:a.cover,onClick:this.handleClose}),r.a.createElement(gt.SketchPicker,{color:this.state.color,onChange:this.handleChange})):null)}}]),t}(r.a.Component);function yt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function vt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?yt(a,!0).forEach((function(t){Object(te.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):yt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Et=[{value:"bar",label:"Barras"},{value:"stacked_bar",label:"Barras Apiladas"},{value:"grouped_bar",label:"Barras Agrupadas"},{value:"horizontal_bar",label:"Barras Horizontales"},{value:"horizontal_stacked_bar",label:"Barras Horizontales Apiladas"},{value:"horizontal_grouped_bar",label:"Barras Horizontales Agrupadas"},{value:"donut",label:"Dona"},{value:"line",label:"L\xedneas"},{value:"area",label:"\xc1rea"},{value:"funnel",label:"Funnel"},{value:"numeric",label:"Num\xe9rico"}],Ot=[{value:"count",label:"Contar"},{value:"sum",label:"Sumar"},{value:"avg",label:"Promedio"},{value:"max",label:"Maximo"},{value:"min",label:"M\xednimo"}],xt=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).getOptionsEnums=function(){var e=Object(f.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return a.setState({order_options:[]}),e.abrupt("return");case 3:n={enum:t.list_name,fieldDef:t},fetch("/api/BLFlex/GetOptionsEnum/",{method:"POST",credentials:"same-origin",headers:{Accept:"application/json","X-Auth-Token":Ze(),"X-Requested-With":"XMLHttpRequest"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){e.data.status&&e.data.options&&a.setState({order_options:e.data.options.map((function(e){return{value:e.key,label:e.label}}))})})).catch((function(e){console.log("[getOptionsEnums] Error",e),a.setState({order_options:[]})}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onSave=Object(f.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"===typeof(t=a.props.edit_chart_index)||null===t){e.next=6;break}return e.next=4,a.props.editChart(t,a.state);case 4:e.next=8;break;case 6:return e.next=8,a.props.addChart(a.state);case 8:a.closeModal();case 9:case"end":return e.stop()}}),e)}))),a.onHandleChange=function(e,t){a.setState(Object(te.a)({},e,t))},a.closeModal=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState(vt({},a.initial_state)),e.next=3,a.props.setEditChartIndex(void 0);case 3:a.props.toggleChartsModal();case 4:case"end":return e.stop()}}),e)}))),a.initial_state={title:"",type:"",xaxis:"",yaxis:[],operator:"",order_options:[],order_options_value:[],value_field:"",background_color:"#fff",text_color:"#000"},a.state=vt({},a.initial_state),a}return Object(y.a)(t,e),Object(_.a)(t,[{key:"componentWillReceiveProps",value:function(e){if(e.edit_chart_index!==this.props.edit_chart_index)try{var t=e.chart_list[e.edit_chart_index];this.setState(vt({},t))}catch(a){}}},{key:"render",value:function(){var e=this,t=this.props,a=t.show_charts_modal,n=t.groups,o=t.columns,l=t.edit_chart_index,i=o.map((function(e){return{value:e.key_name,label:e.label,selectfield_params:e.selectfield_params}})).concat(n.map((function(e){return{value:e.key_name,label:e.label,selectfield_params:e.selectfield_params}}))),c={};["donut"].indexOf(this.state.type)>=0?(c.isMulti=!0,c.onChange=function(t){e.onHandleChange("yaxis",t?t.map((function(e){return e.value})):[])},c.value=i.filter((function(t){return-1!==e.state.yaxis.indexOf(t.value)}))):(c.isMulti=!1,c.onChange=function(t){e.onHandleChange("yaxis",t?[t.value]:[])},c.value=i.filter((function(t){return-1!==e.state.yaxis.indexOf(t.value)})));var s="Eje Y";switch(this.state.type){case"donut":s="Valores";break;case"funnel":case"numeric":s="Valor"}return r.a.createElement(j.a,{scrollable:!1,centered:!0,size:"lg",isOpen:a,toggle:this.closeModal,className:"config-modal charts-modal"},r.a.createElement(w.a,null,r.a.createElement("div",{className:"chart-sidebar"},r.a.createElement("span",{className:"chart-title"},"undefined"!==typeof l&&null!==l?"Edita":"Crea"," un Gr\xe1fico"),r.a.createElement(M.a,null,r.a.createElement(O.a,{form:!0},r.a.createElement(x.a,null,r.a.createElement(T.a,null,r.a.createElement(N.a,{for:"name"},"Nombre"),r.a.createElement(P.a,{type:"text",name:"name",id:"name",className:"input-sm",bsSize:"sm",value:this.state.title,onChange:function(t){e.onHandleChange("title",t.target.value)}}))),r.a.createElement(x.a,null,r.a.createElement(T.a,null,r.a.createElement(N.a,{for:"chart_type"},"Seleccione un tipo de gr\xe1fico"),r.a.createElement(S.a,{name:"chart_type",options:Et,onChange:function(t){e.onHandleChange("type",t.value)},value:Et.find((function(t){return t.value===e.state.type}))}))),"numeric"!==this.state.type?r.a.createElement(x.a,null,r.a.createElement(T.a,null,r.a.createElement(N.a,{for:"name"},"donut"===this.state.type?"Etiqueta":"Eje X"),r.a.createElement(S.a,{name:"xaxis",options:i,onChange:function(t){e.onHandleChange("xaxis",t.value),e.getOptionsEnums(t.selectfield_params)},value:i.find((function(t){return t.value===e.state.xaxis}))}))):null,r.a.createElement(x.a,null,r.a.createElement(T.a,null,r.a.createElement(N.a,{for:"name"},s),r.a.createElement(S.a,Object.assign({name:"yaxis"},c,{options:i})))),["line","area","stacked_bar","grouped_bar","horizontal_stacked_bar","horizontal_grouped_bar"].indexOf(this.state.type)>=0?r.a.createElement(x.a,null,r.a.createElement(T.a,null,r.a.createElement(N.a,{for:"value_field"},"Valor"),r.a.createElement(S.a,{name:"value_field",options:i,onChange:function(t){e.onHandleChange("value_field",t.value)},value:i.find((function(t){return t.value===e.state.value_field}))}))):null,r.a.createElement(x.a,null,r.a.createElement(T.a,null,r.a.createElement(N.a,{for:"name"},"Operador"),r.a.createElement(S.a,{name:"operation",options:Ot,onChange:function(t){e.onHandleChange("operator",t.value)},value:Ot.find((function(t){return t.value===e.state.operator}))}))),["bar","stacked_bar","grouped_bar","horizontal_bar","horizontal_stacked_bar","horizontal_grouped_bar","funnel"].indexOf(this.state.type)>=0&&this.state.order_options.length>0?r.a.createElement(x.a,null,r.a.createElement(T.a,null,r.a.createElement(N.a,{for:"orden"},"Orden"),r.a.createElement(S.a,{name:"yaxis",isMulti:!0,options:this.state.order_options,onChange:function(t){e.onHandleChange("order_options_value",t||[])},value:this.state.order_options_value}))):null),"numeric"===this.state.type?r.a.createElement(O.a,null,r.a.createElement(x.a,{md:6},r.a.createElement(T.a,null,r.a.createElement(N.a,{for:"name"},"Color del Texto"),r.a.createElement(bt,{defaultColor:"#000",onChange:function(t){e.onHandleChange("text_color",t)},value:this.state.text_color}))),r.a.createElement(x.a,{md:6},r.a.createElement(T.a,null,r.a.createElement(N.a,{for:"name"},"Color del Fondo"),r.a.createElement(bt,{defaultColor:"#fff",onChange:function(t){e.onHandleChange("background_color",t)},value:this.state.background_color})))):null)),r.a.createElement("div",{className:"chart-preview"},r.a.createElement("div",{className:"chart-dx-preview"},r.a.createElement("span",{className:"chart-preview-title"},"Vista Previa"),this.state.type?r.a.createElement(st,{is_preview:!0,chart_def:vt({},this.state)}):r.a.createElement("div",{className:"dash-placeholder"},r.a.createElement(ft,null))),r.a.createElement(I.a,null,r.a.createElement(C.a,{color:"primary",className:"btn_primary_def_1",onClick:this.onSave},"undefined"!==typeof l&&null!==l?"Editar":"Agregar"),r.a.createElement(C.a,{color:"secondary",className:"btn_secondary_def_1",onClick:function(){e.closeModal()}},"Cancelar")))))}}]),t}(n.Component),kt=Object(i.b)((function(e){return{show_charts_modal:e.general.show_charts_modal,groups:e.general.groups,columns:e.general.columns,edit_chart_index:e.general.edit_chart_index,dashlet_id:e.general.dashlet_id,chart_list:e.general.chart_list}}),(function(e){return{toggleChartsModal:function(){e(G())},addChart:function(t){e(function(e){return{type:"ADD_CHART",chart_def:e}}(t))},setEditChartIndex:function(t){e(K(t))},editChart:function(t,a){e(function(e,t){return{type:"EDIT_CHART",index:e,chart_def:t}}(t,a))}}}))(xt),Ct=a(162),jt=a.n(Ct),wt=a(349),Dt=a(429),At=a(219),Ft=a(55);function St(e){var t="";try{var a=e.column.dataField,n=e.column.related_module_name,o=a+"_link_id";t="/"+n+"/detail/"+e.data[o]+"/"}catch(i){t="#"}var l=e.value;return"datetime"!==e.column.dataType&&"date"!==e.column.dataType||(l=e.text),r.a.createElement("div",null,r.a.createElement("a",{href:t,target:"_blank",rel:"noopener noreferrer"},l),r.a.createElement("div",{className:"current-value"}))}function Mt(e){var t=e.value;return(t||0===t)&&(t="$ "+t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),r.a.createElement("div",null,r.a.createElement("div",{className:"current-value"},t))}var Tt=a(285),Nt=function(e){function t(){return Object(h.a)(this,t),Object(g.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.is_create_edit,n=t?t.length:0;return r.a.createElement("div",{className:"table-footer"},a?r.a.createElement("span",{className:"info-message"},r.a.createElement("i",{className:"fa fa-info-circle","aria-hidden":"true"})," Est\xe1 realizando una vista previa de un n\xfamero limitado de registros. Guarde y cierre el informe para ver todo."):r.a.createElement("span",{className:"info-message"},n+" registros"))}}]),t}(n.Component),Pt=Object(i.b)((function(e){return{data:e.general.charts_data,is_create_edit:e.general.is_create_edit}}))(Nt),It=a(208);function Rt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ht(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Rt(a,!0).forEach((function(t){Object(te.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Rt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Lt=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,a){var n=a().general||{};t({type:"SAVE_DATA_PENDING"}),fetch("/api/BLFlex/SaveReport/",{method:"POST",credentials:"same-origin",headers:{Accept:"application/json","X-Auth-Token":Ze(),"X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({id:n.id,name:n.report_header_data.name,description:n.report_header_data.description,selected_class:n.report_header_data.selected_class,visible_users:n.report_header_data.visible_users,visible_roles:n.report_header_data.visible_roles,visible_on_module:n.report_header_data.visible_on_module,module_path:n.report_header_data.module_path,select_list:n.columns,filter_list:n.filters,chart_list:n.chart_list,owner:{id:n.report_header_data.owner_id},owner_team:{id:n.report_header_data.owner_team_id},group_list:n.groups,version:2,metadata:JSON.stringify(Object.assign(n.report_header_data.metadata||{},{field_list:n.field_list}))})}).then((function(e){return e.json()})).then((function(a){if(!1===a.status)throw a.message;return c.b.success("Guardado satisfactoriamente"),t(B(a.data)),e&&(window.location.href="/BLFlex/detail/"+a.data.id),a.data})).catch((function(e){try{c.b.error(e)}catch(a){c.b.error("Ocurri\xf3 un error al guardar")}t(Z(e))}))}},qt=function(){return function(e,t){var a=t().general||{};null!==a.timeout_data_id&&"undefined"!==typeof a.timeout_data_id&&clearTimeout(a.timeout_data_id);var n="",r={};if(a.is_create_edit){n="/api/BLFlex/PreviewData/";var o=a.columns.filter((function(e){return!e.customFn}));r={module_path:a.report_header_data.module_path,selected_class:a.report_header_data.selected_class,module:a.report_header_data.module,filters:a.filters,columns:o,groups:a.groups}}else n="/api/BLFlex/UpdateData/",r={id:a.report_header_data.id,filter_list:a.filters,current_record:a.current_record?a.current_record:0};var l=setTimeout((function(){fetch(n,{method:"POST",credentials:"same-origin",headers:{Accept:"application/json","X-Auth-Token":Ze(),"X-Requested-With":"XMLHttpRequest"},body:JSON.stringify(r)}).then((function(e){return e.json()})).then((function(t){var n=a.field_list[0].options.map((function(e){return Object.assign({},Object(te.a)({},e.name,e.type))})).reduce((function(e,t){return Ht({},e,{},t)}),{}),r=a.columns.filter((function(e){return e.customFn})).concat(a.groups.filter((function(e){return e.customFn}))),o=r.map((function(e){return e.key_name})),l=r.map((function(e){return Object.assign({},Object(te.a)({},e.key_name,e.formula))})).reduce((function(e,t){return Ht({},e,{},t)}),{});if(!1===t.status)throw t.message;var i=function e(t){return t.replace(/props\((.*?)\)/g,(function(t,a){return-1===o.indexOf(a)?a in n&&-1!==["DecimalField","FloatField"].indexOf(n[a])?"(parseFloat(".concat(a," || 0))"):"(".concat(a,")"):"(".concat(e(l[a]),")")}))},c=t.data.map((function(e){var t=r.map((function(t){var a=function(e){return function(){return Ht({},Ye,{},e)}}(e)();return Object(te.a)({},t.key_name,Object(It.a)(Function,Object(We.a)(Object.keys(a)).concat(["return ".concat(i(t.formula))])).apply(void 0,Object(We.a)(Object.values(a))))})).reduce((function(e,t){return Ht({},e,{},t)}),{});return Ht({},e,{},t)}));return e(H(c)),c})).catch((function(t){e(function(e){return{type:"FETCH_PREVIEW_DATA_ERROR",error:e}}(t))}))}),500);e({type:"FETCH_PREVIEW_DATA_PENDING",timeout_id:l})}};Object(Ft.a)({defaultCurrency:"USD"});var Vt=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).onContentReady=function(e){if(a.dataGridRef&&a.dataGridRef.instance){var t=a.dataGridRef.instance.getCombinedFilter();if(t){var n=new wt.a({store:a.props.preview_data,paginate:!1});if(n){n.filter(t);var r=Object(D.a)(a);n.load().done((function(e){r.props.setChartsData(e)}))}}else a.props.setChartsData(a.props.preview_data)}},a.getModuleName=function(){var e=Object(f.a)(m.a.mark((function e(t,n,r){var o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=a.state.modules_by_path[t]){e.next=7;break}return e.next=4,fetch("/api/BLFlex/GetRelatedModuleByPath/",{method:"POST",credentials:"same-origin",headers:{Accept:"application/json","X-Auth-Token":Ze(),"X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({module_path:n,selected_class:r,path:t})}).then((function(e){return e.json()})).then((function(e){return e.data.module_name})).catch((function(e){return!1}));case 4:return e.abrupt("return",e.sent);case 7:return e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),a.getColumns=function(){var e=Object(f.a)(m.a.mark((function e(t){var n,o,l,i,c,s,u,d,p;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.columns,o=t.groups,l=["IntegerField","number","FloatField","CurrencyField","DecimalField"],i=n.concat(o),c=[],s=[],u=[],d=m.a.mark((function e(n){var d,p,f,h;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d=i[n],p={minWidth:200,dataField:d.key_name,caption:d.label},l.indexOf(d.type)>-1&&(p.dataType="number"),"CurrencyField"===d.type?p.cellTemplate="currencyCell":"FloatField"===d.type?p.format={type:"fixedPoint",precision:2}:"DecimalField"===d.type?p.format={type:"fixedPoint",precision:d.decimal_places||2}:"DateTimeField"===d.type?p.dataType="datetime":"DateField"===d.type&&(p.dataType="date"),d.isSorter&&(p.sortIndex=1,p.sortOrder=d.sortType||"asc"),f=o.findIndex((function(e){return e.key_name===d.key_name})),!(d.link&&"boolean"===typeof d.link||"True"===d.link)||-1!==f){e.next=11;break}return e.next=9,a.getModuleName(d.path,t.report_header_data.module_path,t.report_header_data.selected_class);case 9:p.related_module_name=e.sent,p.cellTemplate="linkCell";case 11:f>-1&&(p.groupIndex=f,p.cellTemplate=void 0),c.push(p),d.aggregate&&(h=void 0,"CurrencyField"===d.type&&"count"!==d.aggregate&&(h=function(e){var t=e.value;(t||0===t)&&(t="$ "+t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","));try{return e.valueText.replace(e.value,t)}catch(a){}return t}),o.length>0&&u.push(r.a.createElement(Ct.GroupItem,{key:"footer_group_"+d.key_name,column:d.key_name,showInGroupFooter:!1,alignByColumn:!0,summaryType:d.aggregate,valueFormat:p.format,customizeText:h})),s.push(r.a.createElement(Ct.TotalItem,{key:"footer_"+d.key_name,column:d.key_name,showInColumn:!0,summaryType:d.aggregate,valueFormat:p.format,customizeText:h})));case 14:case"end":return e.stop()}}),e)})),p=0;case 8:if(!(p<i.length)){e.next=13;break}return e.delegateYield(d(p),"t0",10);case 10:p++,e.next=8;break;case 13:a.setState({table_columns:c,footer_columns:s,group_footer_columns:u});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onOptionChanged=function(){var e=Object(f.a)(m.a.mark((function e(t){var n,r,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.fullName.endsWith("ortOrder"))try{n=t.fullName.split("]")[0].substr(-1),(r=a.props.columns[n]||null)&&(o={isSorter:!0,sortType:t.value},a.props.setSortColumns(r,o))}catch(l){console.log("error=> ",l)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Object(At.d)("es"),Object(At.c)(Dt),a.state={table_columns:[],footer_columns:[],group_footer_columns:[],modules_by_path:{}},a}return Object(y.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){var e=this;if("undefined"===typeof window["oreports_app_table_"+this.props.app_id]&&(window["oreports_app_table_"+this.props.app_id]=this),!this.dataGridRef||!this.dataGridRef.instance)return!1;this.props.table_filters.forEach((function(t){try{e.dataGridRef.instance.columnOption(t[0],"filterValue",t[2])}catch(a){console.log("error table_filters",a)}})),this.getColumns(this.props)}},{key:"componentWillReceiveProps",value:function(e){rt()(e.columns,this.props.columns)&&rt()(e.groups,this.props.groups)&&rt()(e.report_header_data.module_path,this.props.report_header_data.module_path)&&rt()(e.report_header_data.selected_class,this.props.report_header_data.selected_class)||this.getColumns(e)}},{key:"shouldComponentUpdate",value:function(e,t){var a=this;return e.loading!==this.props.loading&&this.dataGridRef&&this.dataGridRef.instance&&(e.loading?this.dataGridRef.instance.beginCustomLoading("Cargando"):this.dataGridRef.instance.endCustomLoading()),!!rt()(e.table_filters,this.props.table_filters)||!(!this.dataGridRef||!this.dataGridRef.instance)&&(e.table_filters.forEach((function(e){try{a.dataGridRef.instance.columnOption(e[0],"filterValue",e[2])}catch(t){console.log("error table_filters",t)}})),!1)}},{key:"render",value:function(){var e=this,t=this.state,a=t.table_columns,n=t.footer_columns,o=t.group_footer_columns,l=this.props.preview_data;return r.a.createElement("div",{className:"table-container"+(this.props.hidden?" hidden":"")},r.a.createElement(jt.a,{elementAttr:{id:"tableContainer"},ref:function(t){return e.dataGridRef=t},columns:a,dataSource:new wt.a({store:l,paginate:!1}),onOptionChanged:this.onOptionChanged,allowColumnReordering:!1,showBorders:!1,rowAlternationEnabled:!0,columnAutoWidth:!0,onContentReady:this.onContentReady,wordWrapEnabled:!0},r.a.createElement(Ct.Sorting,{mode:"single"}),r.a.createElement(Tt.Template,{name:"linkCell",render:St}),r.a.createElement(Tt.Template,{name:"currencyCell",render:Mt}),r.a.createElement(Ct.FilterRow,{visible:!0}),r.a.createElement(Ct.HeaderFilter,{visible:!0}),r.a.createElement(Ct.Scrolling,{mode:"virtual"}),r.a.createElement(Ct.Selection,{mode:"single"}),l.length>0?r.a.createElement(Ct.Summary,null,n,o):null),r.a.createElement(Pt,null))}}]),t}(r.a.Component),Ut=Object(i.b)((function(e){return{columns:e.general.columns,groups:e.general.groups,preview_data:e.general.preview_data,loading:e.general.loading,is_create_edit:e.general.is_create_edit,table_filters:e.general.table_filters,app_id:e.general.app_id,report_header_data:e.general.report_header_data}}),(function(e){return{setChartsData:function(t){e(function(e){return{type:"SET_CHARTS_DATA",data:e}}(t))},setSortColumns:function(){var t=Object(f.a)(m.a.mark((function t(a,n){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(R(a,n));case 2:e(qt());case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}}))(Vt),zt=a(803),Gt=a(800),Yt=a(799),Bt=[{value:"count",label:"Contar"},{value:"sum",label:"Sumar"},{value:"avg",label:"Promedio"},{value:"max",label:"Maximo"},{value:"min",label:"M\xednimo"}],Zt=function(e){function t(){return Object(h.a)(this,t),Object(g.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.onHandleChange,n=t.field,o=t.isCreateEdit;return r.a.createElement(M.a,null,r.a.createElement(T.a,null,r.a.createElement(N.a,{for:"module"},"M\xf3dulo"),r.a.createElement(P.a,{className:"input-sm",bsSize:"sm",type:"text",name:"module",disabled:!0,value:n.path})),r.a.createElement(T.a,null,r.a.createElement(N.a,{for:"name"},"Campo"),r.a.createElement(P.a,{className:"input-sm",bsSize:"sm",type:"text",name:"name",disabled:!0,value:n.name})),n.customFn?r.a.createElement(T.a,null,r.a.createElement(N.a,{for:"name"},"F\xf3rmula"),o?r.a.createElement(Yt.a,{color:"secondary",className:"edit-function-bagged-popover",onClick:function(){var t=Object(f.a)(m.a.mark((function t(a){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.props.dispatchSetModeModalFormula("edit"),e.props.dispatchSetIndexModalFormula(e.props.index),e.props.dispatchSetEditModeDataModalFormula({label:n.label,name:n.name,formula:n.formula,description:Object(re.cloneDeep)(le),section:"columns"}),document.getElementsByClassName("popover show bs-popover-auto")[0].parentNode.classList.toggle("hidden"),e.props.dispatchSetIsOpen(!0);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},r.a.createElement("i",{className:"fa fa-edit","aria-hidden":"true"})):null,r.a.createElement(P.a,{className:"input-sm",bsSize:"sm",type:"text",name:"name",disabled:!0,value:n.formula})):null,r.a.createElement(T.a,null,r.a.createElement(N.a,{for:"label"},"Etiqueta"),r.a.createElement(P.a,{disabled:!o,className:"input-sm",bsSize:"sm",type:"text",name:"label",onChange:function(e){a("label",e.target.value)},value:n.label})),r.a.createElement(T.a,null,r.a.createElement(N.a,{for:"aggregate"},"Operaci\xf3n"),r.a.createElement(S.a,{isDisabled:!o,placeholder:"Seleccione una operaci\xf3n",options:Bt,onChange:function(e){a("aggregate",e.value)},value:Bt.find((function(e){return e.value===n.aggregate}))})),r.a.createElement(T.a,{check:!0,inline:!0},r.a.createElement(N.a,{check:!0},"Enlace "," ",r.a.createElement(P.a,{disabled:!o,type:"checkbox",name:"link",onChange:function(e){a("link",e.target.checked?"True":"False")},checked:!!(n.link&&"boolean"===typeof n.link||"True"===n.link)}))))}}]),t}(n.Component),Wt=Object(i.b)(void 0,(function(e){return{dispatchSetIsOpen:function(t){return e($(t))},dispatchSetModeModalFormula:function(t){return e(J(t))},dispatchSetIndexModalFormula:function(t){return e(ee(t))},dispatchSetEditModeDataModalFormula:function(t){return e(Q(t))}}}))(Zt),Xt=a(240),Kt=a.n(Xt),$t=(a(678),a(430)),Jt=a(78);function Qt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var ea="",ta=function(e){var t=e.selectProps,a=t.labelKey,n=t.valueKey,o=Object.keys(e.data).filter((function(e){return!["id","_str_name"].includes(e)})),l=[],i=e.data[n];return o.forEach((function(t,a){var n=e.data[t].str,c=e.data[t].val;l.push(r.a.createElement("small",{key:n+"_opt_"+a+"_"+i},r.a.createElement("strong",null,n),":",c)),a<o.length&&l.push(r.a.createElement("br",{key:"br_opt_"+a+"_"+i}))})),r.a.createElement(Jt.z.Option,Object.assign({},e,{key:e.data.id}),e.data[a],r.a.createElement("br",null),l)},aa={indicatorSeparator:function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Qt(a,!0).forEach((function(t){Object(te.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Qt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{display:"none"})}},na=function(e){function t(e){var a;Object(h.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).getOptions=function(e){return!e||e.length<=3?Promise.resolve([]):fetch(ea+"/search_records_rel_select/"+a.props.fieldDef.module_name+"/",{method:"POST",credentials:"same-origin",headers:{Accept:"application/json","X-Auth-Token":Ze(),"X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({keyword:e,agent:"react-coreapp",store:Ja.getState()})}).then((function(e){return e.json()})).then((function(e){return e}))},a.promiseOptions=function(e){return new Promise((function(t){setTimeout((function(){t(a.getOptions(e))}),1e3)}))},a.openWindowSearch=function(){var e=a.props.fieldDef.name?a.props.fieldDef.name:"",t=ea+"/"+a.props.fieldDef.module_name+"/popup_index/?fieldId="+e;window.open(t,"popup","width=800,height=600,left=10,top=10")},a.noOptionsMessage=function(){return"No hay Registros"},a.dropdownIndicator=function(e,t){var n=!!a.props.isDisabled;return r.a.createElement("div",{className:""},r.a.createElement("button",{type:"button",disabled:n,className:"btn btn-transparent",onClick:a.openWindowSearch},r.a.createElement("i",{className:"fa fa-search"})))};var n=!!e.fieldDef&&e.fieldDef.selected_operator;return a.operatorMulti=["fk_in","fk_not_in"],a.state={msg:"",value:e.storeValue||"",labelKey:"_str_name",valueKey:"id",isMulti:a.operatorMulti.includes(n)},a.handleChange=a.handleChange.bind(Object(D.a)(a)),a.getOptions=a.getOptions.bind(Object(D.a)(a)),a}return Object(y.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("message",(function(t){try{var a=JSON.parse(t.data);if(a.fieldId===e.props.fieldDef.name){var n=a.value,r=oe.a.cloneDeep(e.state.value);if(e.state.isMulti)r&&0!==r.length||(r=[]),r.find((function(t){return t[e.state.valueKey]===n[e.state.valueKey]}))||r.push(n);else r=n;e.handleChange(r)}}catch(o){}}))}},{key:"componentWillReceiveProps",value:function(e){var t=this,a=this.operatorMulti.includes(e.selected_operator);if(this.state.isMulti!==a){var n=this.state.value,r=[];n&&oe.a.isArray(n)&&n.length>0&&!a&&(r=n[0]),a&&n&&r.push(n),this.setState({isMulti:a},(function(){t.handleChange(r)}))}}},{key:"handleChange",value:function(e){var t=this;this.setState({value:e},(function(){t.props.updateSectionItem(t.props.storeSection,t.props.index,t.props.property,e)}))}},{key:"renderOption",value:function(e){var t=[];for(var a in e)["id","_str_name"].includes(a)||t.push(r.a.createElement("span",{key:a}," ",r.a.createElement("b",null," ",e[a].str,":"),e[a].val,r.a.createElement("br",null)," "));return r.a.createElement("div",null," ",t," ")}},{key:"renderValue",value:function(e){return r.a.createElement("div",null,e._str_name)}},{key:"hackFilterOptions",value:function(e,t,a){return e}},{key:"render",value:function(){var e=this,t=this.props.fieldDef.name?this.props.fieldDef.name:"",a=this.props.fieldDef.class?this.props.fieldDef.class:"",n=this.props.fieldDef.label?this.props.fieldDef.label:"",o=!this.props.fieldDef.printLabel||this.props.fieldDef.printLabel,l="id_"+t,i=this.props.fieldDef.placeHolder?this.props.fieldDef.placeHolder:"",c=!!this.props.pureField,s=!!this.props.isDisabled,u=this.state.isMulti,d=r.a.createElement("div",null,r.a.createElement($t.a,{isMulti:u,styles:aa,loadOptions:this.promiseOptions,cacheOptions:!0,isClearable:!0,disabled:s,filterOptions:this.hackFilterOptions,autoload:!1,labelKey:this.state.labelKey,valueKey:this.state.valueKey,components:{Option:ta,DropdownIndicator:this.dropdownIndicator},dropdownIndicator:this.dropdownIndicator,getOptionLabel:function(t){return t[e.state.labelKey]||""},getOptionValue:function(t){return t[e.state.valueKey]},isDisabled:s,noOptionsMessage:this.noOptionsMessage,name:t,ignoreAccents:!1,id:l,placeholder:i,value:this.state.value,className:a+" col  clearIndicator",onChange:this.handleChange}));return c?d:r.a.createElement(T.a,null,r.a.createElement(N.a,{for:l},o?n:""),d)}}]),t}(r.a.Component),ra=Object(i.b)((function(e){return{}}),(function(e){return{updateSectionItem:function(){var t=Object(f.a)(m.a.mark((function t(a,n,r,o){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(Y(a,n,r,o));case 2:e(qt());case 3:case"end":return t.stop()}}),t)})));return function(e,a,n,r){return t.apply(this,arguments)}}()}}))(na),oa=[{value:"False",label:"No"},{value:"True",label:"Si"}],la=["between"],ia=["equal","not_equal","before","after","between"],ca=["last_n_days","next_n_days"],sa=function(e){function t(){return Object(h.a)(this,t),Object(g.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onHandleChange,a=e.field,n=e.isCreateEdit,o=e.section,l=e.index,i=a.filter_options?a.filter_options.map((function(e){return e.value=e.key,e})):[],c=null,s=null,u=!n&&(!a.allow_edit||"False"===a.allow_edit),d=r.a.createElement(T.a,null,r.a.createElement(N.a,{for:"equal_from"},"Igual/Desde"),r.a.createElement(P.a,{disabled:u,className:"input-sm",bsSize:"sm",type:"text",name:"equal_from",onChange:function(e){t("equal_from",e.target.value)},value:a.equal_from})),p=r.a.createElement(T.a,null,r.a.createElement(N.a,{for:"equal_from"},"Hasta"),r.a.createElement(P.a,{disabled:u,className:"input-sm",bsSize:"sm",type:"text",name:"to",onChange:function(e){t("to",e.target.value)},value:a.to}));if("DateField"===a.type||"DateTimeField"===a.type)if(ia.indexOf(a.selected_operator)>-1){var m=null;try{a.equal_from&&(m=Oe(a.equal_from)?a.equal_from:ne()(a.equal_from).toDate())}catch(g){}if(c="DateField"===a.type?r.a.createElement(T.a,null,r.a.createElement(N.a,{for:"equal_from"},"Igual/Desde"),r.a.createElement("br",null),r.a.createElement(Kt.a,{selected:m,onChange:function(e){t("equal_from",e)},dateFormat:"dd/MM/yyyy",className:"form-control",isClearable:!0,disabled:u})):r.a.createElement(T.a,null,r.a.createElement(N.a,{for:"equal_from"},"Igual/Desde"),r.a.createElement("br",null),r.a.createElement(Kt.a,{selected:m,onChange:function(e){t("equal_from",e)},showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,dateFormat:"dd/MM/yyyy HH:mm",timeCaption:"time",className:"form-control",isClearable:!0,disabled:u})),la.indexOf(a.selected_operator)>-1){var f=null;try{a.to&&(f=Oe(a.to)?a.to:ne()(a.to).toDate())}catch(g){}s="DateField"===a.type?r.a.createElement(T.a,null,r.a.createElement(N.a,{for:"to"},"Hasta"),r.a.createElement("br",null),r.a.createElement(Kt.a,{selected:f,onChange:function(e){t("to",e)},dateFormat:"dd/MM/yyyy",className:"form-control",isClearable:!0,disabled:u})):r.a.createElement(T.a,null,r.a.createElement(N.a,{for:"to"},"Hasta"),r.a.createElement("br",null),r.a.createElement(Kt.a,{selected:f,onChange:function(e){t("to",e)},showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,dateFormat:"dd/MM/yyyy HH:mm",timeCaption:"time",className:"form-control",isClearable:!0,disabled:u}))}}else ca.indexOf(a.selected_operator)>-1&&(c=r.a.createElement(T.a,null,r.a.createElement(N.a,{for:"equal_from"},"Igual/Desde"),r.a.createElement("br",null),r.a.createElement(P.a,{disabled:u,className:"input-sm",bsSize:"sm",type:"number",name:"equal_from",onChange:function(e){t("equal_from",e.target.value)},value:a.equal_from})));else if("BooleanField"===a.type)["fk_not_in","fk_in","null_or_empty","not_empty","empty","current_user_code","current_record"].includes(a.selected_operator)||(c=r.a.createElement(T.a,null,r.a.createElement(N.a,{for:"equal_from"},"Igual/Desde"),r.a.createElement(S.a,{isDisabled:u,isMulti:!0,name:"equal_from",options:oa,onChange:function(e){t("equal_from",e?e.map((function(e){return e.value})):[])},value:"undefined"!==typeof a.equal_from?oa.filter((function(e){return-1!==a.equal_from.indexOf(e.value)})):null})));else if(a.choices&&["CharField","SelectField","MultiSelectField"].includes(a.type)){if(!["fk_not_in","fk_in","null_or_empty","not_empty","empty","current_user_code","current_record"].includes(a.selected_operator)){var h=a.choices?a.choices.map((function(e){return{value:e[0],label:e[1]}})):[];c=r.a.createElement(T.a,null,r.a.createElement(N.a,{for:"equal_from"},"Igual/Desde"),r.a.createElement(S.a,{isDisabled:u,isMulti:!0,name:"equal_from",options:h,onChange:function(e){t("equal_from",e?e.map((function(e){return e.value})):[])},value:"undefined"!==typeof a.equal_from?h.filter((function(e){return-1!==a.equal_from.indexOf(e.value)})):null}))}}else if("ForeignKey"===a.type)if(["not_equal","equal","fk_in","fk_not_in"].includes(a.selected_operator)){var _=a.equal_from;c=r.a.createElement(ra,{fieldDef:a,storeSection:o,property:"equal_from",index:l,name:a.name,storeValue:_,selected_operator:a.selected_operator,onChange:function(e){t("equal_from",e.target.value)},isDisabled:u})}else["null_or_empty","not_empty","empty","current_user_code","current_record","current_user"].includes(a.selected_operator)||(c=d);else["fk_not_in","fk_in","null_or_empty","not_empty","empty","current_user_code","current_record"].includes(a.selected_operator)||(c=d),"between"===a.selected_operator&&(s=p);return r.a.createElement(M.a,null,r.a.createElement(T.a,null,r.a.createElement(N.a,{for:"module"},"M\xf3dulo"),r.a.createElement(P.a,{className:"input-sm",bsSize:"sm",type:"text",name:"module",disabled:!0,value:a.path})),r.a.createElement(T.a,null,r.a.createElement(N.a,{for:"name"},"Campo"),r.a.createElement(P.a,{className:"input-sm",bsSize:"sm",type:"text",name:"name",disabled:!0,value:a.name})),r.a.createElement(T.a,null,r.a.createElement(N.a,{for:"label"},"Etiqueta"),r.a.createElement(P.a,{disabled:!n,className:"input-sm",bsSize:"sm",type:"text",name:"label",onChange:function(e){t("label",e.target.value)},value:a.label})),r.a.createElement(T.a,null,r.a.createElement(N.a,{for:"type"},"Tipo"),r.a.createElement(P.a,{className:"input-sm",bsSize:"sm",type:"text",name:"type",disabled:!0,value:a.type})),r.a.createElement(T.a,null,r.a.createElement(N.a,{for:"aggregate"},"Operador"),r.a.createElement(S.a,{isDisabled:u,options:i,onChange:function(e){t("selected_operator",e.value)},value:i.find((function(e){return e.value===a.selected_operator}))})),a.selected_operator?c:null,a.selected_operator?s:null,r.a.createElement(T.a,{check:!0,inline:!0},r.a.createElement(N.a,{check:!0},"Editable "," ",r.a.createElement(P.a,{disabled:!n,type:"checkbox",name:"allow_edit",onChange:function(e){t("allow_edit",e.target.checked?"True":"False")},checked:!!(a.allow_edit&&"boolean"===typeof a.allow_edit||"True"===a.allow_edit)}))))}}]),t}(n.Component),ua=function(e){function t(){return Object(h.a)(this,t),Object(g.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.onHandleChange,n=t.field,o=t.isCreateEdit;return r.a.createElement(M.a,null,r.a.createElement(T.a,null,r.a.createElement(N.a,{for:"module"},"M\xf3dulo"),r.a.createElement(P.a,{className:"input-sm",bsSize:"sm",type:"text",name:"module",disabled:!0,value:n.path})),r.a.createElement(T.a,null,r.a.createElement(N.a,{for:"name"},"Campo"),r.a.createElement(P.a,{className:"input-sm",bsSize:"sm",type:"text",name:"name",disabled:!0,value:n.name})),n.customFn?r.a.createElement(T.a,null,r.a.createElement(N.a,{for:"name"},"F\xf3rmula"),o?r.a.createElement(Yt.a,{color:"secondary",className:"edit-function-bagged-popover",onClick:function(){var t=Object(f.a)(m.a.mark((function t(a){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.props.dispatchSetModeModalFormula("edit"),e.props.dispatchSetIndexModalFormula(e.props.index),e.props.dispatchSetEditModeDataModalFormula({label:n.label,name:n.name,formula:n.formula,description:Object(re.cloneDeep)(le),section:"groups"}),document.getElementsByClassName("popover show bs-popover-auto")[0].parentNode.classList.toggle("hidden"),e.props.dispatchSetIsOpen(!0);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},r.a.createElement("i",{className:"fa fa-edit","aria-hidden":"true"})):null,r.a.createElement(P.a,{className:"input-sm",bsSize:"sm",type:"text",name:"name",disabled:!0,value:n.formula})):null,r.a.createElement(T.a,null,r.a.createElement(N.a,{for:"label"},"Etiqueta"),r.a.createElement(P.a,{disabled:!o,className:"input-sm",bsSize:"sm",type:"text",name:"label",onChange:function(e){a("label",e.target.value)},value:n.label})))}}]),t}(n.Component),da=Object(i.b)(void 0,(function(e){return{dispatchSetIsOpen:function(t){return e($(t))},dispatchSetModeModalFormula:function(t){return e(J(t))},dispatchSetIndexModalFormula:function(t){return e(ee(t))},dispatchSetEditModeDataModalFormula:function(t){return e(Q(t))}}}))(ua),pa={preventOverflow:{enabled:!1},hide:{enabled:!1},flip:{enabled:!1}},ma=function(e){function t(){return Object(h.a)(this,t),Object(g.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e=this.props,t=e.field,a=e.onRemove,n=e.index,o=e.onHandleChange,l=e.section,i=e.isDragDisabled,c=e.isCreateEdit,s=null;switch(l){case"groups":s=r.a.createElement(da,{field:t,onHandleChange:o,index:n,section:l,isCreateEdit:c});break;case"filters":s=r.a.createElement(sa,{field:t,onHandleChange:o,index:n,section:l,isCreateEdit:c});break;default:s=r.a.createElement(Wt,{field:t,onHandleChange:o,index:n,section:l,isCreateEdit:c})}return r.a.createElement(v.b,{draggableId:t.key_name+"_"+n,index:n,isDragDisabled:i},(function(e,o){return r.a.createElement("div",Object.assign({},e.draggableProps,e.dragHandleProps,{ref:e.innerRef,className:"draggable-field-container"}),r.a.createElement("div",{id:"Popover-"+t.key_name+"_"+n,className:"draggable-field"},r.a.createElement("span",{className:"draggable-field-label"},t.label),c?r.a.createElement("i",{className:"fa fa-times-circle","aria-hidden":"true",onClick:a}):null),r.a.createElement(zt.a,{placement:"right-start",target:"Popover-"+t.key_name+"_"+n,trigger:"legacy",modifiers:pa,delay:0,fade:!1},r.a.createElement(Gt.a,{className:"oreports-popover"},s)))}))}}]),t}(n.Component);function fa(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var ha=function(e){for(var t=e.innerref,a=e.children,n=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?fa(a,!0).forEach((function(t){Object(te.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):fa(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e),o=e.className,l=0,i=["innerref","dragging","dispatch","snapshot"];l<i.length;l++){delete n[i[l]]}return r.a.createElement("div",Object.assign({ref:t},n,{className:o}),a)},_a=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(g.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={selected_option:""},a}return Object(y.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.title,n=t.notitle,o=t.field_list,l=t.section,i=t.fields,c=t.is_create_edit,s=t.titleButton;return r.a.createElement("div",{className:"fields-main-container"},r.a.createElement("div",{className:"fields-title-container"},n?null:r.a.createElement("div",{className:"fields-title-label-container"},r.a.createElement(N.a,{size:"15"},a)),s?r.a.createElement("div",{className:"fields-title-action-container"},r.a.createElement(C.a,{className:s.classes,onClick:s.click,size:"sm"},r.a.createElement("i",{className:s.classIcon,"aria-hidden":"true"}))):null),c?r.a.createElement(S.a,{placeholder:"Seleccione un campo",options:o,onChange:function(t){e.props.addField(l,t)},value:this.state.selected_option}):null,r.a.createElement(v.c,{droppableId:l},(function(t,a){return r.a.createElement(ha,Object.assign({className:"fields-container"+(e.props.dragging?" box-bordered":""),innerref:t.innerRef},t.droppableProps,{snapshot:a}),i.map((function(t,a){return r.a.createElement(ma,{isCreateEdit:c,isDragDisabled:!c,section:l,field:t,index:a,key:t.key_name+"_"+a,onRemove:function(){e.props.removeField(l,a)},onHandleChange:function(t,n){e.props.updateSectionItem(l,a,t,n)}})})),t.placeholder)})))}}]),t}(n.Component),ga=Object(i.b)((function(e){return{dragging:e.general.dragging,is_create_edit:e.general.is_create_edit}}),(function(e){return{addField:function(){var t=Object(f.a)(m.a.mark((function t(a,n){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(L(a,n));case 2:e(qt());case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),removeField:function(){var t=Object(f.a)(m.a.mark((function t(a,n){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(q(a,n));case 2:e(qt());case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),updateSectionItem:function(){var t=Object(f.a)(m.a.mark((function t(a,n,r,o){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(Y(a,n,r,o));case 2:e(qt());case 3:case"end":return t.stop()}}),t)})));return function(e,a,n,r){return t.apply(this,arguments)}}()}}))(_a),ba=(a(233),a(770),a(345)),ya=a.n(ba),va=a(435),Ea=a.n(va),Oa=(a(776),window.ace.acequire("ace/mode/doc_comment_highlight_rules").DocCommentHighlightRules);var xa=function(e){function t(){var e;Object(h.a)(this,t),e=Object(g.a)(this,Object(b.a)(t).call(this));for(var a="",n=0;n<ie.length;n++){a+=ie[n].name+"|"}var r=e.createKeywordMapper({"variable.language":"Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|Namespace|QName|XML|XMLList|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt|JSON|Math|this|arguments|prototype|window|document",keyword:"const|yield|import|get|set|break|case|catch|continue|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|"+a+"__parent__|__count__|escape|unescape|with|__proto__|class|enum|extends|super|export|implements|private|public|interface|package|protected|static","storage.type":"const|let|var|function","constant.language":"null|Infinity|NaN|undefined","support.function":"alert","constant.language.boolean":"true|false"},"identifier"),o="\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|[0-2][0-7]{0,2}|3[0-6][0-7]?|37[0-7]?|[4-7][0-7]?|.)",l="[a-zA-Z\\$_\xa1-\uffff][a-zA-Z\\d\\$_\xa1-\uffff]*\\b";return e.$rules={no_regex:[{token:"comment",regex:"\\/\\/",next:"line_comment"},Oa.getStartRule("doc-start"),{token:"comment",regex:/\/\*/,next:"comment"},{token:"string",regex:"'(?=.)",next:"qstring"},{token:"string",regex:'"(?=.)',next:"qqstring"},{token:"constant.numeric",regex:/0[xX][0-9a-fA-F]+\b/},{token:"constant.numeric",regex:/[+-]?\d+(?:(?:\.\d*)?(?:[eE][+-]?\d+)?)?\b/},{token:["storage.type","punctuation.operator","support.function","punctuation.operator","entity.name.function","text","keyword.operator"],regex:"("+l+")(\\.)(prototype)(\\.)("+l+")(\\s*)(=)",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+l+")(\\.)("+l+")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+l+")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","entity.name.function","text","paren.lparen"],regex:"("+l+")(\\.)("+l+")(\\s*)(=)(\\s*)(function)(\\s+)(\\w+)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","entity.name.function","text","paren.lparen"],regex:"(function)(\\s+)("+l+")(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","punctuation.operator","text","storage.type"],regex:"("+l+")(\\s*)(\\s*)(\\s*)(\\()",next:"function_arguments"},{token:["text","text","storage.type","text","paren.lparen"],regex:"(:)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:"keyword",regex:"(?:case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void)\\b",next:"start"},{token:["punctuation.operator","support.function"],regex:/(\.)(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/},{token:["punctuation.operator","support.function.dom"],regex:/(\.)(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName|ClassName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/},{token:["punctuation.operator","support.constant"],regex:/(\.)(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/},{token:["support.constant"],regex:/that\b/},{token:["storage.type","punctuation.operator","support.function.firebug"],regex:/(console)(\.)(warn|info|log|error|time|trace|timeEnd|assert)\b/},{token:r,regex:l},{token:"keyword.operator",regex:/--|\+\+|===|==|=|!=|!==|<=|>=|<<=|>>=|>>>=|<>|<|>|!|&&|\|\||\?\:|[!$%&*+\-~\/^]=?/,next:"start"},{token:"punctuation.operator",regex:/[?:,;.]/,next:"start"},{token:"paren.lparen",regex:/[\[({]/,next:"start"},{token:"paren.rparen",regex:/[\])}]/},{token:"comment",regex:/^#!.*$/}],start:[Oa.getStartRule("doc-start"),{token:"comment",regex:"\\/\\*",next:"comment_regex_allowed"},{token:"comment",regex:"\\/\\/",next:"line_comment_regex_allowed"},{token:"string.regexp",regex:"\\/",next:"regex"},{token:"text",regex:"\\s+|^$",next:"start"},{token:"empty",regex:"",next:"no_regex"}],regex:[{token:"regexp.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"string.regexp",regex:"/[sxngimy]*",next:"no_regex"},{token:"invalid",regex:/\{\d+\b,?\d*\}[+*]|[+*$^?][+*]|[$^][?]|\?{3,}/},{token:"constant.language.escape",regex:/\(\?[:=!]|\)|\{\d+\b,?\d*\}|[+*]\?|[()$^+*?.]/},{token:"constant.language.delimiter",regex:/\|/},{token:"constant.language.escape",regex:/\[\^?/,next:"regex_character_class"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp"}],regex_character_class:[{token:"regexp.charclass.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"constant.language.escape",regex:"]",next:"regex"},{token:"constant.language.escape",regex:"-"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp.charachterclass"}],function_arguments:[{token:"variable.parameter",regex:l},{token:"punctuation.operator",regex:"[, ]+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],comment_regex_allowed:[Oa.getTagRule(),{token:"comment",regex:"\\*\\/",next:"start"},{defaultToken:"comment",caseInsensitive:!0}],comment:[Oa.getTagRule(),{token:"comment",regex:"\\*\\/",next:"no_regex"},{defaultToken:"comment",caseInsensitive:!0}],line_comment_regex_allowed:[Oa.getTagRule(),{token:"comment",regex:"$|^",next:"start"},{defaultToken:"comment",caseInsensitive:!0}],line_comment:[Oa.getTagRule(),{token:"comment",regex:"$|^",next:"no_regex"},{defaultToken:"comment",caseInsensitive:!0}],qqstring:[{token:"constant.language.escape",regex:o},{token:"string",regex:"\\\\$",next:"qqstring"},{token:"string",regex:'"|$',next:"no_regex"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:o},{token:"string",regex:"\\\\$",next:"qstring"},{token:"string",regex:"'|$",next:"no_regex"},{defaultToken:"string"}]},e}return Object(y.a)(t,e),t}(window.ace.acequire("ace/mode/text_highlight_rules").TextHighlightRules),ka=function(e){function t(){var e;return Object(h.a)(this,t),(e=Object(g.a)(this,Object(b.a)(t).call(this))).HighlightRules=xa,e}return Object(y.a)(t,e),t}(window.ace.acequire("ace/mode/javascript").Mode),Ca=a(801);function ja(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function wa(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ja(a,!0).forEach((function(t){Object(te.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ja(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Da=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).state={label:"",name:"",formula:"",description:Object(re.cloneDeep)(le),section:"columns",formulaHelper:!1,formulaDescriptions:ie},a.onHandleChange=a.onHandleChange.bind(Object(D.a)(a)),a.addToFormula=a.addToFormula.bind(Object(D.a)(a)),a.onAddField=a.onAddField.bind(Object(D.a)(a)),a.onHandleChangeFn=a.onHandleChangeFn.bind(Object(D.a)(a)),a.isOpen=!1,a}return Object(y.a)(t,e),Object(_.a)(t,[{key:"componentWillReceiveProps",value:function(e){"edit"===e.modalFormulaMode?this.setState(Object(re.cloneDeep)(e.modalFormulaEditModeData)):this.setState({label:"",name:"",formula:"",description:Object(re.cloneDeep)(le),section:"columns"})}},{key:"onHandleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(wa({},this.state,{},Object(te.a)({},a,n)))}},{key:"onHandleChangeEditor",value:function(e){this.setState(wa({},this.state,{},Object(te.a)({},"formula",e)))}},{key:"onHandleChangeFn",value:function(e){Ve(e)?this.setState(wa({},this.state,{},{description:Object(re.cloneDeep)(le)})):this.setState(wa({},this.state,{},{description:Object(re.cloneDeep)(e)}))}},{key:"addToFormula",value:function(e){if(e){var t=e.name;this.setState(wa({},this.state,{},{formula:"".concat(this.state.formula," props(").concat(t,") ")}))}}},{key:"onAddField",value:function(e){if(this.state.label){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Be(e);return"_"===(t=(t="cstm_formula_"+t).replace(/_+/g,"_").substr(0,50)).slice(t.length-1)?t.slice(0,-1):t}(this.state.label),a=this.props.columns.map((function(e){return e.key_name})).concat(this.props.groups.map((function(e){return e.key_name})));if("edit"===this.props.modalFormulaMode||-1===a.indexOf(t))if(this.state.formula){var n={error:!1,description:""},r=this.props.columns.filter((function(e){return e.customFn})).concat(this.props.groups.filter((function(e){return e.customFn}))),o=this.props.columns.filter((function(e){return!e.customFn})).concat(this.props.groups.filter((function(e){return!e.customFn}))),l=o.map((function(e){return e.key_name})),i=r.map((function(e){return e.key_name})),s=r.map((function(e){return Object.assign({},Object(te.a)({},e.key_name,e.formula))})).reduce(Ue,{}),u=function e(t,a,r,l){return t.replace(/props\((.*?)\)/g,(function(t,i){if(-1===r.indexOf(i)){if(-1!==a.indexOf(i)){var c=o.find((function(e){return e.key_name===i})).type,s=Ge(c);return"CharField"===c||"DateTimeField"===c||"DateField"===c?"'".concat(s,"'"):s}return n.error=!0,n.description="El operando ".concat(i," no pertenece a la lista de columnas seleccionadas"),""}return"(".concat(e(l[i],a,r,l),")")}))}(this.state.formula,l,i,s);if(n.error)c.b.error("Formula invalida: ".concat(u));else{var d,p=void 0;try{p=Object(It.a)(Function,Object(We.a)(Object.keys(Ye)).concat(["try {\n\t\t\t\t\treturn ".concat(u,"\n\t\t\t\t} catch (err)  {\n\t\t\t\t\treturn err\n\t\t\t\t}")])).apply(void 0,Object(We.a)(Object.values(Ye)))}catch(h){return void c.b.error("Se produjo un error al evaluar la f\xf3rmula")}if(p instanceof Error)c.b.error(p.message);else if(d=-1!==u.indexOf("changeFormat")?"CharField":function(e){var t,a=(t=e,{}.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase());return"string"===a?e.length>=10&&Ce(e)?e.length>10?"DateTimeField":"DateField":"CharField":"number"===a?e%1===0?"IntegerField":"FloatField":"boolean"===a?"BooleanField":"undefined"===a&&"CharField"}(p)){var m=function(e){switch(e){case"CharField":return Object(re.cloneDeep)(ce);case"IntegerField":return Object(re.cloneDeep)(se);case"FloatField":return Object(re.cloneDeep)(ue);case"DateTimeField":return Object(re.cloneDeep)(de);case"DateField":return Object(re.cloneDeep)(pe);case"BooleanField":return Object(re.cloneDeep)(me);default:return Object(re.cloneDeep)(ce)}}(d);if("edit"===this.props.modalFormulaMode)this.props.dispatchUpdateSectionItem(this.state.section,this.props.index,"formula",this.state.formula),this.props.dispatchUpdateSectionItem(this.state.section,this.props.index,"label",this.state.label),this.props.dispatchUpdateSectionItem(this.state.section,this.props.index,"type",m.type),this.props.dispatchUpdateSectionItem(this.state.section,this.props.index,"filter_options",wa({},m.filter_options));else{var f=wa({name:t,label:this.state.label},m,{path:this.props.selected_class,key_name:t,customFn:!0,formula:this.state.formula});this.props.dispatchAddField("columns",f)}this.props.dispatchFetchPreviewData(),this.setState(Object(re.cloneDeep)(fe)),this.props.dispatchSetIsOpen(!1)}else c.b.error("Se obtuvo un tipo inesperado. datos: ".concat(u))}}else c.b.error("Por favor ingrese una f\xf3rmula");else c.b.error("Ya existe llave columna con el valor ".concat(t))}else c.b.error("Por favor ingrese un nombre a la columna")}},{key:"detectFunctions",value:function(e){var t=this;try{var a=e,n={column:a.cursor.column,row:a.cursor.row},r=a.doc.$lines[n.row].slice(0,n.column+1);if("("===r.slice(-1)){var o=r.slice(0,r.length-1).split(/\(|\)|--|\+\+|===|==|=|!=|!==|<=|>=|<<=|>>=|>>>=|<>|<|>|!|&&|\|\||\?\:|[!$%&*+\-~\/^]=?/).pop().replaceAll(" ","");ie.forEach((function(e){e.name===o&&t.setState(wa({},t.state,{},{description:Object(re.cloneDeep)(e)}))}))}else this.state.formulaHelper||this.setState(wa({},this.state,{},{description:Object(re.cloneDeep)(le)}))}catch(l){console.log("detectFunctions",l)}}},{key:"render",value:function(){var e=this;return r.a.createElement(j.a,{scrollable:!1,centered:!0,size:"lg",isOpen:this.props.modalFormulaisOpen,toggle:function(){return e.props.dispatchSetIsOpen(!1)},className:"config-modal"},r.a.createElement(k.a,{toggle:function(){return e.props.dispatchSetIsOpen(!1)}},"F\xf3rmula"),r.a.createElement(w.a,null,r.a.createElement("div",{className:"formula-modal-edit-container"},r.a.createElement("div",{className:"formula-modal-row"},r.a.createElement(x.a,null,r.a.createElement(T.a,null,r.a.createElement(N.a,{for:"label"},"Nombre Columna"),r.a.createElement(P.a,{type:"text",name:"label",id:"label",className:"input-sm",bsSize:"sm",value:this.state.label,onChange:function(t){return e.onHandleChange(t)}})))),r.a.createElement("div",{className:"formula-modal-row"},r.a.createElement(x.a,null,r.a.createElement(T.a,null,r.a.createElement(N.a,{for:"name"},"F\xf3rmula",r.a.createElement(Yt.a,{color:"secondary",className:this.state.formulaHelper?"active-option-button":"formula-edit-help",onClick:function(){var t=Object(f.a)(m.a.mark((function t(a){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState(wa({},e.state,{},{formulaHelper:!e.state.formulaHelper}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},r.a.createElement("i",{className:"fa fa-question-circle","aria-hidden":"true"}))),r.a.createElement(Ea.a,{ref:"aceEditor",placeholder:"year(props(creation_date)) ...",mode:"text",theme:"monokai",name:"formula",onLoad:function(t){setTimeout((function(){var a=new ka;t.session.setMode(a),function(e,t){var a={getCompletions:function(a,n,r,o,l){l(null,e.concat(t).map((function(e){return e.examples?{caption:e.name,value:e.printFormula(),meta:"Funci\xf3n",obj:e}:{caption:e.label,value:"props("+e.key_name+")",meta:"Columna"}})))}};ya.a.setCompleters([a])}(ie,e.props.columns.concat(e.props.groups))}),100)},onChange:function(t){e.onHandleChangeEditor(t)},onCursorChange:function(t){return e.detectFunctions(t)},value:this.state.formula,fontSize:14,setOptions:{enableBasicAutocompletion:!0,showLineNumbers:!0,enableLiveAutocompletion:!0},showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,style:{width:"100%",height:"100px"}}),this.state.description&&""!==this.state.description.label||this.state.formulaHelper?r.a.createElement("ul",{className:"formula-helper-container"},r.a.createElement("li",{className:"formula-helper"},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{className:"helper-option-list",style:{width:"30%",marginRight:"5%"}},r.a.createElement("h5",null,"Funciones"),r.a.createElement("ul",null,ie.map((function(t,a){return r.a.createElement("li",{style:{listStyle:"none"},key:a},r.a.createElement("button",{color:"secondary",className:e.state.description.name!==t.name?"helper-funtion-option":"helper-funtion-option active-option-button",onClick:function(){return e.onHandleChangeFn(t)}},t.label))})))),this.state.description&&""!==this.state.description.label?r.a.createElement("div",{className:"helper-option-detail",style:{width:"65%"}},r.a.createElement("h4",null,this.state.description.label," ",r.a.createElement("span",{style:{fontSize:"12px",fontFamily:"Avenir-Book,Arial,Helvetica,sans-serif"}},"(",r.a.createElement("i",null,this.state.description.name),")")),r.a.createElement("p",null,this.state.description.description),r.a.createElement("h5",null,this.state.description.syntax&&"Sintax"),this.state.description.syntax&&r.a.createElement(Ca.a,{color:"dark"},r.a.createElement("i",null,this.state.description.syntax)),r.a.createElement("h5",null,!!this.state.description.examples.length&&"Ejemplos"),this.state.description.examples.map((function(e,t){return r.a.createElement(Ca.a,{key:t,color:"dark"},r.a.createElement("i",null,e))}))):null))):null))))),r.a.createElement(I.a,null,r.a.createElement(C.a,{color:"primary",className:"btn_primary_def_1",onClick:this.onAddField},"edit"===this.props.modalFormulaMode?"Aceptar":"Agregar"),r.a.createElement(C.a,{color:"secondary",className:"btn_secondary_def_1",onClick:function(t){e.props.dispatchSetIsOpen(!1),e.setState(Object(re.cloneDeep)(fe))}},"Cancelar")))}}]),t}(n.Component),Aa=Object(i.b)((function(e){var t=e.modalFormula,a=e.general;return{modalFormulaisOpen:t.isOpen,modalFormulaMode:t.mode,modalFormulaEditModeData:t.edit_mode_data,selected_class:a.report_header_data.selected_class,columns:a.columns,groups:a.groups,index:t.index}}),(function(e){return{dispatchSetIsOpen:function(t){return e($(t))},dispatchAddField:function(t,a){return e(L(t,a))},dispatchFetchPreviewData:function(){return e(qt())},dispatchUpdateSectionItem:function(t,a,n,r){e(Y(t,a,n,r))}}}))(Da),Fa=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).toggleCollapse=function(){a.setState((function(e){return{collapse:!e.collapse}}))},a.openEditFormula=function(){a.props.dispatchSetModeModalFormula("add"),a.props.dispatchSetIsOpen(!0)},a.filterFieldList=function(e){var t=[];return a.props.field_list.forEach((function(a){var n=F()(a);if(n.options){for(var r=[],o=0;o<n.options.length;o++){var l=n.options[o];-1===e.indexOf(l.key_name)&&r.push(l)}n.options=r,t.push(n)}})),t},a.state={current_tab:0,collapse:!e.is_create_edit},a}return Object(y.a)(t,e),Object(_.a)(t,[{key:"changeTab",value:function(e){this.setState({current_tab:e})}},{key:"onClickIcon",value:function(){var e=Math.abs(this.state.current_tab-1);this.setState({current_tab:e})}},{key:"render",value:function(){var e=this,t=this.props,a=t.columns,n=t.groups,o=t.filters,l=t.is_create_edit,i=a.map((function(e){return e.key_name})).concat(n.map((function(e){return e.key_name})));return this.state.collapse?r.a.createElement("div",{className:"oreports-sidebar collapsed"},r.a.createElement("div",{className:"sidebar-header"},r.a.createElement("div",{className:"sidebar-icon",onClick:this.toggleCollapse},r.a.createElement("i",{className:"fa fa-chevron-right","aria-hidden":"true"})))):r.a.createElement("div",{className:"oreports-sidebar"},r.a.createElement("div",{className:"sidebar-header"},this.state.current_tab===(l?0:1)?r.a.createElement("div",{className:"sidebar-title"},r.a.createElement("i",{className:"fa fa-th","aria-hidden":"true"})," Tabla base"):null,r.a.createElement("div",{className:"sidebar-icon",onClick:function(){e.onClickIcon()}},this.state.current_tab===(l?0:1)?r.a.createElement("i",{className:"fa fa-filter","aria-hidden":"true"}):r.a.createElement("i",{className:"fa fa-th","aria-hidden":"true"})),this.state.current_tab===(l?1:0)?r.a.createElement("div",{className:"sidebar-title"},r.a.createElement("i",{className:"fa fa-filter","aria-hidden":"true"})," Filtros"):null,r.a.createElement("div",{className:"sidebar-collapse",onClick:this.toggleCollapse},r.a.createElement("i",{className:"fa fa-chevron-left","aria-hidden":"true"}))),r.a.createElement("div",{className:"padding-15"},this.state.current_tab===(l?0:1)?r.a.createElement(r.a.Fragment,null,r.a.createElement(Aa,null),r.a.createElement(ga,{title:"Columnas",section:"columns",fields:a,field_list:this.filterFieldList(i),titleButton:l?{classes:"btn btn-default oreports-primary-button outlined custom-columns-function",click:this.openEditFormula,classIcon:"fa fa-columns"}:null}),r.a.createElement("hr",null),r.a.createElement(ga,{title:"Grupos",section:"groups",fields:n,field_list:this.filterFieldList(i)})):r.a.createElement(ga,{title:"Filtros",notitle:!0,section:"filters",fields:o,field_list:this.filterFieldList([])})))}}]),t}(n.Component),Sa=Object(i.b)((function(e){return{field_list:e.general.field_list,columns:e.general.columns,groups:e.general.groups,filters:e.general.filters,is_create_edit:e.general.is_create_edit}}),(function(e){return{dispatchSetIsOpen:function(t){return e($(t))},dispatchSetModeModalFormula:function(t){return e(J(t))}}}))(Fa);function Ma(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ta(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ma(a,!0).forEach((function(t){Object(te.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ma(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Na=function(e){function t(){return Object(h.a)(this,t),Object(g.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e=this.props,t=e.zoomed_chart_def,a=e.toggleZoomChartModal;return t&&t.type?r.a.createElement(j.a,{scrollable:!1,centered:!0,size:"lg",isOpen:!0,toggle:a,className:"config-modal full-screen-modal modal-chart"},r.a.createElement(w.a,null,r.a.createElement(st,{chart_def:Ta({},t),isZoomed:!0}),r.a.createElement("div",{className:"chart-button-container"},r.a.createElement("i",{className:"fa fa-times","aria-hidden":"true",onClick:a})),this.props.show_table?r.a.createElement(O.a,null,r.a.createElement(x.a,null,r.a.createElement("div",{className:"oreports-container"},r.a.createElement("div",{className:"oreports-body"},r.a.createElement(Sa,null),r.a.createElement("div",{className:"oreports-table"},r.a.createElement(Ut,{in_modal:!0})))))):null)):null}}]),t}(n.Component),Pa=Object(i.b)((function(e){return{zoomed_chart_def:e.general.zoomed_chart_def}}),(function(e){return{toggleZoomChartModal:function(){e(V({}))}}}))(Na),Ia=a(242);function Ra(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ha(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ra(a,!0).forEach((function(t){Object(te.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ra(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var La=function(e){function t(){return Object(h.a)(this,t),Object(g.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){for(var e=this,t=this.props,a=t.chart_def,n=t.chart_index,o=t.is_create_edit,l=t.size,i=t.table_filters,c=!1,s=null,u=0;u<i.length;u++){var d=i[u];if((d[0]===a.xaxis||a.yaxis&&a.yaxis.length>0&&d[0]===a.yaxis[0])&&3===d.length&&d[2]){c=!0,s=d[0]===a.xaxis?a.xaxis:a.yaxis[0];break}}return r.a.createElement(x.a,{md:l,className:"chart-card",style:{padding:"numeric"===a.type?0:"inherit"}},r.a.createElement(st,{chart_def:Ha({},a)}),r.a.createElement("div",{className:"chart-button-container"},"numeric"!==a.type?r.a.createElement(Ia.Button,{icon:"search",onClick:function(){e.props.zoomChart(Ha({},a))}}):null,c?r.a.createElement(Ia.Button,{icon:"undo",onClick:function(){e.props.applyFilter(s,void 0)}}):null,o?r.a.createElement(r.a.Fragment,null,r.a.createElement(Ia.Button,{icon:"edit",onClick:function(){e.props.editChart(n)}}),r.a.createElement(Ia.Button,{icon:"close",onClick:function(){e.props.removeChart(n)}})," "):null))}}]),t}(n.Component),qa=Object(i.b)((function(e){return{is_create_edit:e.general.is_create_edit,table_filters:e.general.table_filters}}),(function(e){return{removeChart:function(t){e(function(e){return{type:"REMOVE_CHART",index:e}}(t))},editChart:function(){var t=Object(f.a)(m.a.mark((function t(a){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(K(a));case 2:e(G());case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),zoomChart:function(t){e(V(t))},applyFilter:function(t,a){e(X(t,a))}}}))(La);function Va(){return(Va=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Ua(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var za=r.a.createElement("g",{id:"Group_2638","data-name":"Group 2638",transform:"translate(18875 1576.005)",opacity:.5},r.a.createElement("path",{id:"Union_1","data-name":"Union 1",d:"M16.385,36.808V24.457H4.035a4.035,4.035,0,0,1,0-8.07H16.385V4.036a4.035,4.035,0,1,1,8.07,0V16.386H36.806a4.035,4.035,0,1,1,0,8.07H24.456V36.808a4.035,4.035,0,0,1-8.07,0Z",transform:"translate(-18774.404 -1547.535) rotate(-16)",fill:"#909090",opacity:.5}),r.a.createElement("path",{id:"Union_2","data-name":"Union 2",d:"M16.385,36.808V24.458H4.035a4.036,4.036,0,0,1,0-8.071H16.385V4.036a4.035,4.035,0,1,1,8.07,0V16.386H36.806a4.036,4.036,0,0,1,0,8.071H24.456V36.808a4.035,4.035,0,0,1-8.07,0Z",transform:"translate(-18632.051 -1576.005) rotate(28)",fill:"#909090",opacity:.5}),r.a.createElement("path",{id:"Union_4","data-name":"Union 4",d:"M16.385,36.808V24.458H4.035a4.036,4.036,0,0,1,0-8.071H16.385V4.036a4.035,4.035,0,1,1,8.07,0V16.386H36.806a4.036,4.036,0,0,1,0,8.071H24.456V36.808a4.035,4.035,0,0,1-8.07,0Z",transform:"translate(-18555.348 -1278.321) rotate(9)",fill:"#909090",opacity:.5}),r.a.createElement("path",{id:"Union_6","data-name":"Union 6",d:"M16.385,36.808V24.458H4.035a4.036,4.036,0,0,1,0-8.071H16.385V4.036a4.035,4.035,0,1,1,8.07,0V16.386H36.806a4.036,4.036,0,0,1,0,8.071H24.456V36.808a4.035,4.035,0,0,1-8.07,0Z",transform:"translate(-18847.463 -1282.31) rotate(-18)",fill:"#909090",opacity:.5}),r.a.createElement("path",{id:"Union_3","data-name":"Union 3",d:"M10.427,23.423v-7.86H2.568a2.568,2.568,0,0,1,0-5.136h7.859V2.568a2.568,2.568,0,0,1,5.136,0v7.86h7.859a2.568,2.568,0,0,1,0,5.136H15.563v7.86a2.568,2.568,0,0,1-5.136,0Z",transform:"translate(-18473.324 -1431.001) rotate(13)",fill:"#909090",opacity:.5}),r.a.createElement("path",{id:"Union_7","data-name":"Union 7",d:"M10.427,23.423v-7.86H2.568a2.568,2.568,0,0,1,0-5.136h7.859V2.568a2.568,2.568,0,0,1,5.136,0v7.86h7.859a2.568,2.568,0,0,1,0,5.136H15.563v7.86a2.568,2.568,0,0,1-5.136,0Z",transform:"translate(-18809.58 -1469.026) rotate(-15)",fill:"#909090",opacity:.5}),r.a.createElement("path",{id:"Union_5","data-name":"Union 5",d:"M10.427,23.423v-7.86H2.568a2.568,2.568,0,0,1,0-5.136h7.859V2.568a2.568,2.568,0,0,1,5.136,0v7.86h7.859a2.568,2.568,0,0,1,0,5.136H15.563v7.86a2.568,2.568,0,0,1-5.136,0Z",transform:"translate(-18690.037 -1227.109) rotate(-11)",fill:"#909090",opacity:.5}),r.a.createElement("path",{id:"Exclusion_1","data-name":"Exclusion 1",d:"M14,28a14.1,14.1,0,0,1-2.822-.284,13.921,13.921,0,0,1-5.006-2.106A14.039,14.039,0,0,1,1.1,19.449a13.926,13.926,0,0,1-.816-2.628,14.135,14.135,0,0,1,0-5.643A13.924,13.924,0,0,1,2.391,6.172,14.041,14.041,0,0,1,8.551,1.1,13.9,13.9,0,0,1,11.179.284a14.134,14.134,0,0,1,5.643,0,13.921,13.921,0,0,1,5.006,2.106A14.04,14.04,0,0,1,26.9,8.551a13.932,13.932,0,0,1,.816,2.628,14.137,14.137,0,0,1,0,5.643,13.925,13.925,0,0,1-2.107,5.006A14.041,14.041,0,0,1,19.45,26.9a13.914,13.914,0,0,1-2.628.816A14.1,14.1,0,0,1,14,28ZM14,4.359A9.6,9.6,0,0,0,8.61,6.006a9.669,9.669,0,0,0-3.493,4.242,9.628,9.628,0,0,0,.889,9.143,9.667,9.667,0,0,0,4.241,3.493,9.628,9.628,0,0,0,9.143-.889,9.671,9.671,0,0,0,3.493-4.241,9.628,9.628,0,0,0-.889-9.143,9.668,9.668,0,0,0-4.242-3.493A9.582,9.582,0,0,0,14,4.359Z",transform:"translate(-18544 -1516)",fill:"#909090",opacity:.5}),r.a.createElement("path",{id:"Exclusion_6","data-name":"Exclusion 6",d:"M14,28a14.1,14.1,0,0,1-2.822-.284,13.921,13.921,0,0,1-5.006-2.106A14.039,14.039,0,0,1,1.1,19.449a13.926,13.926,0,0,1-.816-2.628,14.135,14.135,0,0,1,0-5.643A13.924,13.924,0,0,1,2.391,6.172,14.041,14.041,0,0,1,8.551,1.1,13.9,13.9,0,0,1,11.179.284a14.134,14.134,0,0,1,5.643,0,13.921,13.921,0,0,1,5.006,2.106A14.04,14.04,0,0,1,26.9,8.551a13.932,13.932,0,0,1,.816,2.628,14.137,14.137,0,0,1,0,5.643,13.925,13.925,0,0,1-2.107,5.006A14.041,14.041,0,0,1,19.45,26.9a13.914,13.914,0,0,1-2.628.816A14.1,14.1,0,0,1,14,28ZM14,4.359A9.6,9.6,0,0,0,8.61,6.006a9.669,9.669,0,0,0-3.493,4.242,9.628,9.628,0,0,0,.889,9.143,9.667,9.667,0,0,0,4.241,3.493,9.628,9.628,0,0,0,9.143-.889,9.671,9.671,0,0,0,3.493-4.241,9.628,9.628,0,0,0-.889-9.143,9.668,9.668,0,0,0-4.242-3.493A9.582,9.582,0,0,0,14,4.359Z",transform:"translate(-18875 -1416)",fill:"#909090",opacity:.5}),r.a.createElement("path",{id:"Exclusion_4","data-name":"Exclusion 4",d:"M14,28a14.1,14.1,0,0,1-2.822-.284,13.921,13.921,0,0,1-5.006-2.106A14.039,14.039,0,0,1,1.1,19.449a13.926,13.926,0,0,1-.816-2.628,14.135,14.135,0,0,1,0-5.643A13.924,13.924,0,0,1,2.391,6.172,14.041,14.041,0,0,1,8.551,1.1,13.9,13.9,0,0,1,11.179.284a14.134,14.134,0,0,1,5.643,0,13.921,13.921,0,0,1,5.006,2.106A14.04,14.04,0,0,1,26.9,8.551a13.932,13.932,0,0,1,.816,2.628,14.137,14.137,0,0,1,0,5.643,13.925,13.925,0,0,1-2.107,5.006A14.041,14.041,0,0,1,19.45,26.9a13.914,13.914,0,0,1-2.628.816A14.1,14.1,0,0,1,14,28ZM14,4.359A9.6,9.6,0,0,0,8.61,6.006a9.669,9.669,0,0,0-3.493,4.242,9.628,9.628,0,0,0,.889,9.143,9.667,9.667,0,0,0,4.241,3.493,9.628,9.628,0,0,0,9.143-.889,9.671,9.671,0,0,0,3.493-4.241,9.628,9.628,0,0,0-.889-9.143,9.668,9.668,0,0,0-4.242-3.493A9.582,9.582,0,0,0,14,4.359Z",transform:"translate(-18612 -1206)",fill:"#909090",opacity:.5}),r.a.createElement("path",{id:"Exclusion_8","data-name":"Exclusion 8",d:"M14,28a14.1,14.1,0,0,1-2.822-.284,13.921,13.921,0,0,1-5.006-2.106A14.039,14.039,0,0,1,1.1,19.449a13.926,13.926,0,0,1-.816-2.628,14.135,14.135,0,0,1,0-5.643A13.924,13.924,0,0,1,2.391,6.172,14.041,14.041,0,0,1,8.551,1.1,13.9,13.9,0,0,1,11.179.284a14.134,14.134,0,0,1,5.643,0,13.921,13.921,0,0,1,5.006,2.106A14.04,14.04,0,0,1,26.9,8.551a13.932,13.932,0,0,1,.816,2.628,14.137,14.137,0,0,1,0,5.643,13.925,13.925,0,0,1-2.107,5.006A14.041,14.041,0,0,1,19.45,26.9a13.914,13.914,0,0,1-2.628.816A14.1,14.1,0,0,1,14,28ZM14,4.359A9.6,9.6,0,0,0,8.61,6.006a9.669,9.669,0,0,0-3.493,4.242,9.628,9.628,0,0,0,.889,9.143,9.667,9.667,0,0,0,4.241,3.493,9.628,9.628,0,0,0,9.143-.889,9.671,9.671,0,0,0,3.493-4.241,9.628,9.628,0,0,0-.889-9.143,9.668,9.668,0,0,0-4.242-3.493A9.582,9.582,0,0,0,14,4.359Z",transform:"translate(-18494 -1302)",fill:"#909090",opacity:.5}),r.a.createElement("path",{id:"Exclusion_2","data-name":"Exclusion 2",d:"M8.5,17a8.559,8.559,0,0,1-1.713-.173,8.452,8.452,0,0,1-3.039-1.279,8.524,8.524,0,0,1-3.08-3.74,8.455,8.455,0,0,1-.5-1.6,8.582,8.582,0,0,1,0-3.426,8.454,8.454,0,0,1,1.279-3.04A8.525,8.525,0,0,1,5.192.668a8.441,8.441,0,0,1,1.6-.5,8.582,8.582,0,0,1,3.426,0,8.452,8.452,0,0,1,3.039,1.279,8.524,8.524,0,0,1,3.08,3.74,8.459,8.459,0,0,1,.5,1.6,8.583,8.583,0,0,1,0,3.426,8.455,8.455,0,0,1-1.279,3.04,8.525,8.525,0,0,1-3.74,3.079,8.448,8.448,0,0,1-1.6.5A8.558,8.558,0,0,1,8.5,17Zm0-14.353a5.826,5.826,0,0,0-3.273,1A5.871,5.871,0,0,0,3.107,6.222a5.845,5.845,0,0,0,.54,5.551,5.869,5.869,0,0,0,2.575,2.121,5.846,5.846,0,0,0,5.551-.54,5.872,5.872,0,0,0,2.121-2.575,5.846,5.846,0,0,0-.54-5.551,5.87,5.87,0,0,0-2.575-2.121A5.818,5.818,0,0,0,8.5,2.647Z",transform:"translate(-18539 -1374)",fill:"#909090",opacity:.5}),r.a.createElement("path",{id:"Exclusion_5","data-name":"Exclusion 5",d:"M8.5,17a8.559,8.559,0,0,1-1.713-.173,8.452,8.452,0,0,1-3.039-1.279,8.524,8.524,0,0,1-3.08-3.74,8.455,8.455,0,0,1-.5-1.6,8.582,8.582,0,0,1,0-3.426,8.454,8.454,0,0,1,1.279-3.04A8.525,8.525,0,0,1,5.192.668a8.441,8.441,0,0,1,1.6-.5,8.582,8.582,0,0,1,3.426,0,8.452,8.452,0,0,1,3.039,1.279,8.524,8.524,0,0,1,3.08,3.74,8.459,8.459,0,0,1,.5,1.6,8.583,8.583,0,0,1,0,3.426,8.455,8.455,0,0,1-1.279,3.04,8.525,8.525,0,0,1-3.74,3.079,8.448,8.448,0,0,1-1.6.5A8.558,8.558,0,0,1,8.5,17Zm0-14.353a5.826,5.826,0,0,0-3.273,1A5.871,5.871,0,0,0,3.107,6.222a5.845,5.845,0,0,0,.54,5.551,5.869,5.869,0,0,0,2.575,2.121,5.846,5.846,0,0,0,5.551-.54,5.872,5.872,0,0,0,2.121-2.575,5.846,5.846,0,0,0-.54-5.551,5.87,5.87,0,0,0-2.575-2.121A5.818,5.818,0,0,0,8.5,2.647Z",transform:"translate(-18765 -1215)",fill:"#909090",opacity:.5}),r.a.createElement("path",{id:"Exclusion_3","data-name":"Exclusion 3",d:"M8.5,17a8.559,8.559,0,0,1-1.713-.173,8.452,8.452,0,0,1-3.039-1.279,8.524,8.524,0,0,1-3.08-3.74,8.455,8.455,0,0,1-.5-1.6,8.582,8.582,0,0,1,0-3.426,8.454,8.454,0,0,1,1.279-3.04A8.525,8.525,0,0,1,5.192.668a8.441,8.441,0,0,1,1.6-.5,8.582,8.582,0,0,1,3.426,0,8.452,8.452,0,0,1,3.039,1.279,8.524,8.524,0,0,1,3.08,3.74,8.459,8.459,0,0,1,.5,1.6,8.583,8.583,0,0,1,0,3.426,8.455,8.455,0,0,1-1.279,3.04,8.525,8.525,0,0,1-3.74,3.079,8.448,8.448,0,0,1-1.6.5A8.558,8.558,0,0,1,8.5,17Zm0-14.353a5.826,5.826,0,0,0-3.273,1A5.871,5.871,0,0,0,3.107,6.222a5.845,5.845,0,0,0,.54,5.551,5.869,5.869,0,0,0,2.575,2.121,5.846,5.846,0,0,0,5.551-.54,5.872,5.872,0,0,0,2.121-2.575,5.846,5.846,0,0,0-.54-5.551,5.87,5.87,0,0,0-2.575-2.121A5.818,5.818,0,0,0,8.5,2.647Z",transform:"translate(-18683 -1502)",fill:"#909090",opacity:.5}),r.a.createElement("path",{id:"Exclusion_7","data-name":"Exclusion 7",d:"M8.5,17a8.559,8.559,0,0,1-1.713-.173,8.452,8.452,0,0,1-3.039-1.279,8.524,8.524,0,0,1-3.08-3.74,8.455,8.455,0,0,1-.5-1.6,8.582,8.582,0,0,1,0-3.426,8.454,8.454,0,0,1,1.279-3.04A8.525,8.525,0,0,1,5.192.668a8.441,8.441,0,0,1,1.6-.5,8.582,8.582,0,0,1,3.426,0,8.452,8.452,0,0,1,3.039,1.279,8.524,8.524,0,0,1,3.08,3.74,8.459,8.459,0,0,1,.5,1.6,8.583,8.583,0,0,1,0,3.426,8.455,8.455,0,0,1-1.279,3.04,8.525,8.525,0,0,1-3.74,3.079,8.448,8.448,0,0,1-1.6.5A8.558,8.558,0,0,1,8.5,17Zm0-14.353a5.826,5.826,0,0,0-3.273,1A5.871,5.871,0,0,0,3.107,6.222a5.845,5.845,0,0,0,.54,5.551,5.869,5.869,0,0,0,2.575,2.121,5.846,5.846,0,0,0,5.551-.54,5.872,5.872,0,0,0,2.121-2.575,5.846,5.846,0,0,0-.54-5.551,5.87,5.87,0,0,0-2.575-2.121A5.818,5.818,0,0,0,8.5,2.647Z",transform:"translate(-18788 -1411)",fill:"#909090",opacity:.5}),r.a.createElement("g",{id:"Group_2635","data-name":"Group 2635",transform:"translate(-19752.715 -1958)"},r.a.createElement("g",{id:"Rectangle_1657","data-name":"Rectangle 1657",transform:"translate(1007.715 527)",fill:"#c1c1c1",stroke:"#c1c1c1",strokeWidth:1},r.a.createElement("rect",{width:171,height:31,rx:5,stroke:"none"}),r.a.createElement("rect",{x:.5,y:.5,width:170,height:30,rx:4.5,fill:"none"})),r.a.createElement("g",{id:"Rectangle_1658","data-name":"Rectangle 1658",transform:"translate(1007.715 570)",fill:"#c1c1c1",stroke:"#c1c1c1",strokeWidth:1},r.a.createElement("rect",{width:171,height:15,rx:5,stroke:"none"}),r.a.createElement("rect",{x:.5,y:.5,width:170,height:14,rx:4.5,fill:"none"})),r.a.createElement("g",{id:"Rectangle_1658-2","data-name":"Rectangle 1658",transform:"translate(1007.715 596)",fill:"#c1c1c1",stroke:"#c1c1c1",strokeWidth:1},r.a.createElement("rect",{width:171,height:15,rx:5,stroke:"none"}),r.a.createElement("rect",{x:.5,y:.5,width:170,height:14,rx:4.5,fill:"none"})),r.a.createElement("g",{id:"Rectangle_1658-3","data-name":"Rectangle 1658",transform:"translate(1007.715 623)",fill:"#c1c1c1",stroke:"#c1c1c1",strokeWidth:1},r.a.createElement("rect",{width:171,height:15,rx:5,stroke:"none"}),r.a.createElement("rect",{x:.5,y:.5,width:170,height:14,rx:4.5,fill:"none"})),r.a.createElement("g",{id:"Rectangle_1658-4","data-name":"Rectangle 1658",transform:"translate(1007.715 649)",fill:"#c1c1c1",stroke:"#c1c1c1",strokeWidth:1},r.a.createElement("rect",{width:171,height:15,rx:5,stroke:"none"}),r.a.createElement("rect",{x:.5,y:.5,width:170,height:14,rx:4.5,fill:"none"})))),Ga=function(e){var t=e.svgRef,a=e.title,n=Ua(e,["svgRef","title"]);return r.a.createElement("svg",Va({width:426.998,height:398.005,viewBox:"0 0 426.998 398.005",ref:t},n),a?r.a.createElement("title",null,a):null,za)},Ya=r.a.forwardRef((function(e,t){return r.a.createElement(Ga,Va({svgRef:t},e))})),Ba=(a.p,function(e){function t(){return Object(h.a)(this,t),Object(g.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"table-empty-placeholder"},r.a.createElement(Ya,null),r.a.createElement("span",null,"Seleccione al menos una columna"))}}]),t}(n.Component)),Za=(a(777),function(e){function t(){return Object(h.a)(this,t),Object(g.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"oreport-dashlet"},r.a.createElement(st,{chart_def:this.props.chart_def}),r.a.createElement(Ut,{hidden:!0}))}}]),t}(n.Component)),Wa=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(g.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={show_modal_dashlet:!1},a.toggleZoomDashlet=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.props.is_create_edit){e.next=4;break}return e.next=3,a.props.setCurrentView("detail");case 3:a.props.fetchPreviewData();case 4:a.setState((function(e){return{show_modal_dashlet:!e.show_modal_dashlet}}));case 5:case"end":return e.stop()}}),e)}))),a}return Object(y.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.fetchPreviewData;(0,e.fetchMainConfig)(),t(),window["oreports_app_"+this.props.app_id]=this}},{key:"render",value:function(){var e=this,t=this.props,a=t.chart_list,n=t.is_ajax,o=t.ajax_show_all,l=null;if(a&&a.length>0){var i=Math.floor(12/a.length);l=a.map((function(e,t){return r.a.createElement(qa,{key:t,size:i<4?4:i,chart_index:t,chart_def:e})}))}n&&(this.zoomChart=function(){e.toggleZoomDashlet()},this.editFromDashlet=function(){var t=Object(f.a)(m.a.mark((function t(a){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.setCurrentView("edit");case 2:e.props.fetchPreviewData(),e.setState((function(e){return{show_modal_dashlet:!e.show_modal_dashlet}}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());var c=r.a.createElement("div",null,r.a.createElement(Qe,null),r.a.createElement(kt,null),r.a.createElement(Pa,null),r.a.createElement(v.a,{onDragEnd:this.props.moveField,onDragStart:this.props.startDragging},r.a.createElement(E.a,{fluid:!0},l&&l.length>0?r.a.createElement(O.a,{className:"row-chart-container"},r.a.createElement("div",{className:"chart-container"},l)):null,r.a.createElement(O.a,null,r.a.createElement(x.a,null,r.a.createElement("div",{className:"oreports-container"},r.a.createElement("div",{className:"oreports-body"},r.a.createElement(Sa,null),r.a.createElement("div",{className:"oreports-table"},this.props.columns&&this.props.columns.length>0?r.a.createElement(Ut,null):r.a.createElement(Ba,null)))))))));if(n){var s=this.props.detail_name?" - "+this.props.detail_name:"",u=r.a.createElement(k.a,{toggle:this.toggleZoomDashlet},r.a.createElement("i",{className:"fa fa-cog","aria-hidden":"true"})," Detalle",s);return this.props.is_create_edit&&(u=r.a.createElement(k.a,{close:r.a.createElement(r.a.Fragment,null),toggle:this.toggleZoomDashlet},r.a.createElement("div",{className:"dashlet-modal-header"},r.a.createElement("div",{className:"self-center"},r.a.createElement("i",{className:"fa fa-cog","aria-hidden":"true"})," Edici\xf3n",s),r.a.createElement("div",{className:"modal-header-buttons"},r.a.createElement(C.a,{className:"btn-icon",onClick:function(){e.props.toggleChartsModal()}},r.a.createElement("i",{className:"fa fa-pie-chart","aria-hidden":"true"})),r.a.createElement(C.a,{color:"primary",className:"oreports-primary-button",onClick:function(){e.props.save()}},"Guardar"),r.a.createElement(C.a,{color:"primary",onClick:function(){e.toggleZoomDashlet()}},"Cerrar"))))),r.a.createElement("div",null,!o&&a&&a.length>0?r.a.createElement(Za,{chart_def:a[0]}):c,r.a.createElement(j.a,{scrollable:!1,centered:!0,size:"lg",isOpen:this.state.show_modal_dashlet,toggle:this.toggleZoomDashlet,className:"root_oreports config-modal full-screen-modal"},u,r.a.createElement(w.a,null,c)))}return c}}]),t}(n.Component),Xa=Object(i.b)((function(e){return{columns:e.general.columns,saving:e.general.saving,chart_list:e.general.chart_list,is_ajax:e.general.is_ajax,ajax_show_all:e.general.ajax_show_all,app_id:e.general.app_id,is_create_edit:e.general.is_create_edit,detail_name:e.general.detail_name}}),(function(e){return{moveField:function(){var t=Object(f.a)(m.a.mark((function t(a){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(U(!1)),e(z(a));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),startDragging:function(){e(U(!0))},fetchPreviewData:function(){e(qt())},fetchMainConfig:function(){e((function(e,t){var a=t().general||{};e({type:"GET_CONFIG_PENDING"}),fetch("/api/BLFlex/GetConfig/",{method:"POST",credentials:"same-origin",headers:{Accept:"application/json","X-Auth-Token":Ze(),"X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({id:a.id||0})}).then((function(e){return e.json()})).then((function(t){if(!1===t.status)throw t.message;return e({type:"GET_CONFIG_SUCCESS",data:t.data}),t.data})).catch((function(t){console.log(t);try{c.b.error(t)}catch(a){c.b.error("Ocurri\xf3 un error al guardar")}e(function(e){return{type:"GET_CONFIG_ERROR",error:e}}(t))}))}))},save:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e(Lt(t))},toggleConfigModal:function(){e({type:"TOGGLE_CONFIG_MODAL"})},toggleChartsModal:function(t){e(G(t))},setCurrentView:function(t){e(function(e){return{type:"SET_CURRENT_VIEW",current_view:e}}(t))}}}))(Wa);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ka(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function $a(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ka(a,!0).forEach((function(t){Object(te.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ka(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ja,Qa=function(e,t){var a=t.destination,n=t.source;if(!a)return e;if(a.droppableId===n.droppableId&&a.index===n.index)return e;var r=F()(e),o=r[n.droppableId],l=n.droppableId===a.droppableId?o:r[a.droppableId],i=o[n.index];return o.splice(n.index,1),l.splice(a.index,0,i),r},en=Object(s.combineReducers)({general:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=[],n={};switch(t.type){case"ADD_FIELD":return(a=Object(We.a)(e[t.section])).push(t.field),(n=$a({},e))[t.section]=a,n;case"REMOVE_FIELD":return(a=Object(We.a)(e[t.section])).splice(t.index,1),(n=$a({},e))[t.section]=a,n;case"ADD_CHART":return(n=F()(e)).chart_list.push(t.chart_def),n;case"REMOVE_CHART":return(a=Object(We.a)(e.chart_list)).splice(t.index,1),(n=$a({},e)).chart_list=a,n;case"UPDATE_SECTION_ITEM":return(n=F()(e))[t.section][t.item_index][t.property]=t.value,n;case"SET_DRAGGING_FIELD":return $a({},e,{dragging:t.dragging});case"MOVE_FIELD":return Qa(e,t.result);case"FETCH_PREVIEW_DATA_PENDING":return $a({},e,{loading:!0,timeout_data_id:t.timeout_id});case"FETCH_PREVIEW_DATA_SUCCESS":return $a({},e,{loading:!1,preview_data:t.data});case"FETCH_PREVIEW_DATA_ERROR":return $a({},e,{loading:!1,error:t.error});case"GET_CONFIG_PENDING":return $a({},e,{loading:!0});case"GET_CONFIG_SUCCESS":return $a({},e,{loading:!1,modules_list:t.data.modules_list,report_header_data:t.data.report_header_data,field_list:t.data.report_header_data.metadata&&t.data.report_header_data.metadata.field_list?t.data.report_header_data.metadata.field_list:[],detail_name:t.data.report_header_data.name&&t.data.report_header_data.name?t.data.report_header_data.name:""});case"GET_CONFIG_ERROR":return $a({},e,{loading:!1,error:t.error});case"SAVE_DATA_PENDING":return $a({},e,{saving:!0});case"SAVE_DATA_SUCCESS":return $a({},e,{saving:!1,id:t.data.id});case"SAVE_DATA_ERROR":return $a({},e,{saving:!1,error:t.error});case"TOGGLE_CONFIG_MODAL":return $a({},e,{show_config_modal:!e.show_config_modal});case"TOGGLE_CHARTS_MODAL":return $a({},e,{show_charts_modal:!e.show_charts_modal,dashlet_id:t.dashlet_id?t.dashlet_id:e.dashlet_id});case"UPDATE_OBJECT_PROPERTY":return(n=F()(e))[t.object_name][t.property]=t.value,n;case"UPDATE_FIELD_LIST":return(n=$a({},e)).field_list=t.field_list,n;case"APPLY_TABLE_FILTER":var r=(a=F()(e.table_filters)).find((function(e){return!!(Array.isArray(e)&&e.length>0)&&e[0]===t.column}));return r&&3===r.length?(r[1]="=",r[2]=t.value):a.push([t.column,"=",t.value]),(n=$a({},e)).table_filters=a,n;case"SET_CHARTS_DATA":return(n=$a({},e)).charts_data=t.data,n;case"ZOOM_CHART":return(n=$a({},e)).zoomed_chart_def=t.chart_def,n;case"SET_EDIT_CHART_INDEX":return(n=$a({},e)).edit_chart_index=t.chart_index,n;case"EDIT_CHART":return(a=Object(We.a)(e.chart_list))[t.index]=t.chart_def,(n=$a({},e)).chart_list=a,n;case"SET_CURRENT_VIEW":return(n=$a({},e)).current_view=t.current_view,n.is_create_edit=-1!==["edit","create"].indexOf(t.current_view),n.preview_data=[],n.table_filters=[],n;case"SET_ORDER_COLUMNS":return $a({},e,{columns:e.columns.map((function(e){var a=$a({},e,{},{isSorter:!1,sortType:null});return t.column.name===a.name?$a({},a,{},t.values):a}))});default:return e}},modalFormula:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isOpen:!1,mode:"add",edit_mode_data:{},index:void 0},t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"SET_IS_OPEN_MODAL_FORMULA":return $a({},e,{isOpen:n.isOpen});case"SET_MODE_MODAL_FORMULA":return $a({},e,{mode:n.mode});case"SET_EDIT_MODE_DATA_MODAL_FORMULA":return $a({},e,{edit_mode_data:n.edit_mode_data});case"SET_INDEX_MODAL_FORMULA":return $a({},e,{index:n.index});default:return e}}});a.d(t,"store",(function(){return Ja})),window.mountOReportsReact=function(e){var t=document.getElementById(e),a=ge(t,"select_list",[]),n=ge(t,"chart_list",[]),o=ge(t,"filter_list",[]),p=t.getAttribute("base_obj_id")||"",m=t.getAttribute("current_user_id")||"",f=t.getAttribute("current_view")||"",h=ge(t,"groups",[]),_=ge(t,"modules",[]),g=ge(t,"teams",[]),b=ge(t,"users",[]),y=ge(t,"roles",[]),v=ge(t,"operator_list",[]),E=ge(t,"report_header_data",{}),O=ge(t,"chart_error",{}),x=ge(t,"is_ajax",!1),k=ge(t,"ajax_show_all",!1),C=t.getAttribute("current_record")||"";E.visible_users=ve(E.visible_users),E.visible_roles=ve(E.visible_roles),E.metadata=function(e,t){try{return"string"===typeof e?JSON.parse(e)||t:e||t}catch(a){return console.log("error"),t}}(E.metadata,{}),E.owner_id||(E.owner_id=m),ye(a),ye(o),ye(h);var j={general:{id:p,app_id:e,columns:a,groups:h,filters:o,modules_list:_,teams_list:g,users_list:b,roles_list:y,operator_list:v,report_header_data:E,field_list:E.metadata&&E.metadata.field_list?E.metadata.field_list:[],dragging:!1,loading:!1,preview_data:[],saving:!1,show_config_modal:!p,current_view:f,is_create_edit:-1!==["edit","create"].indexOf(f),chart_list:n,table_filters:[],charts_data:[],chart_error:O,is_ajax:x,ajax_show_all:k,zoomed_chart_def:{},current_record:C,detail_name:E.name&&E.name?E.name:""}},w=[d.a];Ja=Object(s.createStore)(en,j,Object(u.composeWithDevTools)(s.applyMiddleware.apply(void 0,w))),l.a.render(r.a.createElement(i.a,{store:Ja},r.a.createElement(Xa,null),r.a.createElement(c.a,{position:c.b.POSITION.BOTTOM_RIGHT})),t)},"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[436,1,2]]]);
//# sourceMappingURL=main.chunk.js.map