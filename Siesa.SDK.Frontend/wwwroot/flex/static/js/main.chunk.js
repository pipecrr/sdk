(this.webpackJsonporeports=this.webpackJsonporeports||[]).push([[0],{508:function(e,t,a){e.exports=a(853)},520:function(e,t,a){},850:function(e,t,a){},853:function(e,t,a){"use strict";a.r(t);var r=a(38),n=a.n(r),o=a(54),i=a(2),l=a.n(i),c=a(89),s=a.n(c),u=a(71),d=a(144),p=a(495),m=a(496),f=a(13),h=a(14),_=a(19),g=a(11),b=a(18),y=(a(518),a(519),a(520),a(255)),v=a(874),E=a(864),x=a(865),O=a(861),k=a(870),w=a(876),F=a(862),C=a(28),j=a(149),D=a.n(j),S=a(116),T=a(863),A=a(866),M=a(867),N=a(868),L=a(869),P=function(e,t){return function(a){return a({type:"SET_ORDER_COLUMNS",column:e,values:t}),Promise.resolve()}},I=function(e){return{type:"FETCH_PREVIEW_DATA_PENDING",timeout_id:e}},R=function(e){return{type:"FETCH_PREVIEW_DATA_SUCCESS",data:e}},H=function(e){return{type:"GET_CONFIG_ERROR",error:e}},B=function(e,t){return{type:"ADD_FIELD",section:e,field:t}},q=function(e,t){return{type:"REMOVE_FIELD",section:e,index:t}},V=function(e){return{type:"ZOOM_CHART",chart_def:e}},G=function(e){return{type:"SET_DRAGGING_FIELD",dragging:e}},z=function(e){return{type:"MOVE_FIELD",result:e}},U=function(e){return{type:"TOGGLE_CHARTS_MODAL",dashlet_id:e}},Y=function(e,t,a,r){return{type:"UPDATE_SECTION_ITEM",section:e,item_index:t,property:a,value:r}},Z=function(e){return{type:"SAVE_DATA_SUCCESS",data:e}},W=function(e){return{type:"SAVE_DATA_ERROR",error:e}},K=function(e,t,a){return{type:"UPDATE_OBJECT_PROPERTY",object_name:e,property:t,value:a}},X=function(e,t){return{type:"APPLY_TABLE_FILTER",column:e,value:t}},$=function(e){return{type:"SET_EDIT_CHART_INDEX",chart_index:e}},J=function(e){return{type:"SET_IS_OPEN_MODAL_FORMULA",payload:{isOpen:e}}},Q=function(e){return{type:"SET_MODE_MODAL_FORMULA",payload:{mode:e}}},ee=function(e){return{type:"SET_EDIT_MODE_DATA_MODAL_FORMULA",payload:{edit_mode_data:e}}},te=function(e){return{type:"SET_INDEX_MODAL_FORMULA",payload:{index:e}}},ae=a(26),re=a(129),ne=a.n(re),oe=a(79),ie=a.n(oe),le={name:"",label:"",title:"",description:"",syntax:"",examples:[]},ce=[{name:"year",label:"A\xf1o",title:"year",description:"Devuelve un n\xfamero correspondiente al a\xf1o de una fecha dada",syntax:"year(props(campo_fecha)) || year(props(campo_fecha_hora))",examples:["year(props(campo_fecha_hora)) -> year('2021-02-05T14:51:54-05:00') = 2021","year(props(campo_fecha)) -> year('2021-09-05') = 2021"],printFormula:function(){return"year("}},{name:"month",label:"Mes",title:"Month",description:"Devuelve un n\xfamero correspondiente al mes de una fecha dada. 0 Corresponde a Enero, 1 a Febrero, etc",syntax:"month(props(campo_fecha)) || month(props(campo_fecha_hora))",examples:["month(props(campo_fecha_hora)) -> month('2021-02-05T14:51:54-05:00') = 1","month(props(campo_fecha)) -> month('2021-09-05') = 8","month(props(campo_fecha)) -> month('2021-12-25') = 11"],printFormula:function(){return"month("}},{name:"getMonthLabel",label:"Obtener Etiqueta Mes",title:"getMonthLabel",description:"Devuelve la etiqueta de mes a partir de un numero dado",syntax:"getMonthLabel(numero)",examples:["getMonthLabel(numero)) -> getMonthLabel(1) = 'Enero'","getMonthLabel(numero)) -> getMonthLabel(3) = 'Marzo'","getMonthLabel(numero)) -> getMonthLabel(33) = '33'","getMonthLabel(getMonth(props(creation_date))) -> getMonthLabel(getMonth('2021-12-03')) -> getMonthLabel(12)= 'Diciembre'"],printFormula:function(){return"getMonthLabel("}},{name:"date",label:"Fecha",title:"date",description:"Devuelve un n\xfamero, entre 1 y 31 correspondiente al d\xeda del mes de la fecha dada",syntax:"date(props(campo_fecha)) || date(props(campo_fecha_hora))",examples:["date(props(campo_fecha_hora)) -> date('2021-02-05T14:51:54-05:00') = 5","date(props(campo_fecha)) -> date('2021-09-11') = 11"],printFormula:function(){return"date("}},{name:"day",label:"D\xeda",title:"day",description:"Devuelve un n\xfamero correspondiente al d\xeda de la semana de la fecha dada. 0 para lunes, 1 para martes, etc",syntax:"day(props(campo_fecha)) || day(props(campo_fecha_hora))",examples:["day(props(campo_fecha_hora)) -> day('2021-02-05T14:51:54-05:00') = 5","day(props(campo_fecha)) -> day('2021-09-11') = 11"],printFormula:function(){return"day("}},{name:"hour",label:"Hora",title:"hour",description:"Devuelve un n\xfamero, entre 0 y 23, correspondiente a la fecha dada",syntax:"hour(props(campo_fecha_hora))",examples:["hour(props(campo_fecha_hora)) -> hour('2021-02-05T14:51:54-05:00') = 14"],printFormula:function(){return"hour("}},{name:"minute",label:"Minuto",title:"minute",description:"Devuelve un n\xfamero, entre 0 y 59, correspondiente a la fecha dada",syntax:"minute(props(campo_fecha_hora))",examples:["minute(props(campo_fecha_hora)) -> minute('2021-02-05T14:51:54-05:00') = 51"],printFormula:function(){return"minute("}},{name:"period",label:"Periodo",title:"period",description:"Devuelve una cadena que representa el a\xf1o y mes de una fecha dada",syntax:"period(props(campo_fecha_hora)) || period(props(campo_fecha))",examples:["period(props(campo_fecha_hora)) -> period('2021-02-05T14:51:54-05:00') = 202102","period(props(campo_fecha)) -> period('2021-08-15') = 201808"],printFormula:function(){return"period("}},{name:"getDatePart",label:"Obtener Fecha",title:"getDatePart",description:"Devuelve la fecha de un campo fecha hora",syntax:"getDatePart(props(campo_fecha_hora))",examples:["getDatePart(props(campo_fecha_hora)) -> getDatePart('2021-02-05T14:51:54-05:00') = '2012-02-05'"],printFormula:function(){return"getDatePart("}},{name:"dateAdd",label:"Sumar a fecha",title:"dateAdd",description:'Adiciona a una fecha. el \xfaltimo argumento, "unidad", puede ser uno de los siguientes: "years", "quarters", "months", "weeks", "days", "hours", "minutes", "seconds" o "miliseconds"',syntax:"dateAdd(props(campo_fecha_hora), cantidad, unidad)",examples:["dateAdd(props(campo_fecha_hora), 7, 'years') -> dateAdd('2021-01-12T11:50:14-05:00', 7, 'years') = '2028-01-12T11:50:14-05:00'","dateAdd(props(campo_fecha_hora), 2, 'quarters') -> dateAdd('2021-01-12T11:50:58-05:00', 2, 'quarters') = '2021-10-12T11:50:58-05:00'","dateAdd(props(campo_fecha_hora), 2, 'months') -> dateAdd('2021-01-12T11:51:22-05:00', 2, 'months') = '2021-03-12T11:51:22-05:00'","dateAdd(props(campo_fecha_hora), 3, 'weeks') -> dateAdd('2021-01-12T11:51:22-05:00', 3, 'weeks') = '2021-02-02T11:51:22-05:00'","dateAdd(props(campo_fecha_hora), 4, 'days') -> dateAdd('2021-01-12T11:51:22-05:00', 4, 'days') = '2021-01-16T11:51:22-05:00'","dateAdd(props(campo_fecha_hora), 8, 'hours') -> dateAdd('2021-01-12T11:51:22-05:00', 8, 'hours') = '2021-01-16T19:51:22-05:00'","dateAdd(props(campo_fecha_hora), 1, 'minutes') -> dateAdd('2021-01-12T11:51:22-05:00', 1, 'minutes') = '2021-01-16T11:52:22-05:00'","dateAdd(props(campo_fecha_hora), 1, 'seconds') -> dateAdd('2021-01-12T11:51:22-05:00', 1, 'seconds') = '2021-01-16T11:51:23-05:00'","dateAdd(props(campo_fecha_hora), 5, 'milliseconds') -> dateAdd('2021-01-12T11:51:22-05:00', 1000, 'milliseconds') = '2021-01-16T11:51:23-05:00'"],printFormula:function(){return"dateAdd("}},{name:"addDay",label:"Sumar d\xedas",description:'suma una cantidad de d\xedas a la fecha dada. Atajo para la funcion dateAdd(props(campo_fecha_hora), cantidad, "days")',syntax:"addDay(props(campo_fecha_hora), cantidad) || addDay(props(campo_fecha), cantidad)",examples:["addDay(props(campo_fecha_hora), 9) -> addDay('2021-01-05T14:51:54-05:00', 9) = '2021-01-14T14:51:54-05:00'","addDay(props(campo_fecha), 3) -> addDay('2021-02-05', 3) = '2021-02-08'"],printFormula:function(){return"addDay("}},{name:"addMonth",label:"Sumar meses",title:"addMonth",description:'suma una cantidad de meses a la fecha dada. Atajo para la funcion dateAdd(props(campo_fecha_hora), cantidad, "months")',syntax:"addMonth(props(campo_fecha_hora), cantidad) || addMonth(props(campo_fecha), cantidad)",examples:["addMonth(props(campo_fecha_hora), 5) -> addMonth('2021-01-12T14:34:26-05:00', 5) = '2021-06-12T14:34:26-05:00'","addMonth(props(campo_fecha), 5) -> addMonth('2021-01-12', 5) = '2021-06-12'"],printFormula:function(){return"addMonth("}},{name:"addYear",label:"Sumar a\xf1os",title:"addYear",description:'suma una cantidad de a\xf1os a la fecha dada. Atajo para la funcion dateAdd(props(campo_fecha_hora), cantidad, "years")',syntax:"addYear(props(campo_fecha_hora), cantidad) || addYear(props(campo_fecha), cantidad)",examples:["addYear(props(campo_fecha_hora), 5) -> addYear('2021-01-12T14:34:26-05:00', 1) = '2022-06-12T14:34:26-05:00'","addYear(props(campo_fecha), 5) -> addYear('2021-01-12', 1) = '2022-06-12'"],printFormula:function(){return"addYear("}},{name:"substractDay",label:"Restar d\xedas",title:"substractDay",description:"resta una cantidad de d\xedas a la fecha dada",syntax:"substractDay(props(campo_fecha_hora), cantidad) || substractDay(props(campo_fecha), cantidad)",examples:["substractDay(props(campo_fecha_hora), 5) -> substractDay('2021-01-12T14:34:26-05:00', 1) = '2022-01-11T14:34:26-05:00'","substractDay(props(campo_fecha), 5) -> substractDay('2021-01-12', 1) = '2022-01-11'"],printFormula:function(){return"substractDay("}},{name:"substractMonth",label:"Restar meses",title:"substractMonth",description:"resta una cantidad de meses a la fecha dada",syntax:"substractMonth(props(campo_fecha_hora), cantidad) || substractMonth(props(campo_fecha), cantidad)",examples:["substractMonth(props(campo_fecha_hora), 5) -> substractMonth('2021-01-12T15:11:34-05:00', 5) = '2020-08-12T15:11:34-05:00'","substractMonth(props(campo_fecha), 5) -> substractMonth('2021-01-12', 5) = '2020-08-12'"],printFormula:function(){return"substractMonth("}},{name:"substractYear",label:"Restar a\xf1os",title:"substractYear",description:"resta una cantidad de a\xf1os a la fecha dada",syntax:"substractYear(props(campo_fecha_hora), cantidad) || substractYear(props(campo_fecha), cantidad)",examples:["substractYear(props(campo_fecha_hora), 5) -> substractYear('2021-01-12T15:19:15-05:00', 1) = '2020-01-12T15:19:15-05:00'","substractYear(props(campo_fecha), 5) -> substractYear('2021-01-12', 1) = '2020-01-12'"],printFormula:function(){return"substractYear("}},{name:"now",label:"Fecha actual",title:"now",description:"Genera la fecha actual con formato fecha hora",syntax:"now()",examples:["now() = '2020-01-12T15:19:15-05:00'"],printFormula:function(){return"now("}},{name:"diffDays",label:"Diferencia d\xedas",title:"diffDays",description:"Devuelve un n\xfamero que representa la diferenc\xeda en d\xedas entre 2 fechas",syntax:"diffDays(props(campo_fecha_hora1), props(campo_fecha_hora2))",examples:["diffDays(props(campo_fecha_hora1), props(campo_fecha_hora2)) -> diffDays('2021-01-14T15:19:15-05:00'), props('2021-01-11T15:19:15-05:00')) = 3","diffDays(props(campo_fecha1), props(campo_fecha2)) -> diffDays('2021-01-15'), props('2021-01-19')) = -4"],printFormula:function(){return"diffDays("}},{name:"diffMonths",label:"Diferencia meses",title:"diffMonths",description:"Devuelve un n\xfamero que representa la diferenc\xeda en meses entre 2 fechas",syntax:"diffMonths(props(campo_fecha_hora1), props(campo_fecha_hora2))",examples:["diffMonths(props(campo_fecha_hora1), props(campo_fecha_hora2)) -> diffMonths('2021-08-13T08:52:02-05:00'), props('2021-01-13T09:52:02-05:00')) = 6","diffMonths(props(campo_fecha1), props(campo_fecha2)) -> diffMonths('2020-08-15'), props('2021-01-13')) = -4"],printFormula:function(){return"diffMonths("}},{name:"diffYears",label:"Diferencia a\xf1os",title:"diffYears",description:"Devuelve un n\xfamero que representa la diferenc\xeda en a\xf1os entre 2 fechas",syntax:"diffYears(props(campo_fecha_hora1), props(campo_fecha_hora2))",examples:["diffYears(props(campo_fecha_hora1), props(campo_fecha_hora2)) -> diffYears('2026-08-13T08:52:02-05:00'), props('2021-01-13T09:52:02-05:00')) = 5","diffYears(props(campo_fecha1), props(campo_fecha2)) -> diffYears('2026-08-13'), props('2021-01-13')) = 5"],printFormula:function(){return"diffYears("}},{name:"changeFormat",label:"Cambiar formato",title:"changeFormat",description:"cambia el formato de una fecha. ",syntax:'changeFormat(props(campo_fecha_hora), "formato")',examples:["changeFormat(props(campo_fecha_hora), 'YYYY') -> changeFormat('2021-01-13T10:14:58-05:00', 'YYYY') = '2021'","changeFormat(props(campo_fecha_hora), 'DD') -> changeFormat('2021-01-13T10:14:58-05:00', 'DD') = '13'","changeFormat(props(campo_fecha_hora), 'MM') -> changeFormat('2021-01-13T10:14:58-05:00', 'MM') = '01'","changeFormat(props(campo_fecha_hora), 'MM-DD-YYYY') -> changeFormat('2021-01-13T10:14:58-05:00', 'MM-DD-YYYY') = '01-13-2021'","changeFormat(props(campo_fecha_hora), 'DD MM YYYY hh:mm:ss') -> changeFormat('2021-01-13T10:14:58-05:00', 'DD MM YYYY hh:mm:ss')= '13 01 2021 10:16:14'"],printFormula:function(){return"changeFormat("}}],se={type:"CharField",filter_options:[{key:"current_record",label:"Registro Actual"},{key:"equal",label:"Igual"},{key:"not_equal",label:"No es igual"},{key:"starts_width",label:"Empieza con"},{key:"end_width",label:"Termina con"},{key:"contains",label:"Contiene"},{key:"null_or_empty",label:"Es vacio o nulo"},{key:"empty",label:"Es vacio"},{key:"not_empty",label:"No es vacio"},{key:"current_user_code",label:"C\xf3digo Usuario actual"}]},ue={type:"IntegerField",filter_options:[{key:"equal",label:"Igual"},{key:"not_equal",label:"No es igual"},{key:"gt",label:"Mayor que"},{key:"lt",label:"Menor que"},{key:"gte",label:"Mayor o igual que"},{key:"between",label:"Entre"},{key:"current_user_code",label:"C\xf3digo Usuario actual"}]},de={type:"FloatField",filter_options:[{key:"equal",label:"Igual"},{key:"not_equal",label:"No es igual"},{key:"gt",label:"Mayor que"},{key:"lt",label:"Menor que"},{key:"gte",label:"Mayor o igual que"},{key:"between",label:"Entre"},{key:"current_user_code",label:"C\xf3digo Usuario actual"}]},pe={type:"DateTimeField",filter_options:[{key:"equal",label:"Igual"},{key:"not_equal",label:"No es igual"},{key:"before",label:"Antes de"},{key:"after",label:"Despu\xe9s de"},{key:"between",label:"Entre"},{key:"in_past",label:"En el pasado"},{key:"in_future",label:"En el futuro"},{key:"current_month",label:"Mes actual"},{key:"current_week",label:"Semana actual"},{key:"last_month",label:"Mes pasado"},{key:"today",label:"Hoy"},{key:"last_n_days",label:"\xdaltimos N d\xedas"},{key:"next_n_days",label:"Proximos N d\xedas"},{key:"this_year",label:"Este a\xf1o"},{key:"last_year",label:"A\xf1o pasado"},{key:"next_year",label:"Proximo a\xf1o"},{key:"null_or_empty",label:"Es vacio o nulo"},{key:"empty",label:"Es vacio"},{key:"not_empty",label:"No es vacio"}]},me={type:"DateField",filter_options:[{key:"equal",label:"Igual"},{key:"not_equal",label:"No es igual"},{key:"before",label:"Antes de"},{key:"after",label:"Despu\xe9s de"},{key:"between",label:"Entre"},{key:"in_past",label:"En el pasado"},{key:"in_future",label:"En el futuro"},{key:"current_month",label:"Mes actual"},{key:"current_week",label:"Semana actual"},{key:"last_month",label:"Mes pasado"},{key:"today",label:"Hoy"},{key:"last_n_days",label:"\xdaltimos N d\xedas"},{key:"next_n_days",label:"Proximos N d\xedas"},{key:"this_year",label:"Este a\xf1o"},{key:"last_year",label:"A\xf1o pasado"},{key:"next_year",label:"Proximo a\xf1o"},{key:"null_or_empty",label:"Es vacio o nulo"},{key:"empty",label:"Es vacio"},{key:"not_empty",label:"No es vacio"}]},fe={type:"BooleanField",filter_options:[{key:"equal",label:"Igual"},{key:"not_equal",label:"No es igual"},{key:"starts_width",label:"Empieza con"},{key:"end_width",label:"Termina con"},{key:"contains",label:"Contiene"},{key:"null_or_empty",label:"Es vacio o nulo"},{key:"empty",label:"Es vacio"},{key:"not_empty",label:"No es vacio"},{key:"current_user_code",label:"C\xf3digo Usuario actual"}]},he={label:"",name:"",formula:"",description:Object(oe.cloneDeep)(le)},_e={1:"Enero",2:"Febrero",3:"Marzo",4:"Abril",5:"Mayo",6:"Junio",7:"Julio",8:"Agosto",9:"Septiembre",10:"Octubre",11:"Noviembre",12:"Diciembre"},ge=a(236);function be(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function ye(e,t,a){try{return JSON.parse(e.getAttribute(t))||a}catch(r){return a}}function ve(e,t){t=t.toLowerCase();var a=(e=e.toLowerCase()).split("::");return a.length<=1?t:(a.shift(),a.join("__")+"__"+t)}function Ee(e){for(var t=0;t<e.length;t++){var a=e[t];a.key_name=ve(a.path,a.name)}}function xe(e){try{return"string"===typeof e?JSON.parse(e)||[]:e||[]}catch(t){return console.log("error"),[]}}function Oe(e,t){if(!e)return null;for(var a=0;a<e.length;a++){var r=e[a];if(r.options&&r.options.length>0){var n=r.options.find((function(e){return e.value===t}));if(n)return n}}return null}function ke(e){return e instanceof Date&&!isNaN(e)}function we(e,t,a){var r,n=[{value:1,symbol:""},{value:1e3,symbol:"k"},{value:1e6,symbol:"M"},{value:1e9,symbol:"G"},{value:1e12,symbol:"T"},{value:1e15,symbol:"P"},{value:1e18,symbol:"E"}];for(r=n.length-1;r>0&&!(e>=n[r].value);r--);if(a)try{return e.toFixed(t).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}catch(o){return""}return(e/n[r].value).toFixed(t).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+n[r].symbol}var Fe;Fe="";function Ce(e){return!!e&&ne()(e).isValid()}function je(e){if(!Ce(e))return"";try{return new Date(e).getMonth()+1}catch(t){return""}}function De(e){if(!Ce(e))return"";try{return new Date(e).getFullYear()}catch(t){return""}}function Se(e){return function(t,a){return Ce(t)?ne()(t).add(a,e).format():""}}var Te=Se("day"),Ae=Se("month"),Me=Se("year");function Ne(e){return function(t,a){return Ce(t)?ne()(t).subtract(a,e).format():""}}var Le=Ne("day"),Pe=Ne("month"),Ie=Ne("year");function Re(e){return function(t,a){return Ce(t)&&Ce(a)?ne()(t).diff(ne()(a),e):""}}var He=Re("days"),Be=Re("months"),qe=Re("years");var Ve,Ge=(Ve=function(e){return!Object.keys(e).length},function(e){return!!Ve(e)});function ze(e,t){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?be(a,!0).forEach((function(t){Object(ae.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):be(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{},t)}function Ue(){var e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";return Array(5).join().split(",").map((function(){return e.charAt(Math.floor(Math.random()*e.length))})).join("")}function Ye(e){switch(e){case"CharField":return Ue();case"IntegerField":case"PositiveIntegerField":return Object(oe.random)(1,1e3);case"FloatField":case"CurrencyField":case"DecimalField":return 9999.9*Math.random()+.1;case"DateTimeField":return ne()().format();case"DateField":return ne()().format("YYYY-mm-DD");case"BooleanField":return Object(oe.sample)([!0,!1]);default:return Ue()}}var Ze={props:function(e){return e},year:De,month:je,getMonthLabel:function(e){return Object(oe.get)(_e,e+"",e+"")},date:function(e){if(!Ce(e))return"";try{return new Date(e).getDate()}catch(t){return""}},day:function(e){if(!Ce(e))return"";try{return new Date(e).getDay()}catch(t){return""}},hour:function(e){if(!Ce(e))return"";try{return new Date(e).getHours()}catch(t){return""}},minute:function(e){if(!Ce(e))return"";try{return new Date(e).getMinutes()}catch(t){return""}},period:function(e){return"".concat(De(e)).concat(je(e).toString().padStart(2,"0"))},getDatePart:function(e){return Ce(e)?ne()(e).startOf("day").format():""},getTimePart:function(e){return Ce(e)?ne()(e).startOf("day").format("hh:mm:ss"):""},dateAdd:function(e,t,a){return Ce(e)?ne()(e).add(t,a).format():""},addDay:Te,addMonth:Ae,addYear:Me,substractDay:Le,substractMonth:Pe,substractYear:Ie,now:function(){return ne()().format()},diffDays:He,diffMonths:Be,diffYears:qe,changeFormat:function(e,t){return Ce(e)?ne()(e).format(t):""}},We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e=(e=e.replace(/^\s+|\s+$/g,"")).toLowerCase();for(var t="\xe3\xe0\xe1\xe4\xe2\u1ebd\xe8\xe9\xeb\xea\xec\xed\xef\xee\xf5\xf2\xf3\xf6\xf4\xf9\xfa\xfc\xfb\xf1\xe7\xb7/_,:;",a="aaaaaeeeeeiiiiooooouuuunc------",r=0,n=t.length;r<n;r++)e=e.replace(new RegExp(t.charAt(r),"g"),a.charAt(r));return e=e.replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"_").replace(/-+/g,"_")},Ke=function(){function e(){Object(f.a)(this,e)}return Object(h.a)(e,null,[{key:"ShowError",value:function(e,t){window.SDKDotNetHelper.invokeMethodAsync("ShowError",e,t)}},{key:"ShowSuccess",value:function(){var e=Object(o.a)(n.a.mark((function e(t,a){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.SDKDotNetHelper.invokeMethodAsync("ShowSuccess",t,a);case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}]),e}(),Xe=function(){function e(){Object(f.a)(this,e)}return Object(h.a)(e,null,[{key:"GetResource",value:function(){var e=Object(o.a)(n.a.mark((function e(t){var a,r,o,i,l,c,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new ge.default("IndexDb").open();case 2:if(a=e.sent,r={},window.sdkFlexCulture){e.next=10;break}return e.next=7,a.table("Cultures").toCollection().first();case 7:r=e.sent,e.next=11;break;case 10:r=window.sdkFlexCulture;case 11:if(!r){e.next=32;break}if(o=r.id,i=t,!window.ResourceFlex[o]){e.next=26;break}if(!(l=window.ResourceFlex[o])[t]){e.next=20;break}i=l[t],e.next=24;break;case 20:return e.next=22,a.table("ResourcesDetail").where({idCulture:o,idResource:t}).first();case 22:(c=e.sent)&&(i=c.description,l[t]=i);case 24:e.next=31;break;case 26:return window.ResourceFlex[o]={},e.next=29,a.table("ResourcesDetail").where({idCulture:o,idResource:t}).first();case 29:(s=e.sent)&&(i=s.description,window.ResourceFlex[o][t]=i);case 31:return e.abrupt("return",i);case 32:return e.abrupt("return",t);case 33:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),$e=a(42),Je=a(422),Qe=(a(618),a(396),function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(_.a)(this,Object(g.a)(t).call(this,e))).getInitialStateBaseSource=function(e,t){if(t&&e.report_header_data&&e.report_header_data.metadata&&e.report_header_data.metadata.treeData&&e.report_header_data.metadata.treeData.length>0&&e.report_header_data.metadata.checkedKeys&&e.report_header_data.metadata.checkedKeys.checked.length>0)return{treeData:e.report_header_data.metadata.treeData,checkedKeys:e.report_header_data.metadata.checkedKeys,expandedKeys:e.report_header_data.metadata.expandedKeys};for(var a=null,r=[],n={checked:[],halfChecked:[]},o=[],i=0;i<e.modules_list.length;i++){var l=e.modules_list[i];if(l.options&&l.options.length>0){var c=l.options.find((function(t){return t.class_name===e.report_header_data.selected_class}));if(c){(a=c).path=a.class_name,r.push(a),-1===n.checked.indexOf(a.path)&&n.checked.push(a.path),o=n.checked;break}}}return{treeData:r,checkedKeys:n,expandedKeys:o}},a.getFieldList=function(){var e=Object(o.a)(n.a.mark((function e(t){var r,o,i=arguments;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=i.length>1&&void 0!==i[1]&&i[1],o=a.findPathInTree(a.state.treeData,t)){e.next=4;break}return e.abrupt("return",null);case 4:if(o.field_list&&!r){e.next=7;break}return e.next=7,a.loadBranch(o).catch((function(e){console.log(e),o.field_list=[]}));case 7:return e.abrupt("return",{label:o.breadcrumbs_label||o.label,options:o.field_list});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onCheck=function(){var e=Object(o.a)(n.a.mark((function e(t){var r,o,i,l,c,s,u=arguments;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=u.length>1&&void 0!==u[1]&&u[1],o=[],i=[],r&&t&&t.checked?(t.checked.forEach((function(e){for(var t=[];e.lastIndexOf("::")>-1;)t.push(e),e=e.substr(0,e.lastIndexOf("::"));t.forEach((function(e){-1===i.indexOf(e)&&i.push(e)}))})),i.length>0&&i.push(i[0].split("::")[0]),0===(i=i.sort()).length&&i.push(a.props.report_header_data.selected_class)):i=t.checked,l=0;case 5:if(!(l<i.length)){e.next=14;break}return c=i[l],e.next=9,a.getFieldList(c,r);case 9:(s=e.sent)&&t.checked.indexOf(c)>-1&&o.push(s);case 11:l++,e.next=5;break;case 14:a.setState({checkedKeys:t}),a.props.updateFieldList(o);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onExpand=function(e){a.setState({expandedKeys:e})},a.findPathInTree=function(e,t,r){for(var n=0;n<e.length;n++){var o=e[n];if(o.breadcrumbs_label=(r?r.breadcrumbs_label+" > ":"")+o.label,o.path===t)return o;if(o.children&&o.children.length>0){var i=a.findPathInTree(o.children,t,o);if(i)return i}}return null},a.onClickLoad=function(){var e=Object(o.a)(n.a.mark((function e(t,r,o,i,l){var c,s,u,d;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Object($e.a)(a.state.treeData),s=a.findPathInTree(c,t.props.eventKey),u=s.label,s.label+=" cargando...",s.fetchingData=!0,a.setState({treeData:c}),e.next=8,a.loadBranch(s).finally((function(){s.label=u,delete s.fetchingData}));case 8:a.setState({treeData:c}),(d=Object($e.a)(a.state.expandedKeys)).push(t.props.eventKey),a.setState({treeData:c,expandedKeys:d});case 12:case"end":return e.stop()}}),e)})));return function(t,a,r,n,o){return e.apply(this,arguments)}}(),a.loadBranch=function(){var e=Object(o.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.children=[],e.abrupt("return",fetch("/api/BLFlex/GetClassInfo/",{method:"POST",credentials:"same-origin",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){if(!1===e.status)throw e.message;t.children=[];var a=e.data.relationships;t.field_list=e.data.fields||[];for(var r=0;r<t.field_list.length;r++){var n=t.field_list[r];n.path=t.path,n.key_name=ve(t.path,n.name)}a.many_to_many.forEach((function(e,a){e.path=t.path+"::"+e.fk_name,t.children.push(e)})),a.many_to_one.forEach((function(e,a){e.path=t.path+"::"+e.fk_name,t.children.push(e)})),a.one_to_many.forEach((function(e,a){e.path=t.path+"::"+e.class_name,t.children.push(e)}))})).catch((function(e){console.error(e);try{Ke.ShowError("Custom.Generic.Message.Error")}catch(t){console.error(t),Ke.ShowError("BLFlex.Notification.ErrorSave")}})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state=a.getInitialStateBaseSource(e,!0),a}return Object(b.a)(t,e),Object(h.a)(t,[{key:"componentWillReceiveProps",value:function(){var e=Object(o.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.report_header_data||!this.props.report_header_data||t.report_header_data.selected_class===this.props.report_header_data.selected_class){e.next=4;break}return e.next=3,this.setState(this.getInitialStateBaseSource(t));case 3:this.onCheck(this.state.checkedKeys);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.onCheck(this.state.checkedKeys,!0)}},{key:"componentWillUnmount",value:function(){this.props.is_create_edit&&this.props.updateObjectProperty("report_header_data","metadata",this.state)}},{key:"render",value:function(){var e=!1,t=this.props.is_create_edit,a=function a(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return r.map((function(r,o){var i=!1===e&&0===o;e=!0;var c,s=!0;n&&r.label.startsWith("(m2m)")&&r.label===n.label&&(s=!1),c=s&&r.children?a(r.children,r):null;var u=!1;return"fetchingData"in r&&r.fetchingData&&(u=!0),l.a.createElement(Je.a,{disabled:u,disableCheckbox:i||!t,title:r.label,key:r.path,isLeaf:!1,module_info:r},c)}))}(this.state.treeData);return l.a.createElement("div",null,l.a.createElement(Je.b,{checkable:!0,showIcon:!1,selectable:!1,onCheck:this.onCheck,checkedKeys:this.state.checkedKeys,expandedKeys:this.state.expandedKeys,onExpand:this.onExpand,autoExpandParent:!0,loadData:this.onClickLoad,checkStrictly:!0},a))}}]),t}(i.Component)),et=Object(u.b)((function(e){return{report_header_data:e.general.report_header_data,modules_list:D()(e.general.modules_list),is_create_edit:e.general.is_create_edit}}),(function(e){return{updateObjectProperty:function(t,a,r){e(K(t,a,r))},updateFieldList:function(t){e(function(e){return{type:"UPDATE_FIELD_LIST",field_list:e}}(t))}}}))(Qe),tt=(a(620),function(e){function t(){var e,a;Object(f.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(_.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(n)))).state={text:""},a}return Object(b.a)(t,e),Object(h.a)(t,[{key:"getText",value:function(){var e=Object(o.a)(n.a.mark((function e(){var t,a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.resourceTag,e.next=3,Xe.GetResource(t);case 3:a=e.sent,this.setState({text:a});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(o.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({text:this.props.resourceTag}),e.next=3,this.getText();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,this.state.text)}}]),t}(l.a.Component)),at=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(_.a)(this,Object(g.a)(t).call(this,e))).onChangeSource=function(){var e=Object(o.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.onHandleChange("selected_class",t.value);case 2:return e.next=4,a.onHandleChange("module_path",t.class_path);case 4:return e.next=6,a.onHandleChange("module",t.module);case 6:a.props.cleanPreviewData();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onHandleChange=a.onHandleChange.bind(Object(C.a)(a)),a}return Object(b.a)(t,e),Object(h.a)(t,[{key:"onHandleChange",value:function(){var e=Object(o.a)(n.a.mark((function e(t,a){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.updateObjectProperty("report_header_data",t,a);case 2:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,a=t.report_header_data,r=(t.users_list,t.toggleConfigModal),n=t.show_config_modal,o=t.modules_list,i=(t.roles_list,t.groups),c=t.filters,s=t.columns,u=t.is_create_edit,d=(t.teams_list,D()(o));return d.map((function(e){return e.options?(e.options.map((function(e){return e.value=e.class_name,e})),e):e})),l.a.createElement(w.a,{scrollable:!1,centered:!0,size:"lg",isOpen:n,toggle:r,className:"config-modal"},l.a.createElement(O.a,{toggle:r},l.a.createElement("i",{className:"fa fa-cog","aria-hidden":"true"}),l.a.createElement(tt,{resourceTag:"BLFlex.Label.FlexConfiguration"})),l.a.createElement(F.a,null,l.a.createElement(T.a,null,l.a.createElement(E.a,{form:!0},l.a.createElement(x.a,{md:12},l.a.createElement(A.a,null,l.a.createElement(M.a,{for:"name"},l.a.createElement(tt,{resourceTag:"BLFlex.Label.FlexName"})),l.a.createElement(N.a,{type:"text",disabled:!u,name:"name",id:"name",onChange:function(t){e.onHandleChange("name",t.target.value)},value:a.name})))),l.a.createElement(E.a,{form:!0},l.a.createElement(x.a,{md:12},l.a.createElement(A.a,null,l.a.createElement(M.a,{for:"description"},l.a.createElement(tt,{resourceTag:"BLFlex.Label.FlexDescription"})),l.a.createElement(N.a,{disabled:!u,type:"textarea",name:"description",id:"description",onChange:function(t){e.onHandleChange("description",t.target.value)},value:a.description})))),l.a.createElement(E.a,{form:!0},l.a.createElement(x.a,{md:12},l.a.createElement(A.a,null,l.a.createElement(M.a,{for:"module_path"},l.a.createElement(tt,{resourceTag:"BLFlex.Label.FlexSource"})),l.a.createElement("div",{className:"source-tree"},l.a.createElement(x.a,{md:6},l.a.createElement(S.a,{isDisabled:!u||i&&i.length>0||c&&c.length>0||s&&s.length>0,name:"module_path",options:d,onChange:function(t){e.onChangeSource(t)},value:Oe(d,a.selected_class)})),l.a.createElement(x.a,{className:"tree-container",md:12},l.a.createElement(et,null)))))))),l.a.createElement(L.a,null,l.a.createElement(k.a,{color:"primary",className:"btn_primary_def_1",onClick:r},l.a.createElement(tt,{resourceTag:"Action.Continue"}))))}}]),t}(i.Component),rt=Object(u.b)((function(e){return{report_header_data:e.general.report_header_data,users_list:e.general.users_list,show_config_modal:e.general.show_config_modal,modules_list:e.general.modules_list,roles_list:e.general.roles_list,groups:e.general.groups,filters:e.general.filters,columns:e.general.columns,is_create_edit:e.general.is_create_edit,teams_list:e.general.teams_list}}),(function(e){return{toggleConfigModal:function(){e({type:"TOGGLE_CONFIG_MODAL"})},updateObjectProperty:function(){var t=Object(o.a)(n.a.mark((function t(a,r,o){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(K(a,r,o));case 2:case"end":return t.stop()}}),t)})));return function(e,a,r){return t.apply(this,arguments)}}(),cleanPreviewData:function(){e(R([]))}}}))(at),nt=a(497),ot=a(499),it=a.n(ot),lt=a(159),ct=a.n(lt),st=a(225),ut=a.n(st),dt=["#80c9a7","#bada8c","#326fac","#32b9b0","#56bd8d","#d1e5b1","#ffd690","#5ac5d9","#6691c0","#00a89d","#addfea","#f27c93","#84d1e0","#134b95","#a8d9c4","#a3cf66","#f9a94b","#f9bca5","#69c7c2","#ffe3b5","#8cc640","#f5a6b7","#f9be77","#f05a26","#ed294e","#f69c7b","#2fb6d0","#f79420","#ef5370","#f37a50","#ffca6d","#9bd7d5","#1eb473","#fcbb48","#fcd4a4","#98b7d5"],pt=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(_.a)(this,Object(g.a)(t).call(this,e))).groupData=function(){var e=Object(o.a)(n.a.mark((function e(t,r){var o,i,l,c,s,u,d,p,m,f,h;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.data,i=t.chart_def,!(o.length<=0||t.is_preview&&o.length>300&&!i.operator)){e.next=4;break}return e.abrupt("return",a.setState({data:[],line_series:[]}));case 4:if("undefined"===typeof r&&(r={}),l={},c=i.xaxis,"numeric"===i.type&&(c="oreports_all"),s=i.operator,i.operator){e.next=11;break}return e.abrupt("return",a.setState({data:o,line_series:[]}));case 11:return u=c+"_oreports_key",d=-1!==["line","area","stacked_bar","grouped_bar","horizontal_stacked_bar","horizontal_grouped_bar"].indexOf(i.type),p=!(!d||!i.value_field),m=[],e.next=17,i.yaxis.forEach((function(e){for(var t=0;t<o.length;t++)try{var a=o[t],n=a[c]in r?r[a[c]]:a[c],d=a[u]in r?r[a[u]]:a[u],f=p?Number(a[i.value_field]):Number(a[e]);if(!(n in l)){l[n]={},l[n][c]=n,l[n][u]=d;var h=t;h>dt.length-1&&(h%=dt.length),l[n].color=dt[h]}var _=p?a[e]:e;p&&-1===m.indexOf(_)&&m.push(_),"numeric"===i.type&&"count"===s&&null!==a[e]&&-1===m.indexOf(a[e])&&m.push(a[e]),_ in l[n]?(l[n][_+"__counter"]+=1,"sum"===s?l[n][_]+=f:"count"===s?l[n][_]+=1:"min"===s?l[n][_]=Math.min(l[n][_],f):"max"===s?l[n][_]=Math.max(l[n][_],f):"avg"===s&&l[n][_].push(f)):(l[n][_+"__counter"]=1,l[n][_]="avg"===s?[f]:"count"===s?1:f)}catch(y){console.log("error for",y)}if("avg"===s)for(var g in l)if(p)for(var b in l[g])l[g].hasOwnProperty(b)&&Array.isArray(l[g][b])&&(l[g][b]=l[g][b].reduce((function(e,t){return e+t}),0)/l[g][b].length);else l[g][e]=l[g][e].reduce((function(e,t){return e+t}),0)/l[g][e].length;else"numeric"===i.type&&"count"===s&&(l[void 0][e]=m.length,m=[])}));case 17:if(f=Object.values(l),i&&i.order_options_value&&i.order_options_value.length>0&&f.length>0&&(h=i.order_options_value.map((function(e){return e.value})),(f=f.filter((function(e){return-1!==h.indexOf(e[u].toString())}))).sort((function(e,t){var a=h.indexOf(e[u].toString()),r=h.indexOf(t[u].toString());return(a>-1?a:1/0)-(r>-1?r:1/0)}))),!(f.length>300)){e.next=22;break}return Ke.ShowError("BLFlex.Notification.ChangeFilter"),e.abrupt("return",a.setState({data:[],line_series:m}));case 22:return e.abrupt("return",a.setState({data:f,line_series:m}));case 23:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),a.onPointClick=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.item&&t&&a.props.applyFilter(t,e.item.argument),e.target&&e.target.series&&a.props.applyFilter(e.target.series.getArgumentField(),e.target.argument)},a.onLegendClick=function(e){return function(t){if(e&&t.target){var r=t.target;r.name&&(r=r.name),-1!==["line","area","stacked_bar","grouped_bar","horizontal_stacked_bar","horizontal_grouped_bar"].indexOf(a.props.chart_def.type)&&a.props.chart_def.yaxis&&a.props.chart_def.yaxis.length>0?a.props.applyFilter(a.props.chart_def.yaxis[0],r):a.props.applyFilter(e,r)}}},a.compareValues=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";return function(a,r){if(!a.hasOwnProperty(e)||!r.hasOwnProperty(e))return 0;var n="string"===typeof a[e]?a[e].toUpperCase():a[e],o="string"===typeof r[e]?r[e].toUpperCase():r[e],i=0;return n>o?i=1:n<o&&(i=-1),"desc"===t?-1*i:i}},a.state={data:[],line_series:[]},a}return Object(b.a)(t,e),Object(h.a)(t,[{key:"componentWillMount",value:function(){this.props.data.length>0&&this.groupData(this.props)}},{key:"componentWillReceiveProps",value:function(e){ct()(e.data,this.props.data)&&e.chart_def.xaxis===this.props.chart_def.xaxis&&e.chart_def.value_field===this.props.chart_def.value_field&&ct()(e.chart_def.yaxis,this.props.chart_def.yaxis)&&e.chart_def.type===this.props.chart_def.type&&e.chart_def.operator===this.props.chart_def.operator&&e.loading===this.props.loading&&ct()(e.chart_def.order_options_value,this.props.chart_def.order_options_value)||this.groupData(e)}},{key:"render",value:function(){var e=this,t=this.props,a=t.chart_def,r=t.groups,n=t.columns,o=t.isZoomed,i=n.map((function(e){return{value:e.key_name,label:e.label,field_type:e.type}})).concat(r.map((function(e){return{value:e.key_name,label:e.label,field_type:e.type}}))),c=a.type,s=-1!==["line","area","stacked_bar","grouped_bar","horizontal_stacked_bar","horizontal_grouped_bar"].indexOf(a.type),u={title:a.title,dataSource:this.state.data,tooltip:{enabled:!0,format:function(e){return we(e,2)}},legend:{visible:!0},onPointClick:this.onPointClick,onLegendClick:this.onLegendClick(a.xaxis)};switch(a.type){case"stacked_bar":c="stackedBar";break;case"grouped_bar":c="bar";break;case"horizontal_bar":c="bar",u.rotated=!0;break;case"horizontal_stacked_bar":c="stackedBar",u.rotated=!0;break;case"horizontal_grouped_bar":c="bar",u.rotated=!0}var d=[];d=s?this.state.line_series.map((function(e){return{valueField:e,argumentField:a.xaxis,type:c,ignoreEmptyPoints:!1,name:e}})):a.yaxis.map((function(e){var t=i.find((function(t){return t.value===e}));return{valueField:e,argumentField:a.xaxis,type:c,ignoreEmptyPoints:!0,name:t?t.label:""}})),u.tooltip={enabled:!0,format:function(e){return we(e,2)},customizeTooltip:function(e){var t=we(e.originalValue,2,!0),a=e.argumentText;return e.argumentText!==e.seriesName&&(a+="\n"+e.seriesName),{text:a+="\n"+t}}};var p=null;if("donut"===c)u.commonSeriesSettings={label:{visible:!0,font:{size:16,color:"black"},connector:{visible:!0,width:.5}},argumentField:a.xaxis,type:""},u.tooltip={enabled:!0,format:function(e){return we(e,2)},customizeTooltip:function(e){var t=we(e.originalValue,2,!0);return{text:"".concat(e.argumentText,"\n").concat(t," - ").concat((100*e.percent).toFixed(2),"%")}}},u.legend={margin:0,horizontalAlignment:"right",verticalAlignment:"top"},d.forEach((function(e){e.label={format:function(e){return we(e,2)}}})),u.series=d,u.resolveLabelOverlapping="hide",p=l.a.createElement(it.a,Object.assign({},u,{ref:function(t){return e.chartRef=t}}));else if("funnel"===c)u.argumentField=a.xaxis,u.valueField=d.length>0?d[0].valueField:"",u.tooltip={enabled:!0,format:function(e){return we(e,2)},customizeTooltip:function(e){var t=we(e.value,2,!0);return{text:"".concat(e.item.argument,"\n").concat(t)}}},u.onItemClick=function(t){return e.onPointClick(t,a.xaxis)},p=l.a.createElement(ut.a,Object.assign({},u,{ref:function(t){return e.chartRef=t},sortData:!(a.order_options_value&&a.order_options_value.length>0),algorithm:"dynamicHeight"}),l.a.createElement(st.Legend,{visible:!!o}),l.a.createElement(st.Item,null,l.a.createElement(st.Border,{visible:!0})),l.a.createElement(st.Label,{visible:!!o,horizontalAlignment:"left",backgroundColor:"none",customizeText:function(e){var t=we(e.value,2);return"".concat(e.item.argument," - ").concat(t)}},l.a.createElement(st.Font,{size:16,color:"#000"})));else if("numeric"===c){var m=0,f=d.length>0?d[0].valueField:"";(this.state.data||[]).forEach((function(e){m+=e[f]||0}));var h=i.find((function(e){return e.value===f})),_=0;if(h)switch(h.field_type){case"CurrencyField":_="$"+we(m,2,!0),m="$"+we(m,2);break;default:_=we(m,2,!0),m=we(m,2)}p=l.a.createElement("div",{className:"numeric-chart",title:_,style:{backgroundColor:a.background_color||"inherit",color:a.text_color||"inherit"}},l.a.createElement("span",{className:"numeric-chart-title"},a.title||""),l.a.createElement("span",{className:"numeric-chart-body"},m))}else{d.length>1||s?u.series=d:(u.seriesTemplate={nameField:a.xaxis},u.commonSeriesSettings={argumentField:a.xaxis,valueField:d.length>0?d[0].valueField:"",type:c,ignoreEmptyPoints:!0});var g=i.find((function(e){return e.value===a.xaxis}));g&&"IntegerField"===g.field_type&&(u.argumentAxis={type:"discrete"});var b=n.find((function(e){return e.isSorter}));if(b){var y=b.sortType?b.sortType:"desc",v=ie.a.cloneDeep(u.dataSource);u.dataSource=v.sort(this.compareValues(b.name,y))}p=l.a.createElement(nt.Chart,Object.assign({ref:function(t){return e.chartRef=t}},u))}return p}}]),t}(i.Component),mt=Object(u.b)((function(e){return{groups:e.general.groups,columns:e.general.columns,is_create_edit:e.general.is_create_edit,data:e.general.charts_data}}),(function(e){return{applyFilter:function(t,a){e(X(t,a))}}}))(pt);function ft(){return(ft=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function ht(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var _t=l.a.createElement("g",{id:"Group_2639","data-name":"Group 2639",transform:"translate(19395 1576.005)",opacity:.5},l.a.createElement("g",{id:"Group_2637","data-name":"Group 2637",transform:"translate(-19394.824 -1576.005)"},l.a.createElement("path",{id:"Union_1","data-name":"Union 1",d:"M16.385,36.808V24.457H4.035a4.035,4.035,0,0,1,0-8.07H16.385V4.036a4.035,4.035,0,1,1,8.07,0V16.386H36.806a4.035,4.035,0,1,1,0,8.07H24.456V36.808a4.035,4.035,0,0,1-8.07,0Z",transform:"translate(100.419 28.47) rotate(-16)",fill:"#909090",opacity:.5}),l.a.createElement("path",{id:"Union_2","data-name":"Union 2",d:"M16.385,36.808V24.458H4.035a4.036,4.036,0,0,1,0-8.071H16.385V4.036a4.035,4.035,0,1,1,8.07,0V16.386H36.806a4.036,4.036,0,0,1,0,8.071H24.456V36.808a4.035,4.035,0,0,1-8.07,0Z",transform:"translate(242.773 0) rotate(28)",fill:"#909090",opacity:.5}),l.a.createElement("path",{id:"Union_4","data-name":"Union 4",d:"M16.385,36.808V24.458H4.035a4.036,4.036,0,0,1,0-8.071H16.385V4.036a4.035,4.035,0,1,1,8.07,0V16.386H36.806a4.036,4.036,0,0,1,0,8.071H24.456V36.808a4.035,4.035,0,0,1-8.07,0Z",transform:"translate(319.476 297.683) rotate(9)",fill:"#909090",opacity:.5}),l.a.createElement("path",{id:"Union_6","data-name":"Union 6",d:"M16.385,36.808V24.458H4.035a4.036,4.036,0,0,1,0-8.071H16.385V4.036a4.035,4.035,0,1,1,8.07,0V16.386H36.806a4.036,4.036,0,0,1,0,8.071H24.456V36.808a4.035,4.035,0,0,1-8.07,0Z",transform:"translate(27.361 293.694) rotate(-18)",fill:"#909090",opacity:.5}),l.a.createElement("path",{id:"Union_3","data-name":"Union 3",d:"M10.427,23.423v-7.86H2.568a2.568,2.568,0,0,1,0-5.136h7.859V2.568a2.568,2.568,0,0,1,5.136,0v7.86h7.859a2.568,2.568,0,0,1,0,5.136H15.563v7.86a2.568,2.568,0,0,1-5.136,0Z",transform:"translate(401.501 145.003) rotate(13)",fill:"#909090",opacity:.5}),l.a.createElement("path",{id:"Union_7","data-name":"Union 7",d:"M10.427,23.423v-7.86H2.568a2.568,2.568,0,0,1,0-5.136h7.859V2.568a2.568,2.568,0,0,1,5.136,0v7.86h7.859a2.568,2.568,0,0,1,0,5.136H15.563v7.86a2.568,2.568,0,0,1-5.136,0Z",transform:"translate(65.244 106.978) rotate(-15)",fill:"#909090",opacity:.5}),l.a.createElement("path",{id:"Union_5","data-name":"Union 5",d:"M10.427,23.423v-7.86H2.568a2.568,2.568,0,0,1,0-5.136h7.859V2.568a2.568,2.568,0,0,1,5.136,0v7.86h7.859a2.568,2.568,0,0,1,0,5.136H15.563v7.86a2.568,2.568,0,0,1-5.136,0Z",transform:"translate(184.787 348.896) rotate(-11)",fill:"#909090",opacity:.5}),l.a.createElement("path",{id:"Exclusion_1","data-name":"Exclusion 1",d:"M14,28a14.1,14.1,0,0,1-2.822-.284,13.921,13.921,0,0,1-5.006-2.106A14.039,14.039,0,0,1,1.1,19.449a13.926,13.926,0,0,1-.816-2.628,14.135,14.135,0,0,1,0-5.643A13.924,13.924,0,0,1,2.391,6.172,14.041,14.041,0,0,1,8.551,1.1,13.9,13.9,0,0,1,11.179.284a14.134,14.134,0,0,1,5.643,0,13.921,13.921,0,0,1,5.006,2.106A14.04,14.04,0,0,1,26.9,8.551a13.932,13.932,0,0,1,.816,2.628,14.137,14.137,0,0,1,0,5.643,13.925,13.925,0,0,1-2.107,5.006A14.041,14.041,0,0,1,19.45,26.9a13.914,13.914,0,0,1-2.628.816A14.1,14.1,0,0,1,14,28ZM14,4.359A9.6,9.6,0,0,0,8.61,6.006a9.669,9.669,0,0,0-3.493,4.242,9.628,9.628,0,0,0,.889,9.143,9.667,9.667,0,0,0,4.241,3.493,9.628,9.628,0,0,0,9.143-.889,9.671,9.671,0,0,0,3.493-4.241,9.628,9.628,0,0,0-.889-9.143,9.668,9.668,0,0,0-4.242-3.493A9.582,9.582,0,0,0,14,4.359Z",transform:"translate(330.824 60.005)",fill:"#909090",opacity:.5}),l.a.createElement("path",{id:"Exclusion_6","data-name":"Exclusion 6",d:"M14,28a14.1,14.1,0,0,1-2.822-.284,13.921,13.921,0,0,1-5.006-2.106A14.039,14.039,0,0,1,1.1,19.449a13.926,13.926,0,0,1-.816-2.628,14.135,14.135,0,0,1,0-5.643A13.924,13.924,0,0,1,2.391,6.172,14.041,14.041,0,0,1,8.551,1.1,13.9,13.9,0,0,1,11.179.284a14.134,14.134,0,0,1,5.643,0,13.921,13.921,0,0,1,5.006,2.106A14.04,14.04,0,0,1,26.9,8.551a13.932,13.932,0,0,1,.816,2.628,14.137,14.137,0,0,1,0,5.643,13.925,13.925,0,0,1-2.107,5.006A14.041,14.041,0,0,1,19.45,26.9a13.914,13.914,0,0,1-2.628.816A14.1,14.1,0,0,1,14,28ZM14,4.359A9.6,9.6,0,0,0,8.61,6.006a9.669,9.669,0,0,0-3.493,4.242,9.628,9.628,0,0,0,.889,9.143,9.667,9.667,0,0,0,4.241,3.493,9.628,9.628,0,0,0,9.143-.889,9.671,9.671,0,0,0,3.493-4.241,9.628,9.628,0,0,0-.889-9.143,9.668,9.668,0,0,0-4.242-3.493A9.582,9.582,0,0,0,14,4.359Z",transform:"translate(-0.176 160.005)",fill:"#909090",opacity:.5}),l.a.createElement("path",{id:"Exclusion_4","data-name":"Exclusion 4",d:"M14,28a14.1,14.1,0,0,1-2.822-.284,13.921,13.921,0,0,1-5.006-2.106A14.039,14.039,0,0,1,1.1,19.449a13.926,13.926,0,0,1-.816-2.628,14.135,14.135,0,0,1,0-5.643A13.924,13.924,0,0,1,2.391,6.172,14.041,14.041,0,0,1,8.551,1.1,13.9,13.9,0,0,1,11.179.284a14.134,14.134,0,0,1,5.643,0,13.921,13.921,0,0,1,5.006,2.106A14.04,14.04,0,0,1,26.9,8.551a13.932,13.932,0,0,1,.816,2.628,14.137,14.137,0,0,1,0,5.643,13.925,13.925,0,0,1-2.107,5.006A14.041,14.041,0,0,1,19.45,26.9a13.914,13.914,0,0,1-2.628.816A14.1,14.1,0,0,1,14,28ZM14,4.359A9.6,9.6,0,0,0,8.61,6.006a9.669,9.669,0,0,0-3.493,4.242,9.628,9.628,0,0,0,.889,9.143,9.667,9.667,0,0,0,4.241,3.493,9.628,9.628,0,0,0,9.143-.889,9.671,9.671,0,0,0,3.493-4.241,9.628,9.628,0,0,0-.889-9.143,9.668,9.668,0,0,0-4.242-3.493A9.582,9.582,0,0,0,14,4.359Z",transform:"translate(262.824 370.005)",fill:"#909090",opacity:.5}),l.a.createElement("path",{id:"Exclusion_8","data-name":"Exclusion 8",d:"M14,28a14.1,14.1,0,0,1-2.822-.284,13.921,13.921,0,0,1-5.006-2.106A14.039,14.039,0,0,1,1.1,19.449a13.926,13.926,0,0,1-.816-2.628,14.135,14.135,0,0,1,0-5.643A13.924,13.924,0,0,1,2.391,6.172,14.041,14.041,0,0,1,8.551,1.1,13.9,13.9,0,0,1,11.179.284a14.134,14.134,0,0,1,5.643,0,13.921,13.921,0,0,1,5.006,2.106A14.04,14.04,0,0,1,26.9,8.551a13.932,13.932,0,0,1,.816,2.628,14.137,14.137,0,0,1,0,5.643,13.925,13.925,0,0,1-2.107,5.006A14.041,14.041,0,0,1,19.45,26.9a13.914,13.914,0,0,1-2.628.816A14.1,14.1,0,0,1,14,28ZM14,4.359A9.6,9.6,0,0,0,8.61,6.006a9.669,9.669,0,0,0-3.493,4.242,9.628,9.628,0,0,0,.889,9.143,9.667,9.667,0,0,0,4.241,3.493,9.628,9.628,0,0,0,9.143-.889,9.671,9.671,0,0,0,3.493-4.241,9.628,9.628,0,0,0-.889-9.143,9.668,9.668,0,0,0-4.242-3.493A9.582,9.582,0,0,0,14,4.359Z",transform:"translate(380.824 274.005)",fill:"#909090",opacity:.5}),l.a.createElement("path",{id:"Exclusion_2","data-name":"Exclusion 2",d:"M8.5,17a8.559,8.559,0,0,1-1.713-.173,8.452,8.452,0,0,1-3.039-1.279,8.524,8.524,0,0,1-3.08-3.74,8.455,8.455,0,0,1-.5-1.6,8.582,8.582,0,0,1,0-3.426,8.454,8.454,0,0,1,1.279-3.04A8.525,8.525,0,0,1,5.192.668a8.441,8.441,0,0,1,1.6-.5,8.582,8.582,0,0,1,3.426,0,8.452,8.452,0,0,1,3.039,1.279,8.524,8.524,0,0,1,3.08,3.74,8.459,8.459,0,0,1,.5,1.6,8.583,8.583,0,0,1,0,3.426,8.455,8.455,0,0,1-1.279,3.04,8.525,8.525,0,0,1-3.74,3.079,8.448,8.448,0,0,1-1.6.5A8.558,8.558,0,0,1,8.5,17Zm0-14.353a5.826,5.826,0,0,0-3.273,1A5.871,5.871,0,0,0,3.107,6.222a5.845,5.845,0,0,0,.54,5.551,5.869,5.869,0,0,0,2.575,2.121,5.846,5.846,0,0,0,5.551-.54,5.872,5.872,0,0,0,2.121-2.575,5.846,5.846,0,0,0-.54-5.551,5.87,5.87,0,0,0-2.575-2.121A5.818,5.818,0,0,0,8.5,2.647Z",transform:"translate(335.824 202.005)",fill:"#909090",opacity:.5}),l.a.createElement("path",{id:"Exclusion_5","data-name":"Exclusion 5",d:"M8.5,17a8.559,8.559,0,0,1-1.713-.173,8.452,8.452,0,0,1-3.039-1.279,8.524,8.524,0,0,1-3.08-3.74,8.455,8.455,0,0,1-.5-1.6,8.582,8.582,0,0,1,0-3.426,8.454,8.454,0,0,1,1.279-3.04A8.525,8.525,0,0,1,5.192.668a8.441,8.441,0,0,1,1.6-.5,8.582,8.582,0,0,1,3.426,0,8.452,8.452,0,0,1,3.039,1.279,8.524,8.524,0,0,1,3.08,3.74,8.459,8.459,0,0,1,.5,1.6,8.583,8.583,0,0,1,0,3.426,8.455,8.455,0,0,1-1.279,3.04,8.525,8.525,0,0,1-3.74,3.079,8.448,8.448,0,0,1-1.6.5A8.558,8.558,0,0,1,8.5,17Zm0-14.353a5.826,5.826,0,0,0-3.273,1A5.871,5.871,0,0,0,3.107,6.222a5.845,5.845,0,0,0,.54,5.551,5.869,5.869,0,0,0,2.575,2.121,5.846,5.846,0,0,0,5.551-.54,5.872,5.872,0,0,0,2.121-2.575,5.846,5.846,0,0,0-.54-5.551,5.87,5.87,0,0,0-2.575-2.121A5.818,5.818,0,0,0,8.5,2.647Z",transform:"translate(109.824 361.005)",fill:"#909090",opacity:.5}),l.a.createElement("path",{id:"Exclusion_3","data-name":"Exclusion 3",d:"M8.5,17a8.559,8.559,0,0,1-1.713-.173,8.452,8.452,0,0,1-3.039-1.279,8.524,8.524,0,0,1-3.08-3.74,8.455,8.455,0,0,1-.5-1.6,8.582,8.582,0,0,1,0-3.426,8.454,8.454,0,0,1,1.279-3.04A8.525,8.525,0,0,1,5.192.668a8.441,8.441,0,0,1,1.6-.5,8.582,8.582,0,0,1,3.426,0,8.452,8.452,0,0,1,3.039,1.279,8.524,8.524,0,0,1,3.08,3.74,8.459,8.459,0,0,1,.5,1.6,8.583,8.583,0,0,1,0,3.426,8.455,8.455,0,0,1-1.279,3.04,8.525,8.525,0,0,1-3.74,3.079,8.448,8.448,0,0,1-1.6.5A8.558,8.558,0,0,1,8.5,17Zm0-14.353a5.826,5.826,0,0,0-3.273,1A5.871,5.871,0,0,0,3.107,6.222a5.845,5.845,0,0,0,.54,5.551,5.869,5.869,0,0,0,2.575,2.121,5.846,5.846,0,0,0,5.551-.54,5.872,5.872,0,0,0,2.121-2.575,5.846,5.846,0,0,0-.54-5.551,5.87,5.87,0,0,0-2.575-2.121A5.818,5.818,0,0,0,8.5,2.647Z",transform:"translate(191.824 74.005)",fill:"#909090",opacity:.5}),l.a.createElement("path",{id:"Exclusion_7","data-name":"Exclusion 7",d:"M8.5,17a8.559,8.559,0,0,1-1.713-.173,8.452,8.452,0,0,1-3.039-1.279,8.524,8.524,0,0,1-3.08-3.74,8.455,8.455,0,0,1-.5-1.6,8.582,8.582,0,0,1,0-3.426,8.454,8.454,0,0,1,1.279-3.04A8.525,8.525,0,0,1,5.192.668a8.441,8.441,0,0,1,1.6-.5,8.582,8.582,0,0,1,3.426,0,8.452,8.452,0,0,1,3.039,1.279,8.524,8.524,0,0,1,3.08,3.74,8.459,8.459,0,0,1,.5,1.6,8.583,8.583,0,0,1,0,3.426,8.455,8.455,0,0,1-1.279,3.04,8.525,8.525,0,0,1-3.74,3.079,8.448,8.448,0,0,1-1.6.5A8.558,8.558,0,0,1,8.5,17Zm0-14.353a5.826,5.826,0,0,0-3.273,1A5.871,5.871,0,0,0,3.107,6.222a5.845,5.845,0,0,0,.54,5.551,5.869,5.869,0,0,0,2.575,2.121,5.846,5.846,0,0,0,5.551-.54,5.872,5.872,0,0,0,2.121-2.575,5.846,5.846,0,0,0-.54-5.551,5.87,5.87,0,0,0-2.575-2.121A5.818,5.818,0,0,0,8.5,2.647Z",transform:"translate(86.824 165.005)",fill:"#909090",opacity:.5}),l.a.createElement("g",{id:"statistics",transform:"translate(120.064 106.425)",opacity:.5},l.a.createElement("path",{id:"Path_1074","data-name":"Path 1074",d:"M47.522,88.116A16.439,16.439,0,0,0,58.958,83.47l16.3,8.15a16.182,16.182,0,0,0-.2,2,16.522,16.522,0,1,0,33.043,0,16.321,16.321,0,0,0-1.656-7.078L128.56,64.43a16.321,16.321,0,0,0,7.078,1.656,16.541,16.541,0,0,0,16.522-16.522,16.274,16.274,0,0,0-.825-4.893l19.215-14.408a16.511,16.511,0,1,0-7.376-13.742A16.274,16.274,0,0,0,164,21.415L144.783,35.823a16.45,16.45,0,0,0-24.011,20.82L98.657,78.758a16.235,16.235,0,0,0-18.514,2.989l-16.3-8.15a16.182,16.182,0,0,0,.2-2A16.522,16.522,0,1,0,47.522,88.116Zm0,0",transform:"translate(-19.618)",fill:"#909090"}),l.a.createElement("path",{id:"Path_1075","data-name":"Path 1075",d:"M182.473,271.893H176.6V155.507A5.5,5.5,0,0,0,171.091,150H149.062a5.5,5.5,0,0,0-5.507,5.507V271.893H132.541V188.551a5.5,5.5,0,0,0-5.507-5.507H105a5.5,5.5,0,0,0-5.507,5.507v83.343H88.483V232.608a5.5,5.5,0,0,0-5.507-5.507H60.947a5.5,5.5,0,0,0-5.507,5.507v39.285H44.425V210.58a5.505,5.505,0,0,0-5.507-5.507H16.889a5.505,5.505,0,0,0-5.507,5.507v61.314H5.507a5.507,5.507,0,1,0,0,11.014H182.473a5.507,5.507,0,1,0,0-11.014Zm0,0",transform:"translate(0 -94.928)",fill:"#909090"})))),gt=function(e){var t=e.svgRef,a=e.title,r=ht(e,["svgRef","title"]);return l.a.createElement("svg",ft({width:426.998,height:398.005,viewBox:"0 0 426.998 398.005",ref:t},r),a?l.a.createElement("title",null,a):null,_t)},bt=l.a.forwardRef((function(e,t){return l.a.createElement(gt,ft({svgRef:t},e))})),yt=(a.p,a(63)),vt=a.n(yt),Et=a(500),xt=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(_.a)(this,Object(g.a)(t).call(this,e))).handleClick=function(){a.setState({displayColorPicker:!a.state.displayColorPicker})},a.handleClose=function(){a.setState({displayColorPicker:!1})},a.handleChange=function(e){a.setState({color:e.hex}),a.props.onChange(e.hex)},a.state={displayColorPicker:!1,color:e.defaultColor||"#fff"},a}return Object(b.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.value,t=e||this.state.color,a=vt()({default:{color:{width:"36px",height:"14px",borderRadius:"2px",background:"".concat(t)},swatch:{padding:"5px",background:"#fff",borderRadius:"5px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",display:"inline-block",cursor:"pointer"},popover:{position:"absolute",zIndex:"2"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}}});return l.a.createElement("div",null,l.a.createElement("div",{style:a.swatch,onClick:this.handleClick},l.a.createElement("div",{style:a.color})),this.state.displayColorPicker?l.a.createElement("div",{style:a.popover},l.a.createElement("div",{style:a.cover,onClick:this.handleClose}),l.a.createElement(Et.SketchPicker,{color:this.state.color,onChange:this.handleChange})):null)}}]),t}(l.a.Component);function Ot(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function kt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ot(a,!0).forEach((function(t){Object(ae.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ot(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var wt=[{value:"bar",label:"Barras"},{value:"stacked_bar",label:"Barras Apiladas"},{value:"grouped_bar",label:"Barras Agrupadas"},{value:"horizontal_bar",label:"Barras Horizontales"},{value:"horizontal_stacked_bar",label:"Barras Horizontales Apiladas"},{value:"horizontal_grouped_bar",label:"Barras Horizontales Agrupadas"},{value:"donut",label:"Dona"},{value:"line",label:"L\xedneas"},{value:"area",label:"\xc1rea"},{value:"funnel",label:"Funnel"},{value:"numeric",label:"Num\xe9rico"}],Ft=[{value:"count",label:"Contar"},{value:"sum",label:"Sumar"},{value:"avg",label:"Promedio"},{value:"max",label:"Maximo"},{value:"min",label:"M\xednimo"}],Ct=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(_.a)(this,Object(g.a)(t).call(this,e))).getOptionsEnums=function(){var e=Object(o.a)(n.a.mark((function e(t){var r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return a.setState({order_options:[]}),e.abrupt("return");case 3:r={enum:t.list_name,fieldDef:t.list_name},fetch("/api/BLFlex/GetOptionsEnum/",{method:"POST",credentials:"same-origin",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify(r)}).then((function(e){return e.json()})).then((function(e){e.status&&e.data&&a.setState({order_options:e.data.map((function(e){return{value:e.key,label:e.label}}))})})).catch((function(e){console.log("[getOptionsEnums] Error",e),a.setState({order_options:[]})}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onSave=Object(o.a)(n.a.mark((function e(){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"===typeof(t=a.props.edit_chart_index)||null===t){e.next=6;break}return e.next=4,a.props.editChart(t,a.state);case 4:e.next=8;break;case 6:return e.next=8,a.props.addChart(a.state);case 8:a.closeModal();case 9:case"end":return e.stop()}}),e)}))),a.onHandleChange=function(e,t){a.setState(Object(ae.a)({},e,t))},a.closeModal=Object(o.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState(kt({},a.initial_state)),e.next=3,a.props.setEditChartIndex(void 0);case 3:a.props.toggleChartsModal();case 4:case"end":return e.stop()}}),e)}))),a.initial_state={title:"",type:"",xaxis:"",yaxis:[],operator:"",order_options:[],order_options_value:[],value_field:"",background_color:"#fff",text_color:"#000"},a.state=kt({},a.initial_state),a}return Object(b.a)(t,e),Object(h.a)(t,[{key:"componentWillReceiveProps",value:function(e){if(e.edit_chart_index!==this.props.edit_chart_index)try{var t=e.chart_list[e.edit_chart_index];this.setState(kt({},t))}catch(a){}}},{key:"render",value:function(){var e=this,t=this.props,a=t.show_charts_modal,r=t.groups,n=t.columns,o=t.edit_chart_index,i=n.map((function(e){return{value:e.key_name,label:e.label,selectfield_params:e.selectfield_params}})).concat(r.map((function(e){return{value:e.key_name,label:e.label,selectfield_params:e.selectfield_params}}))),c={};["donut"].indexOf(this.state.type)>=0?(c.isMulti=!0,c.onChange=function(t){e.onHandleChange("yaxis",t?t.map((function(e){return e.value})):[])},c.value=i.filter((function(t){return-1!==e.state.yaxis.indexOf(t.value)}))):(c.isMulti=!1,c.onChange=function(t){e.onHandleChange("yaxis",t?[t.value]:[])},c.value=i.filter((function(t){return-1!==e.state.yaxis.indexOf(t.value)})));var s="Eje Y";switch(this.state.type){case"donut":s="Valores";break;case"funnel":case"numeric":s="Valor"}return l.a.createElement(w.a,{scrollable:!1,centered:!0,size:"lg",isOpen:a,toggle:this.closeModal,className:"config-modal charts-modal"},l.a.createElement(F.a,null,l.a.createElement("div",{className:"chart-sidebar"},l.a.createElement("span",{className:"chart-title"},"undefined"!==typeof o&&null!==o?"Edita":"Crea"," un Gr\xe1fico"),l.a.createElement(T.a,null,l.a.createElement(E.a,{form:!0},l.a.createElement(x.a,null,l.a.createElement(A.a,null,l.a.createElement(M.a,{for:"name"},l.a.createElement(tt,{resourceTag:"BLFlex.Label.FlexName"})),l.a.createElement(N.a,{type:"text",name:"name",id:"name",className:"input-sm",bsSize:"sm",value:this.state.title,onChange:function(t){e.onHandleChange("title",t.target.value)}}))),l.a.createElement(x.a,null,l.a.createElement(A.a,null,l.a.createElement(M.a,{for:"chart_type"},l.a.createElement(tt,{resourceTag:"BLFlex.Label.SelectGraph"})),l.a.createElement(S.a,{name:"chart_type",options:wt,onChange:function(t){e.onHandleChange("type",t.value)},value:wt.find((function(t){return t.value===e.state.type}))}))),"numeric"!==this.state.type?l.a.createElement(x.a,null,l.a.createElement(A.a,null,l.a.createElement(M.a,{for:"name"},"donut"===this.state.type?"Etiqueta":"Eje X"),l.a.createElement(S.a,{name:"xaxis",options:i,onChange:function(t){e.onHandleChange("xaxis",t.value),e.getOptionsEnums(t.selectfield_params)},value:i.find((function(t){return t.value===e.state.xaxis}))}))):null,l.a.createElement(x.a,null,l.a.createElement(A.a,null,l.a.createElement(M.a,{for:"name"},s),l.a.createElement(S.a,Object.assign({name:"yaxis"},c,{options:i})))),["line","area","stacked_bar","grouped_bar","horizontal_stacked_bar","horizontal_grouped_bar"].indexOf(this.state.type)>=0?l.a.createElement(x.a,null,l.a.createElement(A.a,null,l.a.createElement(M.a,{for:"value_field"},l.a.createElement(tt,{resourceTag:"BLFlex.Label.FlexValue"})),l.a.createElement(S.a,{name:"value_field",options:i,onChange:function(t){e.onHandleChange("value_field",t.value)},value:i.find((function(t){return t.value===e.state.value_field}))}))):null,l.a.createElement(x.a,null,l.a.createElement(A.a,null,l.a.createElement(M.a,{for:"name"},l.a.createElement(tt,{resourceTag:"BLFlex.Label.Operation"})),l.a.createElement(S.a,{name:"operation",options:Ft,onChange:function(t){e.onHandleChange("operator",t.value)},value:Ft.find((function(t){return t.value===e.state.operator}))}))),["bar","stacked_bar","grouped_bar","horizontal_bar","horizontal_stacked_bar","horizontal_grouped_bar","funnel"].indexOf(this.state.type)>=0&&this.state.order_options.length>0?l.a.createElement(x.a,null,l.a.createElement(A.a,null,l.a.createElement(M.a,{for:"orden"},l.a.createElement(tt,{resourceTag:"BLFlex.Label.FlexOrder"})),l.a.createElement(S.a,{name:"yaxis",isMulti:!0,options:this.state.order_options,onChange:function(t){e.onHandleChange("order_options_value",t||[])},value:this.state.order_options_value}))):null),"numeric"===this.state.type?l.a.createElement(E.a,null,l.a.createElement(x.a,{md:6},l.a.createElement(A.a,null,l.a.createElement(M.a,{for:"name"},l.a.createElement(tt,{resourceTag:"BLFlex.Label.FlexTextColor"})),l.a.createElement(xt,{defaultColor:"#000",onChange:function(t){e.onHandleChange("text_color",t)},value:this.state.text_color}))),l.a.createElement(x.a,{md:6},l.a.createElement(A.a,null,l.a.createElement(M.a,{for:"name"},l.a.createElement(tt,{resourceTag:"BLFlex.Label.FlexBackgroundColor"})),l.a.createElement(xt,{defaultColor:"#fff",onChange:function(t){e.onHandleChange("background_color",t)},value:this.state.background_color})))):null)),l.a.createElement("div",{className:"chart-preview"},l.a.createElement("div",{className:"chart-dx-preview"},l.a.createElement("span",{className:"chart-preview-title"},l.a.createElement(tt,{resourceTag:"BLFlex.Span.Preview"})),this.state.type?l.a.createElement(mt,{is_preview:!0,chart_def:kt({},this.state)}):l.a.createElement("div",{className:"dash-placeholder"},l.a.createElement(bt,null))),l.a.createElement(L.a,null,l.a.createElement(k.a,{color:"primary",className:"btn_primary_def_1",onClick:this.onSave},"undefined"!==typeof o&&null!==o?"Editar":"Agregar"),l.a.createElement(k.a,{color:"secondary",className:"btn_secondary_def_1",onClick:function(){e.closeModal()}},"Cancelar")))))}}]),t}(i.Component),jt=Object(u.b)((function(e){return{show_charts_modal:e.general.show_charts_modal,groups:e.general.groups,columns:e.general.columns,edit_chart_index:e.general.edit_chart_index,dashlet_id:e.general.dashlet_id,chart_list:e.general.chart_list}}),(function(e){return{toggleChartsModal:function(){e(U())},addChart:function(t){e(function(e){return{type:"ADD_CHART",chart_def:e}}(t))},setEditChartIndex:function(t){e($(t))},editChart:function(t,a){e(function(e,t){return{type:"EDIT_CHART",index:e,chart_def:t}}(t,a))}}}))(Ct),Dt=a(168),St=a.n(Dt),Tt=a(420),At=a(501),Mt=a(264),Nt=a(59);function Lt(e){var t="";try{var a=e.column.dataField,r=e.column.related_module_name,n=a+"_link_id";t="/"+r+"/detail/"+e.data[n]+"/"}catch(i){t="#"}var o=e.value;return"datetime"!==e.column.dataType&&"date"!==e.column.dataType||(o=e.text),l.a.createElement("div",null,l.a.createElement("a",{href:t,target:"_blank",rel:"noopener noreferrer"},o),l.a.createElement("div",{className:"current-value"}))}function Pt(e){var t=e.value;return(t||0===t)&&(t="$ "+t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),l.a.createElement("div",null,l.a.createElement("div",{className:"current-value"},t))}var It=a(244);function Rt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Ht(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Rt(a,!0).forEach((function(t){Object(ae.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Rt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Bt=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,a){var r=a().general||{};t({type:"SAVE_DATA_PENDING"}),fetch("/api/BLFlex/SaveReport/",{method:"POST",credentials:"same-origin",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({id:r.id,name:r.report_header_data.name,description:r.report_header_data.description,selected_class:r.report_header_data.selected_class,module:r.report_header_data.module,visible_users:r.report_header_data.visible_users,visible_roles:r.report_header_data.visible_roles,visible_on_module:r.report_header_data.visible_on_module,module_path:r.report_header_data.module_path,select_list:r.columns,filter_list:r.filters,chart_list:r.chart_list,owner:{id:r.report_header_data.owner_id},owner_team:{id:r.report_header_data.owner_team_id},group_list:r.groups,version:2,metadata:JSON.stringify(Object.assign(r.report_header_data.metadata||{},{field_list:r.field_list})),is_list_view:r.is_list_view,bl_name_list:r.bl_name_list,columns_changed:r.columns_changed,viewdef_name:r.viewdef_name,delta_old:r.report_header_data.delta})}).then((function(e){return e.json()})).then((function(a){if(!1===a.status)throw a.message;if(t(Z(a.data)),Ke.ShowSuccess("BLFlex.Notification.SuccessSaveData"),e){var r="/BLFlex/detail/"+a.data.id;null!=window.SDKDotNetHelper&&"undefined"!=typeof window.SDKDotNetHelper?window.SDKDotNetHelper.invokeMethodAsync("NavigateTo",r):window.location.href=r}return a.data})).catch((function(e){try{if(console.error(e),e.includes("Custom.Validator.FieldRequired")){var a=e.match(/\((.*)\)/)?e.match(/\((.*)\)/)[1]:"";if(""==a)Ke.ShowError("Custom.Generic.Message.Error");else{var r=a.split("//")[0],n=a.split("//")[1];Ke.ShowError(r,new Array(n))}}else Ke.ShowError("Custom.Generic.Message.Error")}catch(o){console.error(o),Ke.ShowError("BLFlex.Notification.ErrorSave")}t(W(e))}))}},qt=function(e,t,a,r){return fetch(e,t).then((function(e){return e.json()})).then((function(e){if(!1===e.status)throw e.message;if(0==e.data.length)return null!=r&&r(R(e.data)),e.data;var t=a.field_list[0].options.map((function(e){return Object.assign({},Object(ae.a)({},e.name,e.type))})).reduce((function(e,t){return Ht({},e,{},t)}),{}),n=a.columns.filter((function(e){return e.customFn})).concat(a.groups.filter((function(e){return e.customFn}))),o=n.map((function(e){return e.key_name})),i=n.map((function(e){return Object.assign({},Object(ae.a)({},e.key_name,e.formula))})).reduce((function(e,t){return Ht({},e,{},t)}),{});if(!1===e.status)throw e.message;var l=function e(a){return a.replace(/props\((.*?)\)/g,(function(a,r){return-1===o.indexOf(r)?r in t&&-1!==["DecimalField","FloatField"].indexOf(t[r])?"(parseFloat(".concat(r," || 0))"):"(".concat(r,")"):"(".concat(e(i[r]),")")}))},c=e.data.map((function(e){var t=n.map((function(t){var a=function(e){return function(){return Ht({},Ze,{},e)}}(e)();return Object(ae.a)({},t.key_name,Object(It.a)(Function,Object($e.a)(Object.keys(a)).concat(["return ".concat(l(t.formula))])).apply(void 0,Object($e.a)(Object.values(a))))})).reduce((function(e,t){return Ht({},e,{},t)}),{});return Ht({},e,{},t)}));return null!=r&&r(R(c)),c})).catch((function(e){console.error(e);try{Ke.ShowError(e)}catch(t){console.error(t),Ke.ShowError("BLFlex.Notification.ErrorLoadData")}if(null==r)return e;r(H(e))})).catch((function(e){console.error(e);try{Ke.ShowError("Custom.Generic.Message.Error")}catch(t){console.error(t),Ke.ShowError("BLFlex.Notification.ErrorLoadData")}if(null==r)return e;r(H(e))})).catch((function(e){if(null==r)return e;r(function(e){return{type:"FETCH_PREVIEW_DATA_ERROR",error:e}}(e))}))},Vt=function(){return function(e,t){var a=t().general||{};null!==a.timeout_data_id&&"undefined"!==typeof a.timeout_data_id&&clearTimeout(a.timeout_data_id);var r="",n={};if(a.is_create_edit&&!a.is_list_view){r="/api/BLFlex/PreviewData/";var o=a.columns.filter((function(e){return!e.customFn}));n={module_path:a.report_header_data.module_path,selected_class:a.report_header_data.selected_class,module:a.report_header_data.module,filters:a.filters,columns:o,groups:a.groups,set_top:"true"}}else if(a.is_list_view){r="/api/BLFlex/PreviewData/";var i=a.columns.filter((function(e){return!e.customFn}));a.id=a.report_header_data.id,n={module_path:a.report_header_data.module_path,selected_class:a.report_header_data.selected_class,module:a.report_header_data.module,filters:a.filters,columns:i,groups:a.groups,set_top:"false",filter_search:a.filter_search},a.server_pagination&&(n.skip=a.skip,n.take=a.take)}else r="/api/BLFlex/UpdateData/",n={id:a.report_header_data.id,filter_list:a.filters,current_record:a.current_record?a.current_record:0};var l=setTimeout((function(){qt(r,{method:"POST",credentials:"same-origin",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify(n)},a,e)}),500);a.is_list_view?0===a.skip?e(I(l)):a.server_pagination||e(I(l)):e(I(l))}},Gt=function(e){function t(){var e,a;Object(f.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(_.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(n)))).state={data:""},a}return Object(b.a)(t,e),Object(h.a)(t,[{key:"getText",value:function(){var e=Object(o.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(o.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({data:this.props.data});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.blName,a=e.data,r=e.guid_list_view,i=e.dispatchFetchPreviewData,c=e.can_edit_list_view,s=e.can_delete_list_view,u=(e.is_create_edit,e.action_icons),d=function(){var e=Object(o.a)(n.a.mark((function e(){var t,o;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.stringify(a),o=window.dotnethelpersListView.get(r),e.next=4,o.invokeMethodAsync("DeleteFromReact",a.rowid,t);case 4:e.sent&&i();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return l.a.createElement("div",{class:"action-buttons d-flex justify-content-center"},c?l.a.createElement("button",{class:"btn btn-sm layout_btn_standar-sm ml-1",onClick:function(){var e=t+"/edit/"+a.rowid;window.SDKDotNetHelper.invokeMethodAsync("NavigateTo",e)}},l.a.createElement("i",{class:"fa-solid fa-pen"})):l.a.createElement(l.a.Fragment,null),s?l.a.createElement("button",{class:"btn btn-sm layout_btn_standar-sm ml-1",onClick:d},l.a.createElement("i",{class:"fa-solid fa-trash-can"})):l.a.createElement(l.a.Fragment,null),l.a.createElement("button",{class:"btn btn-sm layout_btn_standar-sm ml-1",onClick:function(){var e=t+"/detail/"+a.rowid;window.SDKDotNetHelper.invokeMethodAsync("NavigateTo",e)}},l.a.createElement("i",{class:"fa-solid fa-eye"})),u.map((function(e,t){return l.a.createElement("button",{class:"btn btn-sm layout_btn_standar-sm ml-1",onClick:function(){!function(e){window.dotnethelpersListView.get(r).invokeMethodAsync("CustomActionFromReact",e,a.rowid)}(t)}},l.a.createElement("i",{class:e}))})))}}]),t}(l.a.Component),zt=Object(u.b)((function(e){return{blName:e.general.bl_name_list,guid_list_view:e.general.guid_list_view,can_edit_list_view:e.general.can_edit_list_view,can_delete_list_view:e.general.can_delete_list_view,is_create_edit:e.general.is_create_edit,action_icons:e.general.action_icons}}),(function(e){return{dispatchFetchPreviewData:function(){return e(Vt())}}}))(Gt);function Ut(e){var t=e.data;return l.a.createElement(zt,{data:t})}var Yt=a(284),Zt=function(e){function t(){return Object(f.a)(this,t),Object(_.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.is_create_edit,r=t?t.length:0;return l.a.createElement("div",{className:"table-footer"},a?l.a.createElement("span",{className:"info-message"},l.a.createElement("i",{className:"fa fa-info-circle","aria-hidden":"true"}),l.a.createElement(tt,{resourceTag:"BLFlex.Span.InfoMessage"})):l.a.createElement("span",{className:"info-message"},r+" registros"))}}]),t}(i.Component),Wt=Object(u.b)((function(e){return{data:e.general.charts_data,is_create_edit:e.general.is_create_edit}}))(Zt),Kt=a(179);Object(Nt.a)({defaultCurrency:"USD"});var Xt=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(_.a)(this,Object(g.a)(t).call(this,e))).onContentReady=function(e){if(a.dataGridRef&&a.dataGridRef.instance){var t=a.dataGridRef.instance.getCombinedFilter();if(t){var r=new Tt.a({store:a.props.preview_data,paginate:!1});if(r){r.filter(t);var n=Object(C.a)(a);r.load().done((function(e){n.props.setChartsData(e)}))}}else a.props.setChartsData(a.props.preview_data)}},a.onSelectionChanged=function(){var e=Object(o.a)(n.a.mark((function e(t){var r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=window.dotnethelpersListView.get(a.props.guid_list_view),e.next=3,r.invokeMethodAsync("OnSelectFromReact",JSON.stringify(t.selectedRowsData));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.getModuleName=function(){var e=Object(o.a)(n.a.mark((function e(t,r,o){var i;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=a.state.modules_by_path[t]){e.next=7;break}return e.next=4,fetch("/api/BLFlex/GetRelatedModuleByPath/",{method:"POST",credentials:"same-origin",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({module_path:r,selected_class:o,path:t})}).then((function(e){return e.json()})).then((function(e){return e.data.module_name})).catch((function(e){return!1}));case 4:return e.abrupt("return",e.sent);case 7:return e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}(),a.getColumns=function(){var e=Object(o.a)(n.a.mark((function e(t){var r,o,i,c,s,u,d,p,m,f,h,_;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.columns,o=t.groups,i=t.is_list_view,c=t.is_create_edit,s=["IntegerField","number","FloatField","CurrencyField","DecimalField"],u=r.concat(o),d=[],p=[],m=[],!i||c){e.next=12;break}return e.next=9,Xe.GetResource("Action.Generic.Actions");case 9:e.t0=e.sent,f={minWidth:200,dataField:"actions",caption:e.t0,cellTemplate:"actions",allowSorting:!1,allowFiltering:!1,allowSearch:!1},d.push(f);case 12:h=n.a.mark((function e(r){var c,f,h,_;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=u[r],!i||"rowid"!==c.key_name){e.next=3;break}return e.abrupt("return","continue");case 3:if(f={minWidth:200,dataField:c.key_name,caption:c.label},s.indexOf(c.type)>-1&&(f.dataType="number"),"CurrencyField"===c.type?f.cellTemplate="currencyCell":"FloatField"===c.type?f.format={type:"fixedPoint",precision:2}:"DecimalField"===c.type?f.format={type:"fixedPoint",precision:c.decimal_places||2}:"DateTimeField"===c.type?f.dataType="datetime":"DateField"===c.type&&(f.dataType="date"),c.isSorter&&(f.sortIndex=1,f.sortOrder="asc"),h=o.findIndex((function(e){return e.key_name===c.key_name})),!(c.link&&"boolean"===typeof c.link||"True"===c.link)||-1!==h){e.next=13;break}return e.next=11,a.getModuleName(c.path,t.report_header_data.module_path,t.report_header_data.selected_class);case 11:f.related_module_name=e.sent,f.cellTemplate="linkCell";case 13:h>-1&&(f.groupIndex=h,f.cellTemplate=void 0),d.push(f),c.aggregate&&(_=void 0,"CurrencyField"===c.type&&"count"!==c.aggregate&&(_=function(e){var t=e.value;(t||0===t)&&(t="$ "+t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","));try{return e.valueText.replace(e.value,t)}catch(a){}return t}),o.length>0&&m.push(l.a.createElement(Dt.GroupItem,{key:"footer_group_"+c.key_name,column:c.key_name,showInGroupFooter:!1,alignByColumn:!0,summaryType:c.aggregate,valueFormat:f.format,customizeText:_})),p.push(l.a.createElement(Dt.TotalItem,{key:"footer_"+c.key_name,column:c.key_name,showInColumn:!0,summaryType:c.aggregate,valueFormat:f.format,customizeText:_})));case 16:case"end":return e.stop()}}),e)})),_=0;case 14:if(!(_<u.length)){e.next=22;break}return e.delegateYield(h(_),"t1",16);case 16:if("continue"!==e.t1){e.next=19;break}return e.abrupt("continue",19);case 19:_++,e.next=14;break;case 22:a.setState({table_columns:d,footer_columns:p,group_footer_columns:m});case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onOptionChanged=function(){var e=Object(o.a)(n.a.mark((function e(t){var r,o,i;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.fullName.endsWith("ortOrder")&&!a.props.server_pagination)try{r=t.fullName.split("]")[0].substr(-1),(o=a.props.columns[r]||null)&&(i={isSorter:!0,sortType:t.value},a.props.setSortColumns(o,i))}catch(n){console.log("error=> ",n)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Object(Mt.d)("es"),Object(Mt.c)(At),a.state={table_columns:[],footer_columns:[],group_footer_columns:[],modules_by_path:{},loadingTag:""},a.customStore=null,a}return Object(b.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;Xe.GetResource("Custom.SDKFlex.Cargando").then((function(t){e.setState({loadingTag:t})}));var t=this;if(this.customStore=new Kt.a({key:"rowid",load:function(){var e=Object(o.a)(n.a.mark((function e(a){var r,o,i,l,c,s,u,d,p,m;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=lr.getState().general||{},o=a.skip||0,i=a.take||100,l="/api/BLFlex/PreviewData/",c={},s=a.sort||[],0!==o||0!==s.length||r.change_filter_search){e.next=8;break}return e.abrupt("return",r.preview_data);case 8:return u=t.props.columns.filter((function(e){return!e.customFn})),s.length>0&&(d=u.findIndex((function(e){return e.key_name===s[0].selector})),u[d].sortType=s[0].desc?"desc":"asc"),c={module_path:r.report_header_data.module_path,selected_class:r.report_header_data.selected_class,module:r.report_header_data.module,filters:r.filters,columns:u,groups:r.groups,set_top:"false",skip:o,take:i,filter_search:r.filter_search},p={method:"POST",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify(c)},e.next=14,qt(l,p,r);case 14:return m=e.sent,e.abrupt("return",{data:m});case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),"undefined"===typeof window["oreports_app_table_"+this.props.app_id+"_"+this.props.guid]&&(window["oreports_app_table_"+this.props.app_id+"_"+this.props.guid]=this),!this.dataGridRef||!this.dataGridRef.instance)return!1;this.props.table_filters.forEach((function(t){try{e.dataGridRef.instance.columnOption(t[0],"filterValue",t[2])}catch(a){console.log("error table_filters",a)}})),this.getColumns(this.props)}},{key:"componentWillReceiveProps",value:function(e){ct()(e.columns,this.props.columns)&&ct()(e.groups,this.props.groups)&&ct()(e.report_header_data.module_path,this.props.report_header_data.module_path)&&ct()(e.report_header_data.selected_class,this.props.report_header_data.selected_class)&&ct()(e.is_create_edit,this.props.is_create_edit)||this.getColumns(e),ct()(e.filter_search,this.props.filter_search)||this.props.fetchPreviewDataAction()}},{key:"shouldComponentUpdate",value:function(e,t){var a=this;return e.loading!==this.props.loading&&this.dataGridRef&&this.dataGridRef.instance&&(e.loading?this.dataGridRef.instance.beginCustomLoading(this.state.loadingTag):this.dataGridRef.instance.endCustomLoading()),!!ct()(e.table_filters,this.props.table_filters)||!(!this.dataGridRef||!this.dataGridRef.instance)&&(e.table_filters.forEach((function(e){try{a.dataGridRef.instance.columnOption(e[0],"filterValue",e[2])}catch(t){console.log("error table_filters",t)}})),!1)}},{key:"render",value:function(){var e=this,t=this.state,a=t.table_columns,r=t.footer_columns,n=t.group_footer_columns,o=this.props,i=o.preview_data,c=o.take,s=o.server_pagination,u={},d=s?this.customStore:new Tt.a({store:i,paginate:!1}),p="virtual";return s&&(u.paging=!0,u.sorting=!0,p="infinite"),l.a.createElement("div",{className:"table-container"+(this.props.hidden?" hidden":"")},l.a.createElement(St.a,{elementAttr:{id:"tableContainer"},ref:function(t){return e.dataGridRef=t},columns:a,dataSource:d,onOptionChanged:this.onOptionChanged,allowColumnReordering:!1,showBorders:!1,rowAlternationEnabled:!0,columnAutoWidth:!0,onContentReady:this.onContentReady,wordWrapEnabled:!0,remoteOperations:u,onSelectionChanged:this.onSelectionChanged},l.a.createElement(Dt.Sorting,{mode:"single"}),s?l.a.createElement(Dt.Paging,{defaultPageSize:c}):null,l.a.createElement(Yt.Template,{name:"linkCell",render:Lt}),l.a.createElement(Yt.Template,{name:"currencyCell",render:Pt}),l.a.createElement(Yt.Template,{name:"actions",render:Ut}),l.a.createElement(Dt.FilterRow,{visible:!0}),l.a.createElement(Dt.HeaderFilter,{visible:!0}),l.a.createElement(Dt.Scrolling,{mode:p}),l.a.createElement(Dt.Selection,{mode:"single"}),i.length>0?l.a.createElement(Dt.Summary,null,r,n):null),s?null:l.a.createElement(Wt,null))}}]),t}(l.a.Component),$t=Object(u.b)((function(e){return{columns:e.general.columns,groups:e.general.groups,preview_data:e.general.preview_data,loading:e.general.loading,is_create_edit:e.general.is_create_edit,table_filters:e.general.table_filters,app_id:e.general.app_id,report_header_data:e.general.report_header_data,is_list_view:e.general.is_list_view,take:e.general.take,server_pagination:e.general.server_pagination,filter_search:e.general.filter_search,guid:e.general.guid,guid_list_view:e.general.guid_list_view}}),(function(e,t){return{setChartsData:function(t){e(function(e){return{type:"SET_CHARTS_DATA",data:e}}(t))},setSortColumns:function(){var t=Object(o.a)(n.a.mark((function t(a,r){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(P(a,r));case 2:e(Vt());case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),fetchPreviewDataAction:function(){e(Vt())}}}))(Xt),Jt=a(875),Qt=a(872),ea=a(871),ta=[{value:"count",label:"Contar"},{value:"sum",label:"Sumar"},{value:"avg",label:"Promedio"},{value:"max",label:"Maximo"},{value:"min",label:"M\xednimo"}],aa=function(e){function t(){return Object(f.a)(this,t),Object(_.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.onHandleChange,r=t.field,i=t.isCreateEdit;return l.a.createElement(T.a,null,l.a.createElement(A.a,null,l.a.createElement(M.a,{for:"module"},l.a.createElement(tt,{resourceTag:"BLFlex.Label.Module"})),l.a.createElement(N.a,{className:"input-sm",bsSize:"sm",type:"text",name:"module",disabled:!0,value:r.path})),l.a.createElement(A.a,null,l.a.createElement(M.a,{for:"name"},l.a.createElement(tt,{resourceTag:"BLFlex.Label.Field"})),l.a.createElement(N.a,{className:"input-sm",bsSize:"sm",type:"text",name:"name",disabled:!0,value:r.name})),r.customFn?l.a.createElement(A.a,null,l.a.createElement(M.a,{for:"name"},l.a.createElement(tt,{resourceTag:"BLFlex.Label.Formula"})),i?l.a.createElement(ea.a,{color:"secondary",className:"edit-function-bagged-popover",onClick:function(){var t=Object(o.a)(n.a.mark((function t(a){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.props.dispatchSetModeModalFormula("edit"),e.props.dispatchSetIndexModalFormula(e.props.index),e.props.dispatchSetEditModeDataModalFormula({label:r.label,name:r.name,formula:r.formula,description:Object(oe.cloneDeep)(le),section:"columns"}),document.getElementsByClassName("popover show bs-popover-auto")[0].parentNode.classList.toggle("hidden"),e.props.dispatchSetIsOpen(!0);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},l.a.createElement("i",{className:"fa fa-edit","aria-hidden":"true"})):null,l.a.createElement(N.a,{className:"input-sm",bsSize:"sm",type:"text",name:"name",disabled:!0,value:r.formula})):null,l.a.createElement(A.a,null,l.a.createElement(M.a,{for:"label"},l.a.createElement(tt,{resourceTag:"BLFlex.Label.Tag"})),l.a.createElement(N.a,{disabled:!i,className:"input-sm",bsSize:"sm",type:"text",name:"label",onChange:function(e){a("label",e.target.value)},value:r.label})),l.a.createElement(A.a,null,l.a.createElement(M.a,{for:"aggregate"},l.a.createElement(tt,{resourceTag:"BLFlex.Label.Operation"})),l.a.createElement(S.a,{isDisabled:!i,placeholder:"Seleccione una operaci\xf3n",options:ta,onChange:function(e){a("aggregate",e.value)},value:ta.find((function(e){return e.value===r.aggregate}))})),l.a.createElement(A.a,{check:!0,inline:!0},l.a.createElement(M.a,{check:!0},"Enlace "," ",l.a.createElement(N.a,{disabled:!i,type:"checkbox",name:"link",onChange:function(e){a("link",e.target.checked?"True":"False")},checked:!!(r.link&&"boolean"===typeof r.link||"True"===r.link)}))))}}]),t}(i.Component),ra=Object(u.b)(void 0,(function(e){return{dispatchSetIsOpen:function(t){return e(J(t))},dispatchSetModeModalFormula:function(t){return e(Q(t))},dispatchSetIndexModalFormula:function(t){return e(te(t))},dispatchSetEditModeDataModalFormula:function(t){return e(ee(t))}}}))(aa),na=a(226),oa=a.n(na),ia=(a(750),a(502)),la=a(84);function ca(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var sa="",ua=function(e){var t=e.selectProps,a=t.labelKey,r=t.valueKey,n=Object.keys(e.data).filter((function(e){return!["id","_str_name"].includes(e)})),o=[],i=e.data[r];return n.forEach((function(t,a){var r=e.data[t].str,c=e.data[t].val;o.push(l.a.createElement("small",{key:r+"_opt_"+a+"_"+i},l.a.createElement("strong",null,r),":",c)),a<n.length&&o.push(l.a.createElement("br",{key:"br_opt_"+a+"_"+i}))})),l.a.createElement(la.z.Option,Object.assign({},e,{key:e.data.id}),e.data[a],l.a.createElement("br",null),o)},da={indicatorSeparator:function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ca(a,!0).forEach((function(t){Object(ae.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ca(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{display:"none"})}},pa=function(e){function t(e){var a;Object(f.a)(this,t),(a=Object(_.a)(this,Object(g.a)(t).call(this,e))).getOptions=function(e,t){return!e||e.length<=3?Promise.resolve([]):fetch("api/BLFlex/SearchRecordsRelSelect/",{method:"POST",credentials:"same-origin",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({keyword:e,agent:"react-coreapp",module_name:t.module_name})}).then((function(e){return e.json()})).then((function(e){return e.data}))},a.promiseOptions=function(e){return new Promise((function(t){setTimeout((function(){t(a.getOptions(e,a.props.fieldDef))}),1e3)}))},a.openWindowSearch=function(){var e=a.props.fieldDef.name?a.props.fieldDef.name:"",t=sa+"/"+a.props.fieldDef.module_name+"/popup_index/?fieldId="+e;window.open(t,"popup","width=800,height=600,left=10,top=10")},a.noOptionsMessage=function(){return"No hay Registros"},a.dropdownIndicator=function(e,t){var r=!!a.props.isDisabled;return l.a.createElement("div",{className:""},l.a.createElement("button",{type:"button",disabled:r,className:"btn btn-transparent",onClick:a.openWindowSearch},l.a.createElement("i",{className:"fa fa-search"})))};var r=!!e.fieldDef&&e.fieldDef.selected_operator;return a.operatorMulti=["fk_in","fk_not_in"],a.state={msg:"",value:e.storeValue||"",labelKey:"_str_name",valueKey:"id",isMulti:a.operatorMulti.includes(r)},a.handleChange=a.handleChange.bind(Object(C.a)(a)),a.getOptions=a.getOptions.bind(Object(C.a)(a)),a}return Object(b.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("message",(function(t){try{var a=JSON.parse(t.data);if(a.fieldId===e.props.fieldDef.name){var r=a.value,n=ie.a.cloneDeep(e.state.value);if(e.state.isMulti)n&&0!==n.length||(n=[]),n.find((function(t){return t[e.state.valueKey]===r[e.state.valueKey]}))||n.push(r);else n=r;e.handleChange(n)}}catch(o){}}))}},{key:"componentWillReceiveProps",value:function(e){var t=this,a=this.operatorMulti.includes(e.selected_operator);if(this.state.isMulti!==a){var r=this.state.value,n=[];r&&ie.a.isArray(r)&&r.length>0&&!a&&(n=r[0]),a&&r&&n.push(r),this.setState({isMulti:a},(function(){t.handleChange(n)}))}}},{key:"handleChange",value:function(e){var t=this;this.setState({value:e},(function(){t.props.updateSectionItem(t.props.storeSection,t.props.index,t.props.property,e)}))}},{key:"renderOption",value:function(e){var t=[];for(var a in e)["id","_str_name"].includes(a)||t.push(l.a.createElement("span",{key:a}," ",l.a.createElement("b",null," ",e[a].str,":"),e[a].val,l.a.createElement("br",null)," "));return l.a.createElement("div",null," ",t," ")}},{key:"renderValue",value:function(e){return l.a.createElement("div",null,e._str_name)}},{key:"hackFilterOptions",value:function(e,t,a){return e}},{key:"render",value:function(){var e=this,t=this.props.fieldDef.name?this.props.fieldDef.name:"",a=this.props.fieldDef.class?this.props.fieldDef.class:"",r=this.props.fieldDef.label?this.props.fieldDef.label:"",n=!this.props.fieldDef.printLabel||this.props.fieldDef.printLabel,o="id_"+t,i=this.props.fieldDef.placeHolder?this.props.fieldDef.placeHolder:"",c=!!this.props.pureField,s=!!this.props.isDisabled,u=this.state.isMulti,d=l.a.createElement("div",null,l.a.createElement(ia.a,{isMulti:u,styles:da,loadOptions:this.promiseOptions.bind(this),cacheOptions:!0,isClearable:!0,disabled:s,filterOptions:this.hackFilterOptions,autoload:!1,labelKey:this.state.labelKey,valueKey:this.state.valueKey,components:{Option:ua,DropdownIndicator:this.dropdownIndicator},dropdownIndicator:this.dropdownIndicator,getOptionLabel:function(t){return t[e.state.labelKey]||""},getOptionValue:function(t){return t[e.state.valueKey]},isDisabled:s,noOptionsMessage:this.noOptionsMessage,name:t,ignoreAccents:!1,id:o,placeholder:i,value:this.state.value,className:a+" col  clearIndicator",onChange:this.handleChange}));return c?d:l.a.createElement(A.a,null,l.a.createElement(M.a,{for:o},n?r:""),d)}}]),t}(l.a.Component),ma=Object(u.b)((function(e){return{}}),(function(e){return{updateSectionItem:function(){var t=Object(o.a)(n.a.mark((function t(a,r,o,i){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(Y(a,r,o,i));case 2:e(Vt());case 3:case"end":return t.stop()}}),t)})));return function(e,a,r,n){return t.apply(this,arguments)}}()}}))(pa),fa=[{value:"False",label:"No"},{value:"True",label:"Si"}],ha=["between"],_a=["equal","not_equal","before","after","between"],ga=["last_n_days","next_n_days"],ba=function(e){function t(){var e,a;Object(f.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(_.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(n)))).state={enum_options:[]},a.getOptionsEnums=function(e){if(e){var t={enum:e.list_name,fieldDef:e};fetch("/api/BLFlex/GetOptionsEnum/",{method:"POST",credentials:"same-origin",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){if(e.status&&e.data)return a.setState({enum_options:e.data}),e.data})).catch((function(e){return console.log("[getOptionsEnums] Error",e),a.setState({enum_options:[]}),[]}))}else a.setState({enum_options:[]})},a}return Object(b.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.field;["SelectField","MultiSelectField"].includes(e.type)&&this.getOptionsEnums(e.name)}},{key:"render",value:function(){var e=this.props,t=e.onHandleChange,a=e.field,r=e.isCreateEdit,n=e.section,o=e.index,i=a.filter_options?a.filter_options.map((function(e){return e.value=e.key,e})):[],c=null,s=null,u=!r&&(!a.allow_edit||"False"===a.allow_edit),d=l.a.createElement(A.a,null,l.a.createElement(M.a,{for:"equal_from"},l.a.createElement(tt,{resourceTag:"BLFlex.Label.Equal/From"})),l.a.createElement(N.a,{disabled:u,className:"input-sm",bsSize:"sm",type:"text",name:"equal_from",onChange:function(e){t("equal_from",e.target.value)},value:a.equal_from})),p=l.a.createElement(A.a,null,l.a.createElement(M.a,{for:"equal_from"},l.a.createElement(tt,{resourceTag:"BLFlex.Label.To"})),l.a.createElement(N.a,{disabled:u,className:"input-sm",bsSize:"sm",type:"text",name:"to",onChange:function(e){t("to",e.target.value)},value:a.to}));if("DateField"===a.type||"DateTimeField"===a.type||"TimeField"===a.type)if(_a.indexOf(a.selected_operator)>-1){var m=null;try{a.equal_from&&(m=ke(a.equal_from)?a.equal_from:ne()(a.equal_from).toDate())}catch(g){}if(c="DateField"===a.type?l.a.createElement(A.a,null,l.a.createElement(M.a,{for:"equal_from"},l.a.createElement(tt,{resourceTag:"BLFlex.Label.Equal/From"})),l.a.createElement("br",null),l.a.createElement(oa.a,{selected:m,onChange:function(e){t("equal_from",e)},dateFormat:"dd/MM/yyyy",className:"form-control",isClearable:!0,disabled:u})):"TimeField"===a.type?l.a.createElement(A.a,null,l.a.createElement(M.a,{for:"equal_from"},l.a.createElement(tt,{resourceTag:"BLFlex.Label.Equal/From"})),l.a.createElement("br",null),l.a.createElement(oa.a,{selected:m,onChange:function(e){t("equal_from",e)},showTimeSelect:!0,showTimeSelectOnly:!0,timeFormat:"HH:mm:ss",timeIntervals:15,dateFormat:"HH:mm:ss",timeCaption:"time",className:"form-control",isClearable:!0,disabled:u})):l.a.createElement(A.a,null,l.a.createElement(M.a,{for:"equal_from"},l.a.createElement(tt,{resourceTag:"BLFlex.Label.Equal/From"})),l.a.createElement("br",null),l.a.createElement(oa.a,{selected:m,onChange:function(e){t("equal_from",e)},showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,dateFormat:"dd/MM/yyyy HH:mm",timeCaption:"time",className:"form-control",isClearable:!0,disabled:u})),ha.indexOf(a.selected_operator)>-1){var f=null;try{a.to&&(f=ke(a.to)?a.to:ne()(a.to).toDate())}catch(g){}"DateField"===a.type?s=l.a.createElement(A.a,null,l.a.createElement(M.a,{for:"to"},l.a.createElement(tt,{resourceTag:"BLFlex.Label.To"})),l.a.createElement("br",null),l.a.createElement(oa.a,{selected:f,onChange:function(e){t("to",e)},dateFormat:"dd/MM/yyyy",className:"form-control",isClearable:!0,disabled:u})):"TimeField"===a.type?c=l.a.createElement(A.a,null,l.a.createElement(M.a,{for:"equal_from"},l.a.createElement(tt,{resourceTag:"BLFlex.Label.Equal/From"})),l.a.createElement("br",null),l.a.createElement(oa.a,{selected:f,onChange:function(e){t("equal_from",e)},showTimeSelect:!0,showTimeSelectOnly:!0,timeFormat:"HH:mm:ss",timeIntervals:15,dateFormat:"HH:mm:ss",timeCaption:"time",className:"form-control",isClearable:!0,disabled:u})):s=l.a.createElement(A.a,null,l.a.createElement(M.a,{for:"to"},l.a.createElement(tt,{resourceTag:"BLFlex.Label.To"})),l.a.createElement("br",null),l.a.createElement(oa.a,{selected:f,onChange:function(e){t("to",e)},showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,dateFormat:"dd/MM/yyyy HH:mm",timeCaption:"time",className:"form-control",isClearable:!0,disabled:u}))}}else ga.indexOf(a.selected_operator)>-1&&(c=l.a.createElement(A.a,null,l.a.createElement(M.a,{for:"equal_from"},l.a.createElement(tt,{resourceTag:"BLFlex.Label.Equal/From"})),l.a.createElement("br",null),l.a.createElement(N.a,{disabled:u,className:"input-sm",bsSize:"sm",type:"number",name:"equal_from",onChange:function(e){t("equal_from",e.target.value)},value:a.equal_from})));else if("BooleanField"===a.type)["fk_not_in","fk_in","null_or_empty","not_empty","empty","current_user_code","current_record"].includes(a.selected_operator)||(c=l.a.createElement(A.a,null,l.a.createElement(M.a,{for:"equal_from"},l.a.createElement(tt,{resourceTag:"BLFlex.Label.Equal/From"})),l.a.createElement(S.a,{isDisabled:u,isMulti:!0,name:"equal_from",options:fa,onChange:function(e){t("equal_from",e?e.map((function(e){return e.value})):[])},value:"undefined"!==typeof a.equal_from?fa.filter((function(e){return-1!==a.equal_from.indexOf(e.value)})):null})));else if(["SelectField","MultiSelectField"].includes(a.type)){if(!["fk_not_in","fk_in","null_or_empty","not_empty","empty","current_user_code","current_record"].includes(a.selected_operator)){var h=this.state.enum_options?this.state.enum_options.map((function(e){return{value:e.key,label:e.label}})):[];c=l.a.createElement(A.a,null,l.a.createElement(M.a,{for:"equal_from"},l.a.createElement(tt,{resourceTag:"BLFlex.Label.Equal/From"})),l.a.createElement(S.a,{isDisabled:u,isMulti:!0,name:"equal_from",options:h,onChange:function(e){t("equal_from",e?e.map((function(e){return e.value})):[])},value:"undefined"!==typeof a.equal_from?h.filter((function(e){return-1!==a.equal_from.indexOf(e.value)})):null}))}}else if("ForeignKey"===a.type)if(["not_equal","equal","fk_in","fk_not_in"].includes(a.selected_operator)){var _=a.equal_from;c=l.a.createElement(ma,{fieldDef:a,storeSection:n,property:"equal_from",index:o,name:a.name,storeValue:_,selected_operator:a.selected_operator,onChange:function(e){t("equal_from",e.target.value)},isDisabled:u})}else["null_or_empty","not_empty","empty","current_user_code","current_record","current_user"].includes(a.selected_operator)||(c=d);else["fk_not_in","fk_in","null_or_empty","not_empty","empty","current_user_code","current_record"].includes(a.selected_operator)||(c=d),"between"===a.selected_operator&&(s=p);return l.a.createElement(T.a,null,l.a.createElement(A.a,null,l.a.createElement(M.a,{for:"module"},l.a.createElement(tt,{resourceTag:"BLFlex.Label.Module"})),l.a.createElement(N.a,{className:"input-sm",bsSize:"sm",type:"text",name:"module",disabled:!0,value:a.path})),l.a.createElement(A.a,null,l.a.createElement(M.a,{for:"name"},l.a.createElement(tt,{resourceTag:"BLFlex.Label.Field"})),l.a.createElement(N.a,{className:"input-sm",bsSize:"sm",type:"text",name:"name",disabled:!0,value:a.name})),l.a.createElement(A.a,null,l.a.createElement(M.a,{for:"label"},l.a.createElement(tt,{resourceTag:"BLFlex.Label.Tag"})),l.a.createElement(N.a,{disabled:!r,className:"input-sm",bsSize:"sm",type:"text",name:"label",onChange:function(e){t("label",e.target.value)},value:a.label})),l.a.createElement(A.a,null,l.a.createElement(M.a,{for:"type"},l.a.createElement(tt,{resourceTag:"BLFlex.Label.Type"})),l.a.createElement(N.a,{className:"input-sm",bsSize:"sm",type:"text",name:"type",disabled:!0,value:a.type})),l.a.createElement(A.a,null,l.a.createElement(M.a,{for:"aggregate"},l.a.createElement(tt,{resourceTag:"BLFlex.Label.Operation"})),l.a.createElement(S.a,{isDisabled:u,options:i,onChange:function(e){t("selected_operator",e.value)},value:i.find((function(e){return e.value===a.selected_operator}))})),a.selected_operator?c:null,a.selected_operator?s:null,l.a.createElement(A.a,{check:!0,inline:!0},l.a.createElement(M.a,{check:!0},"Editable "," ",l.a.createElement(N.a,{disabled:!r,type:"checkbox",name:"allow_edit",onChange:function(e){t("allow_edit",e.target.checked?"True":"False")},checked:!!(a.allow_edit&&"boolean"===typeof a.allow_edit||"True"===a.allow_edit)}))))}}]),t}(i.Component),ya=function(e){function t(){return Object(f.a)(this,t),Object(_.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.onHandleChange,r=t.field,i=t.isCreateEdit;return l.a.createElement(T.a,null,l.a.createElement(A.a,null,l.a.createElement(M.a,{for:"module"},l.a.createElement(tt,{resourceTag:"BLFlex.Label.Module"})),l.a.createElement(N.a,{className:"input-sm",bsSize:"sm",type:"text",name:"module",disabled:!0,value:r.path})),l.a.createElement(A.a,null,l.a.createElement(M.a,{for:"name"},l.a.createElement(tt,{resourceTag:"BLFlex.Label.Field"})),l.a.createElement(N.a,{className:"input-sm",bsSize:"sm",type:"text",name:"name",disabled:!0,value:r.name})),r.customFn?l.a.createElement(A.a,null,l.a.createElement(M.a,{for:"name"},l.a.createElement(tt,{resourceTag:"BLFlex.Label.Formula"})),i?l.a.createElement(ea.a,{color:"secondary",className:"edit-function-bagged-popover",onClick:function(){var t=Object(o.a)(n.a.mark((function t(a){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.props.dispatchSetModeModalFormula("edit"),e.props.dispatchSetIndexModalFormula(e.props.index),e.props.dispatchSetEditModeDataModalFormula({label:r.label,name:r.name,formula:r.formula,description:Object(oe.cloneDeep)(le),section:"groups"}),document.getElementsByClassName("popover show bs-popover-auto")[0].parentNode.classList.toggle("hidden"),e.props.dispatchSetIsOpen(!0);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},l.a.createElement("i",{className:"fa fa-edit","aria-hidden":"true"})):null,l.a.createElement(N.a,{className:"input-sm",bsSize:"sm",type:"text",name:"name",disabled:!0,value:r.formula})):null,l.a.createElement(A.a,null,l.a.createElement(M.a,{for:"label"},l.a.createElement(tt,{resourceTag:"BLFlex.Label.Tag"})),l.a.createElement(N.a,{disabled:!i,className:"input-sm",bsSize:"sm",type:"text",name:"label",onChange:function(e){a("label",e.target.value)},value:r.label})))}}]),t}(i.Component),va=Object(u.b)(void 0,(function(e){return{dispatchSetIsOpen:function(t){return e(J(t))},dispatchSetModeModalFormula:function(t){return e(Q(t))},dispatchSetIndexModalFormula:function(t){return e(te(t))},dispatchSetEditModeDataModalFormula:function(t){return e(ee(t))}}}))(ya),Ea={preventOverflow:{enabled:!1},hide:{enabled:!1},flip:{enabled:!1}},xa=function(e){function t(){return Object(f.a)(this,t),Object(_.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.field,a=e.onRemove,r=e.index,n=e.onHandleChange,o=e.section,i=e.isDragDisabled,c=e.isCreateEdit,s=null;switch(o){case"groups":s=l.a.createElement(va,{field:t,onHandleChange:n,index:r,section:o,isCreateEdit:c});break;case"filters":s=l.a.createElement(ba,{field:t,onHandleChange:n,index:r,section:o,isCreateEdit:c});break;default:s=l.a.createElement(ra,{field:t,onHandleChange:n,index:r,section:o,isCreateEdit:c})}return l.a.createElement(y.b,{draggableId:t.key_name+"_"+r,index:r,isDragDisabled:i},(function(e,n){return l.a.createElement("div",Object.assign({},e.draggableProps,e.dragHandleProps,{ref:e.innerRef,className:"draggable-field-container"}),l.a.createElement("div",{id:"Popover-"+t.key_name+"_"+r,className:"draggable-field"},l.a.createElement("span",{className:"draggable-field-label"},t.label),c?l.a.createElement("i",{className:"fa fa-times-circle","aria-hidden":"true",onClick:a}):null),l.a.createElement(Jt.a,{placement:"right-start",target:"Popover-"+t.key_name+"_"+r,trigger:"legacy",modifiers:Ea,delay:0,fade:!1},l.a.createElement(Qt.a,{className:"oreports-popover"},s)))}))}}]),t}(i.Component);function Oa(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var ka=function(e){for(var t=e.innerref,a=e.children,r=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Oa(a,!0).forEach((function(t){Object(ae.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Oa(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e),n=e.className,o=0,i=["innerref","dragging","dispatch","snapshot"];o<i.length;o++){delete r[i[o]]}return l.a.createElement("div",Object.assign({ref:t},r,{className:n}),a)},wa=function(e){function t(){var e,a;Object(f.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(_.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(n)))).state={selected_option:""},a}return Object(b.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.title,r=t.notitle,n=t.field_list,o=t.section,i=t.fields,c=t.is_create_edit,s=t.titleButton,u=t.is_list_view;return l.a.createElement("div",{className:"fields-main-container"},l.a.createElement("div",{className:"fields-title-container"},r?null:l.a.createElement("div",{className:"fields-title-label-container"},l.a.createElement(M.a,{size:"15"},a)),s?l.a.createElement("div",{className:"fields-title-action-container"},l.a.createElement(k.a,{className:s.classes,onClick:s.click,size:"sm"},l.a.createElement("i",{className:s.classIcon,"aria-hidden":"true"}))):null),c?l.a.createElement(S.a,{placeholder:"Seleccione un campo",options:n,onChange:function(t){e.props.addField(o,t)},value:this.state.selected_option}):null,l.a.createElement(y.c,{droppableId:o},(function(t,a){return l.a.createElement(ka,Object.assign({className:"fields-container"+(e.props.dragging?" box-bordered":""),innerref:t.innerRef},t.droppableProps,{snapshot:a}),i.map((function(t,a){return function(t,a){return u&&"rowid"===t.key_name?l.a.createElement(l.a.Fragment,null):l.a.createElement(xa,{isCreateEdit:c,isDragDisabled:!c,section:o,field:t,index:a,key:t.key_name+"_"+a,onRemove:function(){e.props.removeField(o,a)},onHandleChange:function(t,r){e.props.updateSectionItem(o,a,t,r)}})}(t,a)})),t.placeholder)})))}}]),t}(i.Component),Fa=Object(u.b)((function(e){return{dragging:e.general.dragging,is_create_edit:e.general.is_create_edit,report_header_data:e.general.report_header_data,is_list_view:e.general.is_list_view}}),(function(e){return{addField:function(){var t=Object(o.a)(n.a.mark((function t(a,r){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(B(a,r));case 2:e(Vt());case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),removeField:function(){var t=Object(o.a)(n.a.mark((function t(a,r){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(q(a,r));case 2:e(Vt());case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),updateSectionItem:function(){var t=Object(o.a)(n.a.mark((function t(a,r,o,i){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(Y(a,r,o,i));case 2:e(Vt());case 3:case"end":return t.stop()}}),t)})));return function(e,a,r,n){return t.apply(this,arguments)}}()}}))(wa),Ca=(a(279),a(842),a(414)),ja=a.n(Ca),Da=a(507),Sa=a.n(Da),Ta=(a(848),window.ace.acequire("ace/mode/doc_comment_highlight_rules").DocCommentHighlightRules);var Aa=function(e){function t(){var e;Object(f.a)(this,t),e=Object(_.a)(this,Object(g.a)(t).call(this));for(var a="",r=0;r<ce.length;r++){a+=ce[r].name+"|"}var n=e.createKeywordMapper({"variable.language":"Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|Namespace|QName|XML|XMLList|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt|JSON|Math|this|arguments|prototype|window|document",keyword:"const|yield|import|get|set|break|case|catch|continue|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|"+a+"__parent__|__count__|escape|unescape|with|__proto__|class|enum|extends|super|export|implements|private|public|interface|package|protected|static","storage.type":"const|let|var|function","constant.language":"null|Infinity|NaN|undefined","support.function":"alert","constant.language.boolean":"true|false"},"identifier"),o="\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|[0-2][0-7]{0,2}|3[0-6][0-7]?|37[0-7]?|[4-7][0-7]?|.)",i="[a-zA-Z\\$_\xa1-\uffff][a-zA-Z\\d\\$_\xa1-\uffff]*\\b";return e.$rules={no_regex:[{token:"comment",regex:"\\/\\/",next:"line_comment"},Ta.getStartRule("doc-start"),{token:"comment",regex:/\/\*/,next:"comment"},{token:"string",regex:"'(?=.)",next:"qstring"},{token:"string",regex:'"(?=.)',next:"qqstring"},{token:"constant.numeric",regex:/0[xX][0-9a-fA-F]+\b/},{token:"constant.numeric",regex:/[+-]?\d+(?:(?:\.\d*)?(?:[eE][+-]?\d+)?)?\b/},{token:["storage.type","punctuation.operator","support.function","punctuation.operator","entity.name.function","text","keyword.operator"],regex:"("+i+")(\\.)(prototype)(\\.)("+i+")(\\s*)(=)",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+i+")(\\.)("+i+")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+i+")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","entity.name.function","text","paren.lparen"],regex:"("+i+")(\\.)("+i+")(\\s*)(=)(\\s*)(function)(\\s+)(\\w+)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","entity.name.function","text","paren.lparen"],regex:"(function)(\\s+)("+i+")(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","punctuation.operator","text","storage.type"],regex:"("+i+")(\\s*)(\\s*)(\\s*)(\\()",next:"function_arguments"},{token:["text","text","storage.type","text","paren.lparen"],regex:"(:)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:"keyword",regex:"(?:case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void)\\b",next:"start"},{token:["punctuation.operator","support.function"],regex:/(\.)(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/},{token:["punctuation.operator","support.function.dom"],regex:/(\.)(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName|ClassName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/},{token:["punctuation.operator","support.constant"],regex:/(\.)(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/},{token:["support.constant"],regex:/that\b/},{token:["storage.type","punctuation.operator","support.function.firebug"],regex:/(console)(\.)(warn|info|log|error|time|trace|timeEnd|assert)\b/},{token:n,regex:i},{token:"keyword.operator",regex:/--|\+\+|===|==|=|!=|!==|<=|>=|<<=|>>=|>>>=|<>|<|>|!|&&|\|\||\?\:|[!$%&*+\-~\/^]=?/,next:"start"},{token:"punctuation.operator",regex:/[?:,;.]/,next:"start"},{token:"paren.lparen",regex:/[\[({]/,next:"start"},{token:"paren.rparen",regex:/[\])}]/},{token:"comment",regex:/^#!.*$/}],start:[Ta.getStartRule("doc-start"),{token:"comment",regex:"\\/\\*",next:"comment_regex_allowed"},{token:"comment",regex:"\\/\\/",next:"line_comment_regex_allowed"},{token:"string.regexp",regex:"\\/",next:"regex"},{token:"text",regex:"\\s+|^$",next:"start"},{token:"empty",regex:"",next:"no_regex"}],regex:[{token:"regexp.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"string.regexp",regex:"/[sxngimy]*",next:"no_regex"},{token:"invalid",regex:/\{\d+\b,?\d*\}[+*]|[+*$^?][+*]|[$^][?]|\?{3,}/},{token:"constant.language.escape",regex:/\(\?[:=!]|\)|\{\d+\b,?\d*\}|[+*]\?|[()$^+*?.]/},{token:"constant.language.delimiter",regex:/\|/},{token:"constant.language.escape",regex:/\[\^?/,next:"regex_character_class"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp"}],regex_character_class:[{token:"regexp.charclass.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"constant.language.escape",regex:"]",next:"regex"},{token:"constant.language.escape",regex:"-"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp.charachterclass"}],function_arguments:[{token:"variable.parameter",regex:i},{token:"punctuation.operator",regex:"[, ]+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],comment_regex_allowed:[Ta.getTagRule(),{token:"comment",regex:"\\*\\/",next:"start"},{defaultToken:"comment",caseInsensitive:!0}],comment:[Ta.getTagRule(),{token:"comment",regex:"\\*\\/",next:"no_regex"},{defaultToken:"comment",caseInsensitive:!0}],line_comment_regex_allowed:[Ta.getTagRule(),{token:"comment",regex:"$|^",next:"start"},{defaultToken:"comment",caseInsensitive:!0}],line_comment:[Ta.getTagRule(),{token:"comment",regex:"$|^",next:"no_regex"},{defaultToken:"comment",caseInsensitive:!0}],qqstring:[{token:"constant.language.escape",regex:o},{token:"string",regex:"\\\\$",next:"qqstring"},{token:"string",regex:'"|$',next:"no_regex"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:o},{token:"string",regex:"\\\\$",next:"qstring"},{token:"string",regex:"'|$",next:"no_regex"},{defaultToken:"string"}]},e}return Object(b.a)(t,e),t}(window.ace.acequire("ace/mode/text_highlight_rules").TextHighlightRules),Ma=function(e){function t(){var e;return Object(f.a)(this,t),(e=Object(_.a)(this,Object(g.a)(t).call(this))).HighlightRules=Aa,e}return Object(b.a)(t,e),t}(window.ace.acequire("ace/mode/javascript").Mode),Na=a(873);a(849);function La(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Pa(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?La(a,!0).forEach((function(t){Object(ae.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):La(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ia=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(_.a)(this,Object(g.a)(t).call(this,e))).state={label:"",name:"",formula:"",description:Object(oe.cloneDeep)(le),section:"columns",formulaHelper:!1,formulaDescriptions:ce},a.onHandleChange=a.onHandleChange.bind(Object(C.a)(a)),a.addToFormula=a.addToFormula.bind(Object(C.a)(a)),a.onAddField=a.onAddField.bind(Object(C.a)(a)),a.onHandleChangeFn=a.onHandleChangeFn.bind(Object(C.a)(a)),a.isOpen=!1,a}return Object(b.a)(t,e),Object(h.a)(t,[{key:"componentWillReceiveProps",value:function(e){"edit"===e.modalFormulaMode?this.setState(Object(oe.cloneDeep)(e.modalFormulaEditModeData)):this.setState({label:"",name:"",formula:"",description:Object(oe.cloneDeep)(le),section:"columns"})}},{key:"onHandleChange",value:function(e){var t=e.target,a=t.name,r=t.value;this.setState(Pa({},this.state,{},Object(ae.a)({},a,r)))}},{key:"onHandleChangeEditor",value:function(e){this.setState(Pa({},this.state,{},Object(ae.a)({},"formula",e)))}},{key:"onHandleChangeFn",value:function(e){Ge(e)?this.setState(Pa({},this.state,{},{description:Object(oe.cloneDeep)(le)})):this.setState(Pa({},this.state,{},{description:Object(oe.cloneDeep)(e)}))}},{key:"addToFormula",value:function(e){if(e){var t=e.name;this.setState(Pa({},this.state,{},{formula:"".concat(this.state.formula," props(").concat(t,") ")}))}}},{key:"onAddField",value:function(e){if(this.state.label){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=We(e);return"_"===(t=(t="cstm_formula_"+t).replace(/_+/g,"_").substr(0,50)).slice(t.length-1)?t.slice(0,-1):t}(this.state.label),a=this.props.columns.map((function(e){return e.key_name})).concat(this.props.groups.map((function(e){return e.key_name})));if("edit"===this.props.modalFormulaMode||-1===a.indexOf(t))if(this.state.formula){var r={error:!1,description:""},n=this.props.columns.filter((function(e){return e.customFn})).concat(this.props.groups.filter((function(e){return e.customFn}))),o=this.props.columns.filter((function(e){return!e.customFn})).concat(this.props.groups.filter((function(e){return!e.customFn}))),i=o.map((function(e){return e.key_name})),l=n.map((function(e){return e.key_name})),c=n.map((function(e){return Object.assign({},Object(ae.a)({},e.key_name,e.formula))})).reduce(ze,{}),s=function e(t,a,n,i){return t.replace(/props\((.*?)\)/g,(function(t,l){if(-1===n.indexOf(l)){if(-1!==a.indexOf(l)){var c=o.find((function(e){return e.key_name===l})).type,s=Ye(c);return"CharField"===c||"DateTimeField"===c||"DateField"===c?"'".concat(s,"'"):s}return r.error=!0,r.description="El operando ".concat(l," no pertenece a la lista de columnas seleccionadas"),""}return"(".concat(e(i[l],a,n,i),")")}))}(this.state.formula,i,l,c);if(r.error){Ke.ShowError("BLFlex.Notification.InvalidFormula",new Array(s))}else{var u,d=void 0;try{d=Object(It.a)(Function,Object($e.a)(Object.keys(Ze)).concat(["try {\n\t\t\t\t\treturn ".concat(s,"\n\t\t\t\t} catch (err)  {\n\t\t\t\t\treturn err\n\t\t\t\t}")])).apply(void 0,Object($e.a)(Object.values(Ze)))}catch(f){return console.error(f),void Ke.ShowError("BLFlex.Notification.ErrorEvaluateFormulate")}if(d instanceof Error)return console.error(d),void Ke.ShowError("Custom.Generic.Message.Error");if(u=-1!==s.indexOf("changeFormat")?"CharField":function(e){var t,a=(t=e,{}.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase());return"string"===a?e.length>=10&&Ce(e)?e.length>10?"DateTimeField":"DateField":"CharField":"number"===a?e%1===0?"IntegerField":"FloatField":"boolean"===a?"BooleanField":"undefined"===a&&"CharField"}(d)){var p=function(e){switch(e){case"CharField":return Object(oe.cloneDeep)(se);case"IntegerField":return Object(oe.cloneDeep)(ue);case"FloatField":return Object(oe.cloneDeep)(de);case"DateTimeField":return Object(oe.cloneDeep)(pe);case"DateField":return Object(oe.cloneDeep)(me);case"BooleanField":return Object(oe.cloneDeep)(fe);default:return Object(oe.cloneDeep)(se)}}(u);if("edit"===this.props.modalFormulaMode)this.props.dispatchUpdateSectionItem(this.state.section,this.props.index,"formula",this.state.formula),this.props.dispatchUpdateSectionItem(this.state.section,this.props.index,"label",this.state.label),this.props.dispatchUpdateSectionItem(this.state.section,this.props.index,"type",p.type),this.props.dispatchUpdateSectionItem(this.state.section,this.props.index,"filter_options",Pa({},p.filter_options));else{var m=Pa({name:t,label:this.state.label},p,{path:this.props.selected_class,key_name:t,customFn:!0,formula:this.state.formula});this.props.dispatchAddField("columns",m)}this.props.dispatchFetchPreviewData(),this.setState(Object(oe.cloneDeep)(he)),this.props.dispatchSetIsOpen(!1)}else{Ke.ShowError("BLFlex.Notification.UnexpectedData",new Array(s))}}}else Ke.ShowError("BLFlex.Notification.EnterFormula");else{Ke.ShowError("BLFlex.Notification.ChangeKey",new Array(t))}}else Ke.ShowError("BLFlex.Notification.NameColumn")}},{key:"detectFunctions",value:function(e){var t=this;try{var a=e,r={column:a.cursor.column,row:a.cursor.row},n=a.doc.$lines[r.row].slice(0,r.column+1);if("("===n.slice(-1)){var o=n.slice(0,n.length-1).split(/\(|\)|--|\+\+|===|==|=|!=|!==|<=|>=|<<=|>>=|>>>=|<>|<|>|!|&&|\|\||\?\:|[!$%&*+\-~\/^]=?/).pop().replaceAll(" ","");ce.forEach((function(e){e.name===o&&t.setState(Pa({},t.state,{},{description:Object(oe.cloneDeep)(e)}))}))}else this.state.formulaHelper||this.setState(Pa({},this.state,{},{description:Object(oe.cloneDeep)(le)}))}catch(i){console.log("detectFunctions",i)}}},{key:"render",value:function(){var e=this;return l.a.createElement(w.a,{scrollable:!1,centered:!0,size:"lg",isOpen:this.props.modalFormulaisOpen,toggle:function(){return e.props.dispatchSetIsOpen(!1)},className:"config-modal"},l.a.createElement(O.a,{toggle:function(){return e.props.dispatchSetIsOpen(!1)}},l.a.createElement(tt,{resourceTag:"BLFlex.Label.Formula"})),l.a.createElement(F.a,null,l.a.createElement("div",{className:"formula-modal-edit-container"},l.a.createElement("div",{className:"formula-modal-row"},l.a.createElement(x.a,null,l.a.createElement(A.a,null,l.a.createElement(M.a,{for:"label"},l.a.createElement(tt,{resourceTag:"BLFlex.Label.NameColumn"})),l.a.createElement(N.a,{type:"text",name:"label",id:"label",className:"input-sm",bsSize:"sm",value:this.state.label,onChange:function(t){return e.onHandleChange(t)}})))),l.a.createElement("div",{className:"formula-modal-row"},l.a.createElement(x.a,null,l.a.createElement(A.a,null,l.a.createElement(M.a,{for:"name"},l.a.createElement(tt,{resourceTag:"BLFlex.Label.Formula"}),l.a.createElement(ea.a,{color:"secondary",className:this.state.formulaHelper?"active-option-button":"formula-edit-help",onClick:function(){var t=Object(o.a)(n.a.mark((function t(a){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState(Pa({},e.state,{},{formulaHelper:!e.state.formulaHelper}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},l.a.createElement("i",{className:"fa fa-question-circle","aria-hidden":"true"}))),l.a.createElement(Sa.a,{ref:"aceEditor",placeholder:"year(props(creation_date)) ...",mode:"text",theme:"monokai",name:"formula",onLoad:function(t){setTimeout((function(){var a=new Ma;t.session.setMode(a),function(e,t){var a={getCompletions:function(a,r,n,o,i){i(null,e.concat(t).map((function(e){return e.examples?{caption:e.name,value:e.printFormula(),meta:"Funci\xf3n",obj:e}:{caption:e.label,value:"props("+e.key_name+")",meta:"Columna"}})))}};ja.a.setCompleters([a])}(ce,e.props.columns.concat(e.props.groups))}),100)},onChange:function(t){e.onHandleChangeEditor(t)},onCursorChange:function(t){return e.detectFunctions(t)},value:this.state.formula,fontSize:14,setOptions:{enableBasicAutocompletion:!0,showLineNumbers:!0,enableLiveAutocompletion:!0},showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,style:{width:"100%",height:"100px"}}),this.state.description&&""!==this.state.description.label||this.state.formulaHelper?l.a.createElement("ul",{className:"formula-helper-container"},l.a.createElement("li",{className:"formula-helper"},l.a.createElement("div",{style:{display:"flex"}},l.a.createElement("div",{className:"helper-option-list",style:{width:"30%",marginRight:"5%"}},l.a.createElement("h5",null,"Funciones"),l.a.createElement("ul",null,ce.map((function(t,a){return l.a.createElement("li",{style:{listStyle:"none"},key:a},l.a.createElement("button",{color:"secondary",className:e.state.description.name!==t.name?"helper-funtion-option":"helper-funtion-option active-option-button",onClick:function(){return e.onHandleChangeFn(t)}},t.label))})))),this.state.description&&""!==this.state.description.label?l.a.createElement("div",{className:"helper-option-detail",style:{width:"65%"}},l.a.createElement("h4",null,this.state.description.label," ",l.a.createElement("span",{style:{fontSize:"12px",fontFamily:"Avenir-Book,Arial,Helvetica,sans-serif"}},"(",l.a.createElement("i",null,this.state.description.name),")")),l.a.createElement("p",null,this.state.description.description),l.a.createElement("h5",null,this.state.description.syntax&&l.a.createElement(tt,{resourceTag:"BLFlex.Label.Formula.Syntax"})),this.state.description.syntax&&l.a.createElement(Na.a,{color:"dark"},l.a.createElement("i",null,this.state.description.syntax)),l.a.createElement("h5",null,!!this.state.description.examples.length&&l.a.createElement(tt,{resourceTag:"BLFlex.Label.Formula.Examples"})),this.state.description.examples.map((function(e,t){return l.a.createElement(Na.a,{key:t,color:"dark"},l.a.createElement("i",null,e))}))):null))):null))))),l.a.createElement(L.a,null,l.a.createElement(k.a,{color:"primary",className:"btn_primary_def_1",onClick:this.onAddField},"edit"===this.props.modalFormulaMode?"Aceptar":"Agregar"),l.a.createElement(k.a,{color:"secondary",className:"btn_secondary_def_1",onClick:function(t){e.props.dispatchSetIsOpen(!1),e.setState(Object(oe.cloneDeep)(he))}},"Cancelar")))}}]),t}(i.Component),Ra=Object(u.b)((function(e){var t=e.modalFormula,a=e.general;return{modalFormulaisOpen:t.isOpen,modalFormulaMode:t.mode,modalFormulaEditModeData:t.edit_mode_data,selected_class:a.report_header_data.selected_class,columns:a.columns,groups:a.groups,index:t.index}}),(function(e){return{dispatchSetIsOpen:function(t){return e(J(t))},dispatchAddField:function(t,a){return e(B(t,a))},dispatchFetchPreviewData:function(){return e(Vt())},dispatchUpdateSectionItem:function(t,a,r,n){e(Y(t,a,r,n))}}}))(Ia),Ha=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(_.a)(this,Object(g.a)(t).call(this,e))).toggleCollapse=function(){a.setState((function(e){return{collapse:!e.collapse}}))},a.openEditFormula=function(){a.props.dispatchSetModeModalFormula("add"),a.props.dispatchSetIsOpen(!0)},a.filterFieldList=function(e){var t=[];return a.props.field_list.forEach((function(a){var r=D()(a);if(r.options){for(var n=[],o=0;o<r.options.length;o++){var i=r.options[o];-1===e.indexOf(i.key_name)&&n.push(i)}r.options=n,t.push(r)}})),t},a.state={current_tab:0,collapse:!e.is_create_edit,change_tab:!1},a}return Object(b.a)(t,e),Object(h.a)(t,[{key:"changeTab",value:function(e){this.setState({current_tab:e})}},{key:"onClickIcon",value:function(){var e=Math.abs(this.state.current_tab-1);this.setState({current_tab:e,change_tab:!0})}},{key:"render",value:function(){var e=this,t=this.props,a=t.columns,r=t.groups,n=t.filters,o=t.is_create_edit,i=t.is_list_view;this.state.current_tab=i&&!this.state.change_tab?0:this.state.current_tab,this.state.change_tab=!1;var c=a.map((function(e){return e.key_name})).concat(r.map((function(e){return e.key_name})));return this.state.collapse?l.a.createElement("div",{className:"oreports-sidebar collapsed"},l.a.createElement("div",{className:"sidebar-header"},l.a.createElement("div",{className:"sidebar-icon",onClick:this.toggleCollapse},l.a.createElement("i",{className:"fa fa-chevron-right","aria-hidden":"true"})))):l.a.createElement("div",{className:"oreports-sidebar"},l.a.createElement("div",{className:"sidebar-header"},this.state.current_tab===(o?0:1)?l.a.createElement("div",{className:"sidebar-title"},l.a.createElement("i",{className:"fa fa-th","aria-hidden":"true"})," Tabla base"):null,l.a.createElement("div",{className:"sidebar-icon",onClick:function(){e.onClickIcon()}},this.state.current_tab===(o?0:1)?l.a.createElement("i",{className:"fa fa-filter","aria-hidden":"true"}):l.a.createElement("i",{className:"fa fa-th","aria-hidden":"true"})),this.state.current_tab===(o?1:0)?l.a.createElement("div",{className:"sidebar-title"},l.a.createElement("i",{className:"fa fa-filter","aria-hidden":"true"})," Filtros"):null,l.a.createElement("div",{className:"sidebar-collapse",onClick:this.toggleCollapse},l.a.createElement("i",{className:"fa fa-chevron-left","aria-hidden":"true"}))),l.a.createElement("div",{className:"padding-15"},this.state.current_tab===(o?0:1)?l.a.createElement(l.a.Fragment,null,l.a.createElement(Ra,null),l.a.createElement(Fa,{title:"Columnas",section:"columns",fields:a,field_list:this.filterFieldList(c),titleButton:o?{classes:"btn btn-default oreports-primary-button outlined custom-columns-function",click:this.openEditFormula,classIcon:"fa fa-columns"}:null}),l.a.createElement("hr",null),l.a.createElement(Fa,{title:"Grupos",section:"groups",fields:r,field_list:this.filterFieldList(c)})):l.a.createElement(Fa,{title:"Filtros",notitle:!0,section:"filters",fields:n,field_list:this.filterFieldList([])})))}}]),t}(i.Component),Ba=Object(u.b)((function(e){return{field_list:e.general.field_list,columns:e.general.columns,groups:e.general.groups,filters:e.general.filters,is_create_edit:e.general.is_create_edit,is_list_view:e.general.is_list_view}}),(function(e){return{dispatchSetIsOpen:function(t){return e(J(t))},dispatchSetModeModalFormula:function(t){return e(Q(t))}}}))(Ha);function qa(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Va(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?qa(a,!0).forEach((function(t){Object(ae.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):qa(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ga=function(e){function t(){return Object(f.a)(this,t),Object(_.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.zoomed_chart_def,a=e.toggleZoomChartModal;return t&&t.type?l.a.createElement(w.a,{scrollable:!1,centered:!0,size:"lg",isOpen:!0,toggle:a,className:"config-modal full-screen-modal modal-chart"},l.a.createElement(F.a,null,l.a.createElement(mt,{chart_def:Va({},t),isZoomed:!0}),l.a.createElement("div",{className:"chart-button-container"},l.a.createElement("i",{className:"fa fa-times","aria-hidden":"true",onClick:a})),this.props.show_table?l.a.createElement(E.a,null,l.a.createElement(x.a,null,l.a.createElement("div",{className:"oreports-container"},l.a.createElement("div",{className:"oreports-body"},l.a.createElement(Ba,null),l.a.createElement("div",{className:"oreports-table"},l.a.createElement($t,{in_modal:!0})))))):null)):null}}]),t}(i.Component),za=Object(u.b)((function(e){return{zoomed_chart_def:e.general.zoomed_chart_def}}),(function(e){return{toggleZoomChartModal:function(){e(V({}))}}}))(Ga),Ua=a(290);function Ya(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Za(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ya(a,!0).forEach((function(t){Object(ae.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ya(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Wa=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(_.a)(this,Object(g.a)(t).call(this,e))).state={chartGuid:a.getGuid()},a}return Object(b.a)(t,e),Object(h.a)(t,[{key:"getGuid",value:function(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}},{key:"componentDidUpdate",value:function(e,t){e.size!=this.props.size&&this.setState({chartGuid:this.getGuid()})}},{key:"render",value:function(){for(var e=this,t=this.props,a=t.chart_def,r=t.chart_index,n=t.is_create_edit,o=t.size,i=t.table_filters,c=!1,s=null,u=0;u<i.length;u++){var d=i[u];if((d[0]===a.xaxis||a.yaxis&&a.yaxis.length>0&&d[0]===a.yaxis[0])&&3===d.length&&d[2]){c=!0,s=d[0]===a.xaxis?a.xaxis:a.yaxis[0];break}}return l.a.createElement(x.a,{md:o,className:"chart-card",style:{padding:"numeric"===a.type?0:"inherit"}},l.a.createElement(mt,{chart_def:Za({},a),key:this.state.chartGuid}),l.a.createElement("div",{className:"chart-button-container"},"numeric"!==a.type?l.a.createElement(Ua.Button,{icon:"search",onClick:function(){e.props.zoomChart(Za({},a))}}):null,c?l.a.createElement(Ua.Button,{icon:"undo",onClick:function(){e.props.applyFilter(s,void 0)}}):null,n?l.a.createElement(l.a.Fragment,null,l.a.createElement(Ua.Button,{icon:"edit",onClick:function(){e.props.editChart(r)}}),l.a.createElement(Ua.Button,{icon:"close",onClick:function(){e.props.removeChart(r)}})," "):null))}}]),t}(i.Component),Ka=Object(u.b)((function(e){return{is_create_edit:e.general.is_create_edit,table_filters:e.general.table_filters}}),(function(e){return{removeChart:function(t){e(function(e){return{type:"REMOVE_CHART",index:e}}(t))},editChart:function(){var t=Object(o.a)(n.a.mark((function t(a){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e($(a));case 2:e(U());case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),zoomChart:function(t){e(V(t))},applyFilter:function(t,a){e(X(t,a))}}}))(Wa);function Xa(){return(Xa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function $a(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var Ja=l.a.createElement("g",{id:"Group_2638","data-name":"Group 2638",transform:"translate(18875 1576.005)",opacity:.5},l.a.createElement("path",{id:"Union_1","data-name":"Union 1",d:"M16.385,36.808V24.457H4.035a4.035,4.035,0,0,1,0-8.07H16.385V4.036a4.035,4.035,0,1,1,8.07,0V16.386H36.806a4.035,4.035,0,1,1,0,8.07H24.456V36.808a4.035,4.035,0,0,1-8.07,0Z",transform:"translate(-18774.404 -1547.535) rotate(-16)",fill:"#909090",opacity:.5}),l.a.createElement("path",{id:"Union_2","data-name":"Union 2",d:"M16.385,36.808V24.458H4.035a4.036,4.036,0,0,1,0-8.071H16.385V4.036a4.035,4.035,0,1,1,8.07,0V16.386H36.806a4.036,4.036,0,0,1,0,8.071H24.456V36.808a4.035,4.035,0,0,1-8.07,0Z",transform:"translate(-18632.051 -1576.005) rotate(28)",fill:"#909090",opacity:.5}),l.a.createElement("path",{id:"Union_4","data-name":"Union 4",d:"M16.385,36.808V24.458H4.035a4.036,4.036,0,0,1,0-8.071H16.385V4.036a4.035,4.035,0,1,1,8.07,0V16.386H36.806a4.036,4.036,0,0,1,0,8.071H24.456V36.808a4.035,4.035,0,0,1-8.07,0Z",transform:"translate(-18555.348 -1278.321) rotate(9)",fill:"#909090",opacity:.5}),l.a.createElement("path",{id:"Union_6","data-name":"Union 6",d:"M16.385,36.808V24.458H4.035a4.036,4.036,0,0,1,0-8.071H16.385V4.036a4.035,4.035,0,1,1,8.07,0V16.386H36.806a4.036,4.036,0,0,1,0,8.071H24.456V36.808a4.035,4.035,0,0,1-8.07,0Z",transform:"translate(-18847.463 -1282.31) rotate(-18)",fill:"#909090",opacity:.5}),l.a.createElement("path",{id:"Union_3","data-name":"Union 3",d:"M10.427,23.423v-7.86H2.568a2.568,2.568,0,0,1,0-5.136h7.859V2.568a2.568,2.568,0,0,1,5.136,0v7.86h7.859a2.568,2.568,0,0,1,0,5.136H15.563v7.86a2.568,2.568,0,0,1-5.136,0Z",transform:"translate(-18473.324 -1431.001) rotate(13)",fill:"#909090",opacity:.5}),l.a.createElement("path",{id:"Union_7","data-name":"Union 7",d:"M10.427,23.423v-7.86H2.568a2.568,2.568,0,0,1,0-5.136h7.859V2.568a2.568,2.568,0,0,1,5.136,0v7.86h7.859a2.568,2.568,0,0,1,0,5.136H15.563v7.86a2.568,2.568,0,0,1-5.136,0Z",transform:"translate(-18809.58 -1469.026) rotate(-15)",fill:"#909090",opacity:.5}),l.a.createElement("path",{id:"Union_5","data-name":"Union 5",d:"M10.427,23.423v-7.86H2.568a2.568,2.568,0,0,1,0-5.136h7.859V2.568a2.568,2.568,0,0,1,5.136,0v7.86h7.859a2.568,2.568,0,0,1,0,5.136H15.563v7.86a2.568,2.568,0,0,1-5.136,0Z",transform:"translate(-18690.037 -1227.109) rotate(-11)",fill:"#909090",opacity:.5}),l.a.createElement("path",{id:"Exclusion_1","data-name":"Exclusion 1",d:"M14,28a14.1,14.1,0,0,1-2.822-.284,13.921,13.921,0,0,1-5.006-2.106A14.039,14.039,0,0,1,1.1,19.449a13.926,13.926,0,0,1-.816-2.628,14.135,14.135,0,0,1,0-5.643A13.924,13.924,0,0,1,2.391,6.172,14.041,14.041,0,0,1,8.551,1.1,13.9,13.9,0,0,1,11.179.284a14.134,14.134,0,0,1,5.643,0,13.921,13.921,0,0,1,5.006,2.106A14.04,14.04,0,0,1,26.9,8.551a13.932,13.932,0,0,1,.816,2.628,14.137,14.137,0,0,1,0,5.643,13.925,13.925,0,0,1-2.107,5.006A14.041,14.041,0,0,1,19.45,26.9a13.914,13.914,0,0,1-2.628.816A14.1,14.1,0,0,1,14,28ZM14,4.359A9.6,9.6,0,0,0,8.61,6.006a9.669,9.669,0,0,0-3.493,4.242,9.628,9.628,0,0,0,.889,9.143,9.667,9.667,0,0,0,4.241,3.493,9.628,9.628,0,0,0,9.143-.889,9.671,9.671,0,0,0,3.493-4.241,9.628,9.628,0,0,0-.889-9.143,9.668,9.668,0,0,0-4.242-3.493A9.582,9.582,0,0,0,14,4.359Z",transform:"translate(-18544 -1516)",fill:"#909090",opacity:.5}),l.a.createElement("path",{id:"Exclusion_6","data-name":"Exclusion 6",d:"M14,28a14.1,14.1,0,0,1-2.822-.284,13.921,13.921,0,0,1-5.006-2.106A14.039,14.039,0,0,1,1.1,19.449a13.926,13.926,0,0,1-.816-2.628,14.135,14.135,0,0,1,0-5.643A13.924,13.924,0,0,1,2.391,6.172,14.041,14.041,0,0,1,8.551,1.1,13.9,13.9,0,0,1,11.179.284a14.134,14.134,0,0,1,5.643,0,13.921,13.921,0,0,1,5.006,2.106A14.04,14.04,0,0,1,26.9,8.551a13.932,13.932,0,0,1,.816,2.628,14.137,14.137,0,0,1,0,5.643,13.925,13.925,0,0,1-2.107,5.006A14.041,14.041,0,0,1,19.45,26.9a13.914,13.914,0,0,1-2.628.816A14.1,14.1,0,0,1,14,28ZM14,4.359A9.6,9.6,0,0,0,8.61,6.006a9.669,9.669,0,0,0-3.493,4.242,9.628,9.628,0,0,0,.889,9.143,9.667,9.667,0,0,0,4.241,3.493,9.628,9.628,0,0,0,9.143-.889,9.671,9.671,0,0,0,3.493-4.241,9.628,9.628,0,0,0-.889-9.143,9.668,9.668,0,0,0-4.242-3.493A9.582,9.582,0,0,0,14,4.359Z",transform:"translate(-18875 -1416)",fill:"#909090",opacity:.5}),l.a.createElement("path",{id:"Exclusion_4","data-name":"Exclusion 4",d:"M14,28a14.1,14.1,0,0,1-2.822-.284,13.921,13.921,0,0,1-5.006-2.106A14.039,14.039,0,0,1,1.1,19.449a13.926,13.926,0,0,1-.816-2.628,14.135,14.135,0,0,1,0-5.643A13.924,13.924,0,0,1,2.391,6.172,14.041,14.041,0,0,1,8.551,1.1,13.9,13.9,0,0,1,11.179.284a14.134,14.134,0,0,1,5.643,0,13.921,13.921,0,0,1,5.006,2.106A14.04,14.04,0,0,1,26.9,8.551a13.932,13.932,0,0,1,.816,2.628,14.137,14.137,0,0,1,0,5.643,13.925,13.925,0,0,1-2.107,5.006A14.041,14.041,0,0,1,19.45,26.9a13.914,13.914,0,0,1-2.628.816A14.1,14.1,0,0,1,14,28ZM14,4.359A9.6,9.6,0,0,0,8.61,6.006a9.669,9.669,0,0,0-3.493,4.242,9.628,9.628,0,0,0,.889,9.143,9.667,9.667,0,0,0,4.241,3.493,9.628,9.628,0,0,0,9.143-.889,9.671,9.671,0,0,0,3.493-4.241,9.628,9.628,0,0,0-.889-9.143,9.668,9.668,0,0,0-4.242-3.493A9.582,9.582,0,0,0,14,4.359Z",transform:"translate(-18612 -1206)",fill:"#909090",opacity:.5}),l.a.createElement("path",{id:"Exclusion_8","data-name":"Exclusion 8",d:"M14,28a14.1,14.1,0,0,1-2.822-.284,13.921,13.921,0,0,1-5.006-2.106A14.039,14.039,0,0,1,1.1,19.449a13.926,13.926,0,0,1-.816-2.628,14.135,14.135,0,0,1,0-5.643A13.924,13.924,0,0,1,2.391,6.172,14.041,14.041,0,0,1,8.551,1.1,13.9,13.9,0,0,1,11.179.284a14.134,14.134,0,0,1,5.643,0,13.921,13.921,0,0,1,5.006,2.106A14.04,14.04,0,0,1,26.9,8.551a13.932,13.932,0,0,1,.816,2.628,14.137,14.137,0,0,1,0,5.643,13.925,13.925,0,0,1-2.107,5.006A14.041,14.041,0,0,1,19.45,26.9a13.914,13.914,0,0,1-2.628.816A14.1,14.1,0,0,1,14,28ZM14,4.359A9.6,9.6,0,0,0,8.61,6.006a9.669,9.669,0,0,0-3.493,4.242,9.628,9.628,0,0,0,.889,9.143,9.667,9.667,0,0,0,4.241,3.493,9.628,9.628,0,0,0,9.143-.889,9.671,9.671,0,0,0,3.493-4.241,9.628,9.628,0,0,0-.889-9.143,9.668,9.668,0,0,0-4.242-3.493A9.582,9.582,0,0,0,14,4.359Z",transform:"translate(-18494 -1302)",fill:"#909090",opacity:.5}),l.a.createElement("path",{id:"Exclusion_2","data-name":"Exclusion 2",d:"M8.5,17a8.559,8.559,0,0,1-1.713-.173,8.452,8.452,0,0,1-3.039-1.279,8.524,8.524,0,0,1-3.08-3.74,8.455,8.455,0,0,1-.5-1.6,8.582,8.582,0,0,1,0-3.426,8.454,8.454,0,0,1,1.279-3.04A8.525,8.525,0,0,1,5.192.668a8.441,8.441,0,0,1,1.6-.5,8.582,8.582,0,0,1,3.426,0,8.452,8.452,0,0,1,3.039,1.279,8.524,8.524,0,0,1,3.08,3.74,8.459,8.459,0,0,1,.5,1.6,8.583,8.583,0,0,1,0,3.426,8.455,8.455,0,0,1-1.279,3.04,8.525,8.525,0,0,1-3.74,3.079,8.448,8.448,0,0,1-1.6.5A8.558,8.558,0,0,1,8.5,17Zm0-14.353a5.826,5.826,0,0,0-3.273,1A5.871,5.871,0,0,0,3.107,6.222a5.845,5.845,0,0,0,.54,5.551,5.869,5.869,0,0,0,2.575,2.121,5.846,5.846,0,0,0,5.551-.54,5.872,5.872,0,0,0,2.121-2.575,5.846,5.846,0,0,0-.54-5.551,5.87,5.87,0,0,0-2.575-2.121A5.818,5.818,0,0,0,8.5,2.647Z",transform:"translate(-18539 -1374)",fill:"#909090",opacity:.5}),l.a.createElement("path",{id:"Exclusion_5","data-name":"Exclusion 5",d:"M8.5,17a8.559,8.559,0,0,1-1.713-.173,8.452,8.452,0,0,1-3.039-1.279,8.524,8.524,0,0,1-3.08-3.74,8.455,8.455,0,0,1-.5-1.6,8.582,8.582,0,0,1,0-3.426,8.454,8.454,0,0,1,1.279-3.04A8.525,8.525,0,0,1,5.192.668a8.441,8.441,0,0,1,1.6-.5,8.582,8.582,0,0,1,3.426,0,8.452,8.452,0,0,1,3.039,1.279,8.524,8.524,0,0,1,3.08,3.74,8.459,8.459,0,0,1,.5,1.6,8.583,8.583,0,0,1,0,3.426,8.455,8.455,0,0,1-1.279,3.04,8.525,8.525,0,0,1-3.74,3.079,8.448,8.448,0,0,1-1.6.5A8.558,8.558,0,0,1,8.5,17Zm0-14.353a5.826,5.826,0,0,0-3.273,1A5.871,5.871,0,0,0,3.107,6.222a5.845,5.845,0,0,0,.54,5.551,5.869,5.869,0,0,0,2.575,2.121,5.846,5.846,0,0,0,5.551-.54,5.872,5.872,0,0,0,2.121-2.575,5.846,5.846,0,0,0-.54-5.551,5.87,5.87,0,0,0-2.575-2.121A5.818,5.818,0,0,0,8.5,2.647Z",transform:"translate(-18765 -1215)",fill:"#909090",opacity:.5}),l.a.createElement("path",{id:"Exclusion_3","data-name":"Exclusion 3",d:"M8.5,17a8.559,8.559,0,0,1-1.713-.173,8.452,8.452,0,0,1-3.039-1.279,8.524,8.524,0,0,1-3.08-3.74,8.455,8.455,0,0,1-.5-1.6,8.582,8.582,0,0,1,0-3.426,8.454,8.454,0,0,1,1.279-3.04A8.525,8.525,0,0,1,5.192.668a8.441,8.441,0,0,1,1.6-.5,8.582,8.582,0,0,1,3.426,0,8.452,8.452,0,0,1,3.039,1.279,8.524,8.524,0,0,1,3.08,3.74,8.459,8.459,0,0,1,.5,1.6,8.583,8.583,0,0,1,0,3.426,8.455,8.455,0,0,1-1.279,3.04,8.525,8.525,0,0,1-3.74,3.079,8.448,8.448,0,0,1-1.6.5A8.558,8.558,0,0,1,8.5,17Zm0-14.353a5.826,5.826,0,0,0-3.273,1A5.871,5.871,0,0,0,3.107,6.222a5.845,5.845,0,0,0,.54,5.551,5.869,5.869,0,0,0,2.575,2.121,5.846,5.846,0,0,0,5.551-.54,5.872,5.872,0,0,0,2.121-2.575,5.846,5.846,0,0,0-.54-5.551,5.87,5.87,0,0,0-2.575-2.121A5.818,5.818,0,0,0,8.5,2.647Z",transform:"translate(-18683 -1502)",fill:"#909090",opacity:.5}),l.a.createElement("path",{id:"Exclusion_7","data-name":"Exclusion 7",d:"M8.5,17a8.559,8.559,0,0,1-1.713-.173,8.452,8.452,0,0,1-3.039-1.279,8.524,8.524,0,0,1-3.08-3.74,8.455,8.455,0,0,1-.5-1.6,8.582,8.582,0,0,1,0-3.426,8.454,8.454,0,0,1,1.279-3.04A8.525,8.525,0,0,1,5.192.668a8.441,8.441,0,0,1,1.6-.5,8.582,8.582,0,0,1,3.426,0,8.452,8.452,0,0,1,3.039,1.279,8.524,8.524,0,0,1,3.08,3.74,8.459,8.459,0,0,1,.5,1.6,8.583,8.583,0,0,1,0,3.426,8.455,8.455,0,0,1-1.279,3.04,8.525,8.525,0,0,1-3.74,3.079,8.448,8.448,0,0,1-1.6.5A8.558,8.558,0,0,1,8.5,17Zm0-14.353a5.826,5.826,0,0,0-3.273,1A5.871,5.871,0,0,0,3.107,6.222a5.845,5.845,0,0,0,.54,5.551,5.869,5.869,0,0,0,2.575,2.121,5.846,5.846,0,0,0,5.551-.54,5.872,5.872,0,0,0,2.121-2.575,5.846,5.846,0,0,0-.54-5.551,5.87,5.87,0,0,0-2.575-2.121A5.818,5.818,0,0,0,8.5,2.647Z",transform:"translate(-18788 -1411)",fill:"#909090",opacity:.5}),l.a.createElement("g",{id:"Group_2635","data-name":"Group 2635",transform:"translate(-19752.715 -1958)"},l.a.createElement("g",{id:"Rectangle_1657","data-name":"Rectangle 1657",transform:"translate(1007.715 527)",fill:"#c1c1c1",stroke:"#c1c1c1",strokeWidth:1},l.a.createElement("rect",{width:171,height:31,rx:5,stroke:"none"}),l.a.createElement("rect",{x:.5,y:.5,width:170,height:30,rx:4.5,fill:"none"})),l.a.createElement("g",{id:"Rectangle_1658","data-name":"Rectangle 1658",transform:"translate(1007.715 570)",fill:"#c1c1c1",stroke:"#c1c1c1",strokeWidth:1},l.a.createElement("rect",{width:171,height:15,rx:5,stroke:"none"}),l.a.createElement("rect",{x:.5,y:.5,width:170,height:14,rx:4.5,fill:"none"})),l.a.createElement("g",{id:"Rectangle_1658-2","data-name":"Rectangle 1658",transform:"translate(1007.715 596)",fill:"#c1c1c1",stroke:"#c1c1c1",strokeWidth:1},l.a.createElement("rect",{width:171,height:15,rx:5,stroke:"none"}),l.a.createElement("rect",{x:.5,y:.5,width:170,height:14,rx:4.5,fill:"none"})),l.a.createElement("g",{id:"Rectangle_1658-3","data-name":"Rectangle 1658",transform:"translate(1007.715 623)",fill:"#c1c1c1",stroke:"#c1c1c1",strokeWidth:1},l.a.createElement("rect",{width:171,height:15,rx:5,stroke:"none"}),l.a.createElement("rect",{x:.5,y:.5,width:170,height:14,rx:4.5,fill:"none"})),l.a.createElement("g",{id:"Rectangle_1658-4","data-name":"Rectangle 1658",transform:"translate(1007.715 649)",fill:"#c1c1c1",stroke:"#c1c1c1",strokeWidth:1},l.a.createElement("rect",{width:171,height:15,rx:5,stroke:"none"}),l.a.createElement("rect",{x:.5,y:.5,width:170,height:14,rx:4.5,fill:"none"})))),Qa=function(e){var t=e.svgRef,a=e.title,r=$a(e,["svgRef","title"]);return l.a.createElement("svg",Xa({width:426.998,height:398.005,viewBox:"0 0 426.998 398.005",ref:t},r),a?l.a.createElement("title",null,a):null,Ja)},er=l.a.forwardRef((function(e,t){return l.a.createElement(Qa,Xa({svgRef:t},e))})),tr=(a.p,function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(_.a)(this,Object(g.a)(t).call(this,e))).state={is_list_view:e.isListView},a}return Object(b.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"table-empty-placeholder"},l.a.createElement(er,null),this.state.is_list_view?l.a.createElement(l.a.Fragment,null):l.a.createElement("span",null,l.a.createElement(tt,{resourceTag:"BLFlex.Span.SelectColumn"})))}}]),t}(i.Component)),ar=(a(850),function(e){function t(){return Object(f.a)(this,t),Object(_.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"oreport-dashlet"},l.a.createElement(mt,{chart_def:this.props.chart_def}),l.a.createElement($t,{hidden:!0}))}}]),t}(i.Component)),rr=function(e){function t(){var e,a;Object(f.a)(this,t);for(var r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];return(a=Object(_.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(i)))).state={show_modal_dashlet:!1},a.initialize=Object(o.a)(n.a.mark((function e(){var t,r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,t.fetchPreviewData,r=t.fetchMainConfig,e.next=3,r();case 3:case"end":return e.stop()}}),e)}))),a.toggleZoomDashlet=Object(o.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.props.is_create_edit){e.next=4;break}return e.next=3,a.props.setCurrentView("detail");case 3:a.props.fetchPreviewData();case 4:a.setState((function(e){return{show_modal_dashlet:!e.show_modal_dashlet}}));case 5:case"end":return e.stop()}}),e)}))),a}return Object(b.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this.props;e.fetchPreviewData,e.fetchMainConfig;this.initialize(),window["oreports_app_"+this.props.app_id+"_"+this.props.guid]=this}},{key:"render",value:function(){var e=this,t=this.props,a=t.chart_list,r=t.is_ajax,i=t.ajax_show_all,c=(t.is_list_view,null);if(a&&a.length>0){var s=Math.floor(12/a.length);c=a.map((function(e,t){return l.a.createElement(Ka,{key:t,size:s<4?4:s,chart_index:t,chart_def:e})}))}r&&(this.zoomChart=function(){e.toggleZoomDashlet()},this.editFromDashlet=function(){var t=Object(o.a)(n.a.mark((function t(a){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.setCurrentView("edit");case 2:e.props.fetchPreviewData(),e.setState((function(e){return{show_modal_dashlet:!e.show_modal_dashlet}}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());var u=l.a.createElement("div",null,this.props.is_list_view?l.a.createElement(l.a.Fragment,null):l.a.createElement(rt,null),l.a.createElement(jt,null),l.a.createElement(za,null),l.a.createElement(y.a,{onDragEnd:this.props.moveField,onDragStart:this.props.startDragging},l.a.createElement(v.a,{fluid:!0},c&&c.length>0?l.a.createElement(E.a,{className:"row-chart-container"},l.a.createElement("div",{className:"chart-container row"},c)):null,l.a.createElement(E.a,null,l.a.createElement(x.a,null,l.a.createElement("div",{className:"oreports-container"},l.a.createElement("div",{className:"oreports-body"},l.a.createElement(Ba,null),l.a.createElement("div",{className:"oreports-table"},this.props.columns&&this.props.columns.length>0?l.a.createElement($t,null):l.a.createElement(tr,{isListView:this.props.is_list_view})))))))));if(r){var d=this.props.detail_name?" - "+this.props.detail_name:"",p=l.a.createElement(O.a,{toggle:this.toggleZoomDashlet},l.a.createElement("i",{className:"fa fa-cog","aria-hidden":"true"})," Detalle",d);return this.props.is_create_edit&&(p=l.a.createElement(O.a,{close:l.a.createElement(l.a.Fragment,null),toggle:this.toggleZoomDashlet},l.a.createElement("div",{className:"dashlet-modal-header"},l.a.createElement("div",{className:"self-center"},l.a.createElement("i",{className:"fa fa-cog","aria-hidden":"true"})," Edici\xf3n",d),l.a.createElement("div",{className:"modal-header-buttons"},l.a.createElement(k.a,{className:"btn-icon",onClick:function(){e.props.toggleChartsModal()}},l.a.createElement("i",{className:"fa fa-pie-chart","aria-hidden":"true"})),l.a.createElement(k.a,{color:"primary",className:"oreports-primary-button",onClick:function(){e.props.save()}},"Guardar"),l.a.createElement(k.a,{color:"primary",onClick:function(){e.toggleZoomDashlet()}},"Cerrar"))))),l.a.createElement("div",null,!i&&a&&a.length>0?l.a.createElement(ar,{chart_def:a[0]}):u,l.a.createElement(w.a,{scrollable:!1,centered:!0,size:"lg",isOpen:this.state.show_modal_dashlet,toggle:this.toggleZoomDashlet,className:"root_oreports config-modal full-screen-modal"},p,l.a.createElement(F.a,null,u)))}return u}}]),t}(i.Component),nr=Object(u.b)((function(e){return{columns:e.general.columns,saving:e.general.saving,chart_list:e.general.chart_list,is_ajax:e.general.is_ajax,ajax_show_all:e.general.ajax_show_all,app_id:e.general.app_id,is_create_edit:e.general.is_create_edit,detail_name:e.general.detail_name,is_list_view:e.general.is_list_view,current_view:e.general.current_view,guid:e.general.guid}}),(function(e){return{moveField:function(){var t=Object(o.a)(n.a.mark((function t(a){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(G(!1)),e(z(a));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),startDragging:function(){e(G(!0))},fetchPreviewData:function(){e(Vt())},fetchMainConfig:function(){e((function(e,t){var a=t().general||{};e({type:"GET_CONFIG_PENDING"}),fetch("/api/BLFlex/GetConfig/",{method:"POST",credentials:"same-origin",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({id:a.id||0,bl_name_list:a.bl_name_list||"",viewdef_name:a.viewdef_name||""})}).then((function(e){return e.json()})).then((function(t){if(!1===t.status)throw t.message;try{"string"===typeof t.data.report_header_data.metadata&&(t.data.report_header_data.metadata=JSON.parse(t.data.report_header_data.metadata))}catch(a){console.log(a)}return e({type:"GET_CONFIG_SUCCESS",data:t.data}),e(Vt()),t.data})).catch((function(t){try{console.error(t),Ke.ShowError("Custom.Generic.Message.Error")}catch(a){console.error(a),Ke.ShowError("Custom.Generic.Message.Error")}e(H(t))}))}))},save:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e(Bt(t))},setEditListFlex:function(){e({type:"SET_EDIT_LIST_FLEX"})},setSearchListFlex:function(t){e(function(e){return{type:"SET_SEARCH_LIST_FLEX",filter:e}}(t))},toggleConfigModal:function(){e({type:"TOGGLE_CONFIG_MODAL"})},toggleChartsModal:function(t){e(U(t))},setCurrentView:function(t){e(function(e){return{type:"SET_CURRENT_VIEW",current_view:e}}(t))}}}))(rr);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function or(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function ir(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?or(a,!0).forEach((function(t){Object(ae.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):or(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var lr,cr=function(e,t){var a=t.destination,r=t.source;if(!a)return e;if(a.droppableId===r.droppableId&&a.index===r.index)return e;var n=D()(e),o=n[r.droppableId],i=r.droppableId===a.droppableId?o:n[a.droppableId],l=o[r.index];return o.splice(r.index,1),i.splice(a.index,0,l),n},sr=Object(d.combineReducers)({general:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=[],r={},n=e.columns_changed||[],o={};switch(t.type){case"ADD_FIELD":return(a=Object($e.a)(e[t.section])).push(t.field),r=t.field,(o=ir({},e))[t.section]=a,(i=n.map((function(e){return e.column.key_name})).indexOf(r.key_name))>-1?n[i].column.customFn?(n.splice(i,1),n.push({column:r,formula_changed:!0})):n.splice(i,1):n.push({column:r,formula_changed:!1}),o.columns_changed=n,o.report_header_data.select_list=o.columns,o;case"REMOVE_FIELD":var i;return r=(a=Object($e.a)(e[t.section]))[t.index],a.splice(t.index,1),(o=ir({},e))[t.section]=a,(i=n.map((function(e){return e.column.key_name})).indexOf(r.key_name))>-1?n.splice(i,1):n.push({column:r,formula_changed:!1}),o.columns_changed=n,o.report_header_data.select_list=o.columns,o;case"ADD_CHART":return(o=D()(e)).chart_list.push(t.chart_def),o;case"REMOVE_CHART":return(a=Object($e.a)(e.chart_list)).splice(t.index,1),(o=ir({},e)).chart_list=a,o;case"UPDATE_SECTION_ITEM":return(o=D()(e))[t.section][t.item_index][t.property]=t.value,o;case"SET_DRAGGING_FIELD":return ir({},e,{dragging:t.dragging});case"MOVE_FIELD":return cr(e,t.result);case"FETCH_PREVIEW_DATA_PENDING":return ir({},e,{loading:!0,timeout_data_id:t.timeout_id});case"FETCH_PREVIEW_DATA_SUCCESS":return ir({},e,{loading:!1,preview_data:t.data});case"FETCH_PREVIEW_DATA_ERROR":return ir({},e,{loading:!1,error:t.error});case"GET_CONFIG_PENDING":return ir({},e,{loading:!0});case"GET_CONFIG_SUCCESS":return ir({},e,{loading:!1,modules_list:t.data.modules_list,report_header_data:t.data.report_header_data,field_list:t.data.report_header_data.metadata&&t.data.report_header_data.metadata.field_list?t.data.report_header_data.metadata.field_list:[],detail_name:t.data.report_header_data.name&&t.data.report_header_data.name?t.data.report_header_data.name:"",columns:t.data.report_header_data.select_list&&t.data.report_header_data.select_list?t.data.report_header_data.select_list:[],filters:t.data.report_header_data.filter_list&&t.data.report_header_data.filter_list?t.data.report_header_data.filter_list:[],groups:t.data.report_header_data.group_list&&t.data.report_header_data.group_list?t.data.report_header_data.group_list:[],chart_list:t.data.report_header_data.chart_list&&t.data.report_header_data.chart_list?t.data.report_header_data.chart_list:[],delta:t.data.report_header_data.delta});case"GET_CONFIG_ERROR":return ir({},e,{loading:!1,error:t.error});case"SAVE_DATA_PENDING":return ir({},e,{saving:!0});case"SAVE_DATA_SUCCESS":return ir({},e,{saving:!1,id:t.data.id});case"SAVE_DATA_ERROR":return ir({},e,{saving:!1,error:t.error});case"SET_EDIT_LIST_FLEX":return ir({},e,{current_view:e.is_create_edit?"detail":"edit",is_create_edit:!e.is_create_edit});case"SET_SEARCH_LIST_FLEX":return ir({},e,{change_filter_search:!0,filter_search:t.filter});case"TOGGLE_CONFIG_MODAL":return ir({},e,{show_config_modal:!e.show_config_modal});case"TOGGLE_CHARTS_MODAL":return ir({},e,{show_charts_modal:!e.show_charts_modal,dashlet_id:t.dashlet_id?t.dashlet_id:e.dashlet_id});case"UPDATE_OBJECT_PROPERTY":return(o=D()(e))[t.object_name][t.property]=t.value,o;case"UPDATE_FIELD_LIST":return(o=ir({},e)).field_list=t.field_list,o;case"APPLY_TABLE_FILTER":var l=(a=D()(e.table_filters)).find((function(e){return!!(Array.isArray(e)&&e.length>0)&&e[0]===t.column}));return l&&3===l.length?(l[1]="=",l[2]=t.value):a.push([t.column,"=",t.value]),(o=ir({},e)).table_filters=a,o;case"SET_CHARTS_DATA":return(o=ir({},e)).charts_data=t.data,o;case"ZOOM_CHART":return(o=ir({},e)).zoomed_chart_def=t.chart_def,o;case"SET_EDIT_CHART_INDEX":return(o=ir({},e)).edit_chart_index=t.chart_index,o;case"EDIT_CHART":return(a=Object($e.a)(e.chart_list))[t.index]=t.chart_def,(o=ir({},e)).chart_list=a,o;case"SET_CURRENT_VIEW":return(o=ir({},e)).current_view=t.current_view,o.is_create_edit=-1!==["edit","create"].indexOf(t.current_view),o.preview_data=[],o.table_filters=[],o;case"SET_ORDER_COLUMNS":return ir({},e,{columns:e.columns.map((function(e){var a=ir({},e,{},{isSorter:!1,sortType:null});return t.column.name===a.name?ir({},a,{},t.values):a}))});default:return e}},modalFormula:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isOpen:!1,mode:"add",edit_mode_data:{},index:void 0},t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case"SET_IS_OPEN_MODAL_FORMULA":return ir({},e,{isOpen:r.isOpen});case"SET_MODE_MODAL_FORMULA":return ir({},e,{mode:r.mode});case"SET_EDIT_MODE_DATA_MODAL_FORMULA":return ir({},e,{edit_mode_data:r.edit_mode_data});case"SET_INDEX_MODAL_FORMULA":return ir({},e,{index:r.index});default:return e}}});a.d(t,"store",(function(){return lr})),window.mountOReportsReact=function(e){new ge.default("IndexDb").open().then(function(){var e=Object(o.a)(n.a.mark((function e(t){var a,r,o,i;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.table("Cultures").toCollection().first();case 2:return window.sdkFlexCulture=e.sent,a=window.sdkFlexCulture,r=a.id,o={},window.ResourceFlex[r]=o,e.next=9,t.table("ResourcesDetail").where({idCulture:r}).toArray();case 9:(i=e.sent)&&i.forEach((function(e){o[e.idResource]=e.description}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var t=document.getElementById(e),a=ye(t,"select_list",[]),r=ye(t,"chart_list",[]),i=ye(t,"filter_list",[]),c=t.getAttribute("base_obj_id")||"",f=t.getAttribute("current_user_id")||"",h=t.getAttribute("current_view")||"",_=ye(t,"groups",[]),g=ye(t,"modules",[]),b=ye(t,"teams",[]),y=ye(t,"users",[]),v=ye(t,"roles",[]),E=ye(t,"operator_list",[]),x=ye(t,"report_header_data",{}),O=ye(t,"chart_error",{}),k=ye(t,"is_ajax",!1),w=ye(t,"ajax_show_all",!1),F=t.getAttribute("current_record")||"",C=t.getAttribute("is_list_view"),j=t.getAttribute("bl_name_list"),D=t.getAttribute("viewdef_name"),S=t.getAttribute("guid_list_view"),T=t.getAttribute("can_edit_list_view"),A=t.getAttribute("can_delete_list_view"),M=ye(t,"columns_changed",[]),N=ye(t,"skip","0"),L=ye(t,"take","100"),P=t.getAttribute("server_pagination"),I=t.getAttribute("filter_search"),R=t.getAttribute("change_filter_search"),H=t.getAttribute("guid"),B=t.getAttribute("action_icons");x.visible_users=xe(x.visible_users),x.visible_roles=xe(x.visible_roles),x.metadata=function(e,t){try{return"string"===typeof e?JSON.parse(e)||t:e||t}catch(a){return console.log("error"),t}}(x.metadata,{}),x.owner_id||(x.owner_id=f),Ee(a),Ee(i),Ee(_);var q={general:{id:c,app_id:e,columns:a,groups:_,filters:i,modules_list:g,teams_list:b,users_list:y,roles_list:v,operator_list:E,report_header_data:x,field_list:x.metadata&&x.metadata.field_list?x.metadata.field_list:[],dragging:!1,loading:!1,preview_data:[],saving:!1,show_config_modal:!c,current_view:h,is_create_edit:-1!==["edit","create"].indexOf(h),chart_list:r,table_filters:[],charts_data:[],chart_error:O,is_ajax:k,ajax_show_all:w,zoomed_chart_def:{},current_record:F,detail_name:x.name&&x.name?x.name:"",is_list_view:"True"===C,bl_name_list:j,viewdef_name:D,guid_list_view:S,can_edit_list_view:"True"===T,can_delete_list_view:"True"===A,columns_changed:M,skip:parseInt(N),take:parseInt(L),server_pagination:"True"===P,filter_search:I,change_filter_search:"True"===R,guid:H,action_icons:JSON.parse(B)}},V=[m.a];lr=Object(d.createStore)(sr,q,Object(p.composeWithDevTools)(d.applyMiddleware.apply(void 0,V))),s.a.render(l.a.createElement(u.a,{store:lr},l.a.createElement(nr,null)),t)},window.unmountOReportsReact=function(e){document.getElementById(e);window.oreports_app_flexdebug=null},"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[508,1,2]]]);
//# sourceMappingURL=main.chunk.js.map